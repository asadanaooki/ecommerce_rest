[INFO] Scanning for projects...
[INFO] 
[INFO] ---------------------< com.example:ecommerce_rest >---------------------
[INFO] Building ecommerce_rest 0.0.1-SNAPSHOT
[INFO]   from pom.xml
[INFO] --------------------------------[ jar ]---------------------------------
[INFO] 
[INFO] --- resources:3.3.1:resources (default-resources) @ ecommerce_rest ---
[INFO] Copying 3 resources from src\main\resources to target\classes
[INFO] Copying 33 resources from src\main\resources to target\classes
[INFO] 
[INFO] --- compiler:3.14.0:compile (default-compile) @ ecommerce_rest ---
[INFO] Recompiling the module because of added or removed source files.
[INFO] Compiling 150 source files with javac [debug parameters release 17] to target\classes
[INFO] /C:/pleiades/2024-06/ecommerce/ecommerce_rest/src/main/java/com/example/dto/CartDto.java: 入力ファイルの操作のうち、未チェックまたは安全ではないものがあります。
[INFO] /C:/pleiades/2024-06/ecommerce/ecommerce_rest/src/main/java/com/example/dto/CartDto.java: 詳細は、-Xlint:uncheckedオプションを指定して再コンパイルしてください。
[INFO] 
[INFO] --- resources:3.3.1:testResources (default-testResources) @ ecommerce_rest ---
[INFO] Copying 17 resources from src\test\resources to target\test-classes
[INFO] 
[INFO] --- compiler:3.14.0:testCompile (default-testCompile) @ ecommerce_rest ---
[INFO] Recompiling the module because of changed dependency.
[INFO] Compiling 35 source files with javac [debug parameters release 17] to target\test-classes
[INFO] /C:/pleiades/2024-06/ecommerce/ecommerce_rest/src/test/java/com/example/mapper/CartMapperTest.java: 入力ファイルの操作のうち、未チェックまたは安全ではないものがあります。
[INFO] /C:/pleiades/2024-06/ecommerce/ecommerce_rest/src/test/java/com/example/mapper/CartMapperTest.java: 詳細は、-Xlint:uncheckedオプションを指定して再コンパイルしてください。
[INFO] 
[INFO] --- surefire:3.5.3:test (default-test) @ ecommerce_rest ---
[INFO] Using auto detected provider org.apache.maven.surefire.junitplatform.JUnitPlatformProvider
[INFO] 
[INFO] -------------------------------------------------------
[INFO]  T E S T S
[INFO] -------------------------------------------------------
[INFO] Running com.example.controller.admin.AdminOrderControllerTest
15:39:49.255 [main] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils -- Could not detect default configuration classes for test class [com.example.controller.admin.AdminOrderControllerTest]: AdminOrderControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
15:39:49.601 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper -- Found @SpringBootConfiguration com.example.EcommerceRestApplication for test class com.example.controller.admin.AdminOrderControllerTest
15:39:49.849 [main] INFO org.springframework.boot.devtools.restart.RestartApplicationListener -- Restart disabled due to context in which it is running

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/

 :: Spring Boot ::                (v3.5.0)

2025-09-02T15:39:50.659+09:00  INFO 19696 --- [ecommerce] [           main] c.e.c.admin.AdminOrderControllerTest     : Starting AdminOrderControllerTest using Java 23 with PID 19696 (started by kcrkn in C:\pleiades\2024-06\ecommerce\ecommerce_rest)
2025-09-02T15:39:50.662+09:00  INFO 19696 --- [ecommerce] [           main] c.e.c.admin.AdminOrderControllerTest     : The following 1 profile is active: "test"
Mockito is currently self-attaching to enable the inline-mock-maker. This will no longer work in future releases of the JDK. Please add Mockito as an agent to your build as described in Mockito's documentation: https://javadoc.io/doc/org.mockito/mockito-core/latest/org.mockito/org/mockito/Mockito.html#0.3
WARNING: A Java agent has been loaded dynamically (C:\Users\kcrkn\.m2\repository\net\bytebuddy\byte-buddy-agent\1.17.5\byte-buddy-agent-1.17.5.jar)
WARNING: If a serviceability tool is in use, please run with -XX:+EnableDynamicAgentLoading to hide this warning
WARNING: If a serviceability tool is not in use, please run with -Djdk.instrument.traceUsage for more information
WARNING: Dynamic loading of agents will be disallowed by default in a future release
Java HotSpot(TM) 64-Bit Server VM warning: Sharing is only supported for boot loader classes because bootstrap classpath has been appended
2025-09-02T15:39:55.828+09:00  WARN 19696 --- [ecommerce] [           main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: 3af73e32-695a-4581-a2d8-2de8a60aba75

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-09-02T15:39:55.842+09:00  INFO 19696 --- [ecommerce] [           main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-09-02T15:39:56.228+09:00  INFO 19696 --- [ecommerce] [           main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2025-09-02T15:39:56.229+09:00  INFO 19696 --- [ecommerce] [           main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-09-02T15:39:56.232+09:00  INFO 19696 --- [ecommerce] [           main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 3 ms
2025-09-02T15:39:56.323+09:00  INFO 19696 --- [ecommerce] [           main] c.e.c.admin.AdminOrderControllerTest     : Started AdminOrderControllerTest in 6.508 seconds (process running for 8.61)
[INFO] Tests run: 9, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 8.316 s -- in com.example.controller.admin.AdminOrderControllerTest
[INFO] Running com.example.controller.admin.AdminProductControllerTest
2025-09-02T15:39:57.376+09:00  INFO 19696 --- [ecommerce] [           main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.controller.admin.AdminProductControllerTest]: AdminProductControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-09-02T15:39:57.400+09:00  INFO 19696 --- [ecommerce] [           main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.EcommerceRestApplication for test class com.example.controller.admin.AdminProductControllerTest
[INFO] Running com.example.controller.admin.AdminProductControllerTest$Register
2025-09-02T15:39:57.420+09:00  INFO 19696 --- [ecommerce] [           main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.controller.admin.AdminProductControllerTest$Register]: Register does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-09-02T15:39:57.446+09:00  INFO 19696 --- [ecommerce] [           main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.EcommerceRestApplication for test class com.example.controller.admin.AdminProductControllerTest$Register
2025-09-02T15:39:57.461+09:00  INFO 19696 --- [ecommerce] [           main] o.s.b.d.r.RestartApplicationListener     : Restart disabled due to context in which it is running

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/

 :: Spring Boot ::                (v3.5.0)

2025-09-02T15:39:57.549+09:00  INFO 19696 --- [ecommerce] [           main] c.e.c.admin.AdminProductControllerTest   : Starting AdminProductControllerTest using Java 23 with PID 19696 (started by kcrkn in C:\pleiades\2024-06\ecommerce\ecommerce_rest)
2025-09-02T15:39:57.550+09:00  INFO 19696 --- [ecommerce] [           main] c.e.c.admin.AdminProductControllerTest   : The following 1 profile is active: "test"
2025-09-02T15:39:58.501+09:00  WARN 19696 --- [ecommerce] [           main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: 07853ce3-2885-4d7e-ae9e-9578bacee804

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-09-02T15:39:58.503+09:00  INFO 19696 --- [ecommerce] [           main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-09-02T15:39:58.536+09:00  INFO 19696 --- [ecommerce] [           main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2025-09-02T15:39:58.536+09:00  INFO 19696 --- [ecommerce] [           main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-09-02T15:39:58.537+09:00  INFO 19696 --- [ecommerce] [           main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2025-09-02T15:39:58.551+09:00  INFO 19696 --- [ecommerce] [           main] c.e.c.admin.AdminProductControllerTest   : Started AdminProductControllerTest in 1.091 seconds (process running for 10.837)
[INFO] Tests run: 11, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.523 s -- in com.example.controller.admin.AdminProductControllerTest$Register
[INFO] Running com.example.controller.admin.AdminProductControllerTest$SearchProducts
2025-09-02T15:39:58.938+09:00  INFO 19696 --- [ecommerce] [           main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.controller.admin.AdminProductControllerTest$SearchProducts]: SearchProducts does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-09-02T15:39:58.964+09:00  INFO 19696 --- [ecommerce] [           main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.EcommerceRestApplication for test class com.example.controller.admin.AdminProductControllerTest$SearchProducts
[INFO] Tests run: 14, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.336 s -- in com.example.controller.admin.AdminProductControllerTest$SearchProducts
[INFO] Tests run: 0, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.896 s -- in com.example.controller.admin.AdminProductControllerTest
[INFO] Running com.example.controller.admin.AdminReviewControllerTest
2025-09-02T15:39:59.279+09:00  INFO 19696 --- [ecommerce] [           main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.controller.admin.AdminReviewControllerTest]: AdminReviewControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-09-02T15:39:59.298+09:00  INFO 19696 --- [ecommerce] [           main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.EcommerceRestApplication for test class com.example.controller.admin.AdminReviewControllerTest
[INFO] Running com.example.controller.admin.AdminReviewControllerTest$Reject
2025-09-02T15:39:59.306+09:00  INFO 19696 --- [ecommerce] [           main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.controller.admin.AdminReviewControllerTest$Reject]: Reject does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-09-02T15:39:59.324+09:00  INFO 19696 --- [ecommerce] [           main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.EcommerceRestApplication for test class com.example.controller.admin.AdminReviewControllerTest$Reject
2025-09-02T15:39:59.337+09:00  INFO 19696 --- [ecommerce] [           main] o.s.b.d.r.RestartApplicationListener     : Restart disabled due to context in which it is running

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/

 :: Spring Boot ::                (v3.5.0)

2025-09-02T15:39:59.419+09:00  INFO 19696 --- [ecommerce] [           main] c.e.c.admin.AdminReviewControllerTest    : Starting AdminReviewControllerTest using Java 23 with PID 19696 (started by kcrkn in C:\pleiades\2024-06\ecommerce\ecommerce_rest)
2025-09-02T15:39:59.419+09:00  INFO 19696 --- [ecommerce] [           main] c.e.c.admin.AdminReviewControllerTest    : The following 1 profile is active: "test"
2025-09-02T15:40:00.295+09:00  WARN 19696 --- [ecommerce] [           main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: 8ddb91e1-9de0-4dec-be4c-89ce9eec3485

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-09-02T15:40:00.296+09:00  INFO 19696 --- [ecommerce] [           main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-09-02T15:40:00.328+09:00  INFO 19696 --- [ecommerce] [           main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2025-09-02T15:40:00.328+09:00  INFO 19696 --- [ecommerce] [           main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-09-02T15:40:00.329+09:00  INFO 19696 --- [ecommerce] [           main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2025-09-02T15:40:00.342+09:00  INFO 19696 --- [ecommerce] [           main] c.e.c.admin.AdminReviewControllerTest    : Started AdminReviewControllerTest in 1.006 seconds (process running for 12.629)
[INFO] Tests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.375 s -- in com.example.controller.admin.AdminReviewControllerTest$Reject
[INFO] Tests run: 0, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.402 s -- in com.example.controller.admin.AdminReviewControllerTest
[INFO] Running com.example.controller.AuthControllerTest
2025-09-02T15:40:00.695+09:00  INFO 19696 --- [ecommerce] [           main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.controller.AuthControllerTest]: AuthControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-09-02T15:40:00.766+09:00  INFO 19696 --- [ecommerce] [           main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.EcommerceRestApplication for test class com.example.controller.AuthControllerTest
2025-09-02T15:40:00.873+09:00  INFO 19696 --- [ecommerce] [           main] o.s.b.d.r.RestartApplicationListener     : Restart disabled due to context in which it is running

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/

 :: Spring Boot ::                (v3.5.0)

2025-09-02T15:40:00.943+09:00  INFO 19696 --- [ecommerce] [           main] c.example.controller.AuthControllerTest  : Starting AuthControllerTest using Java 23 with PID 19696 (started by kcrkn in C:\pleiades\2024-06\ecommerce\ecommerce_rest)
2025-09-02T15:40:00.944+09:00  INFO 19696 --- [ecommerce] [           main] c.example.controller.AuthControllerTest  : The following 1 profile is active: "test"
2025-09-02T15:40:01.850+09:00  WARN 19696 --- [ecommerce] [           main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: c47c3352-fe04-4a41-8c73-7ceb7250b9b5

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-09-02T15:40:01.852+09:00  INFO 19696 --- [ecommerce] [           main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-09-02T15:40:01.896+09:00  INFO 19696 --- [ecommerce] [           main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2025-09-02T15:40:01.896+09:00  INFO 19696 --- [ecommerce] [           main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-09-02T15:40:01.898+09:00  INFO 19696 --- [ecommerce] [           main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 2 ms
2025-09-02T15:40:01.914+09:00  INFO 19696 --- [ecommerce] [           main] c.example.controller.AuthControllerTest  : Started AuthControllerTest in 1.042 seconds (process running for 14.2)
[INFO] Running com.example.controller.AuthControllerTest$Register
2025-09-02T15:40:02.708+09:00  INFO 19696 --- [ecommerce] [           main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.controller.AuthControllerTest$Register]: Register does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-09-02T15:40:02.726+09:00  INFO 19696 --- [ecommerce] [           main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.EcommerceRestApplication for test class com.example.controller.AuthControllerTest$Register
[INFO] Tests run: 54, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.841 s -- in com.example.controller.AuthControllerTest$Register
[INFO] Tests run: 29, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 2.854 s -- in com.example.controller.AuthControllerTest
[INFO] Running com.example.controller.CartControllerTest
2025-09-02T15:40:03.560+09:00  INFO 19696 --- [ecommerce] [           main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.EcommerceRestApplication for test class com.example.controller.CartControllerTest
[INFO] Running com.example.controller.CartControllerTest$RemoveFromCart
2025-09-02T15:40:03.563+09:00  INFO 19696 --- [ecommerce] [           main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.controller.CartControllerTest$RemoveFromCart]: RemoveFromCart does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-09-02T15:40:03.577+09:00  INFO 19696 --- [ecommerce] [           main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.EcommerceRestApplication for test class com.example.controller.CartControllerTest$RemoveFromCart
[INFO] Running com.example.controller.CartControllerTest$RemoveFromCart$User
2025-09-02T15:40:03.582+09:00  INFO 19696 --- [ecommerce] [           main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.controller.CartControllerTest$RemoveFromCart$User]: User does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-09-02T15:40:03.598+09:00  INFO 19696 --- [ecommerce] [           main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.EcommerceRestApplication for test class com.example.controller.CartControllerTest$RemoveFromCart$User
2025-09-02T15:40:03.604+09:00  INFO 19696 --- [ecommerce] [           main] o.s.b.d.r.RestartApplicationListener     : Restart disabled due to context in which it is running

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/

 :: Spring Boot ::                (v3.5.0)

2025-09-02T15:40:03.663+09:00  INFO 19696 --- [ecommerce] [           main] c.example.controller.CartControllerTest  : Starting CartControllerTest using Java 23 with PID 19696 (started by kcrkn in C:\pleiades\2024-06\ecommerce\ecommerce_rest)
2025-09-02T15:40:03.664+09:00  INFO 19696 --- [ecommerce] [           main] c.example.controller.CartControllerTest  : The following 1 profile is active: "test"
2025-09-02T15:40:04.317+09:00  WARN 19696 --- [ecommerce] [           main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: 27b5cc61-16db-4169-8567-85e099502886

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-09-02T15:40:04.318+09:00  INFO 19696 --- [ecommerce] [           main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-09-02T15:40:04.345+09:00  INFO 19696 --- [ecommerce] [           main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2025-09-02T15:40:04.346+09:00  INFO 19696 --- [ecommerce] [           main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-09-02T15:40:04.347+09:00  INFO 19696 --- [ecommerce] [           main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2025-09-02T15:40:04.355+09:00  INFO 19696 --- [ecommerce] [           main] c.example.controller.CartControllerTest  : Started CartControllerTest in 0.752 seconds (process running for 16.643)
2025-09-02T15:40:04.363+09:00  INFO 19696 --- [ecommerce] [           main] o.s.b.d.r.RestartApplicationListener     : Restart disabled due to context in which it is running

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/

 :: Spring Boot ::                (v3.5.0)

2025-09-02T15:40:04.414+09:00  INFO 19696 --- [ecommerce] [           main] c.e.c.CartControllerTest$RemoveFromCart  : Starting CartControllerTest.RemoveFromCart using Java 23 with PID 19696 (started by kcrkn in C:\pleiades\2024-06\ecommerce\ecommerce_rest)
2025-09-02T15:40:04.414+09:00  INFO 19696 --- [ecommerce] [           main] c.e.c.CartControllerTest$RemoveFromCart  : The following 1 profile is active: "test"
2025-09-02T15:40:05.010+09:00  WARN 19696 --- [ecommerce] [           main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: 65185ff3-326c-4569-82be-fbdf0efa9b46

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-09-02T15:40:05.011+09:00  INFO 19696 --- [ecommerce] [           main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-09-02T15:40:05.026+09:00  INFO 19696 --- [ecommerce] [           main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2025-09-02T15:40:05.026+09:00  INFO 19696 --- [ecommerce] [           main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-09-02T15:40:05.027+09:00  INFO 19696 --- [ecommerce] [           main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2025-09-02T15:40:05.033+09:00  INFO 19696 --- [ecommerce] [           main] c.e.c.CartControllerTest$RemoveFromCart  : Started CartControllerTest.RemoveFromCart in 0.671 seconds (process running for 17.32)
[INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.531 s -- in com.example.controller.CartControllerTest$RemoveFromCart$User
[INFO] Running com.example.controller.CartControllerTest$RemoveFromCart$Guest
2025-09-02T15:40:05.115+09:00  INFO 19696 --- [ecommerce] [           main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.controller.CartControllerTest$RemoveFromCart$Guest]: Guest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-09-02T15:40:05.130+09:00  INFO 19696 --- [ecommerce] [           main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.EcommerceRestApplication for test class com.example.controller.CartControllerTest$RemoveFromCart$Guest
[INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.211 s -- in com.example.controller.CartControllerTest$RemoveFromCart$Guest
[INFO] Tests run: 0, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.763 s -- in com.example.controller.CartControllerTest$RemoveFromCart
[INFO] Running com.example.controller.CartControllerTest$ChangeQty
2025-09-02T15:40:05.328+09:00  INFO 19696 --- [ecommerce] [           main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.controller.CartControllerTest$ChangeQty]: ChangeQty does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-09-02T15:40:05.343+09:00  INFO 19696 --- [ecommerce] [           main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.EcommerceRestApplication for test class com.example.controller.CartControllerTest$ChangeQty
[INFO] Running com.example.controller.CartControllerTest$ChangeQty$User
2025-09-02T15:40:05.347+09:00  INFO 19696 --- [ecommerce] [           main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.controller.CartControllerTest$ChangeQty$User]: User does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-09-02T15:40:05.362+09:00  INFO 19696 --- [ecommerce] [           main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.EcommerceRestApplication for test class com.example.controller.CartControllerTest$ChangeQty$User
[INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.052 s -- in com.example.controller.CartControllerTest$ChangeQty$User
[INFO] Running com.example.controller.CartControllerTest$ChangeQty$Guest
2025-09-02T15:40:05.402+09:00  INFO 19696 --- [ecommerce] [           main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.controller.CartControllerTest$ChangeQty$Guest]: Guest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-09-02T15:40:05.424+09:00  INFO 19696 --- [ecommerce] [           main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.EcommerceRestApplication for test class com.example.controller.CartControllerTest$ChangeQty$Guest
[INFO] Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.083 s -- in com.example.controller.CartControllerTest$ChangeQty$Guest
[INFO] Tests run: 0, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.159 s -- in com.example.controller.CartControllerTest$ChangeQty
[INFO] Running com.example.controller.CartControllerTest$AddtoCart
2025-09-02T15:40:05.491+09:00  INFO 19696 --- [ecommerce] [           main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.controller.CartControllerTest$AddtoCart]: AddtoCart does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-09-02T15:40:05.509+09:00  INFO 19696 --- [ecommerce] [           main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.EcommerceRestApplication for test class com.example.controller.CartControllerTest$AddtoCart
[INFO] Running com.example.controller.CartControllerTest$AddtoCart$User
2025-09-02T15:40:05.514+09:00  INFO 19696 --- [ecommerce] [           main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.controller.CartControllerTest$AddtoCart$User]: User does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-09-02T15:40:05.529+09:00  INFO 19696 --- [ecommerce] [           main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.EcommerceRestApplication for test class com.example.controller.CartControllerTest$AddtoCart$User
[INFO] Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.155 s -- in com.example.controller.CartControllerTest$AddtoCart$User
[INFO] Running com.example.controller.CartControllerTest$AddtoCart$Guest
2025-09-02T15:40:05.672+09:00  INFO 19696 --- [ecommerce] [           main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.controller.CartControllerTest$AddtoCart$Guest]: Guest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-09-02T15:40:05.687+09:00  INFO 19696 --- [ecommerce] [           main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.EcommerceRestApplication for test class com.example.controller.CartControllerTest$AddtoCart$Guest
[INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.044 s -- in com.example.controller.CartControllerTest$AddtoCart$Guest
[INFO] Tests run: 0, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.225 s -- in com.example.controller.CartControllerTest$AddtoCart
[INFO] Running com.example.controller.CartControllerTest$ShowCart
2025-09-02T15:40:05.718+09:00  INFO 19696 --- [ecommerce] [           main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.controller.CartControllerTest$ShowCart]: ShowCart does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-09-02T15:40:05.733+09:00  INFO 19696 --- [ecommerce] [           main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.EcommerceRestApplication for test class com.example.controller.CartControllerTest$ShowCart
[INFO] Running com.example.controller.CartControllerTest$ShowCart$User
2025-09-02T15:40:05.737+09:00  INFO 19696 --- [ecommerce] [           main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.controller.CartControllerTest$ShowCart$User]: User does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-09-02T15:40:05.752+09:00  INFO 19696 --- [ecommerce] [           main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.EcommerceRestApplication for test class com.example.controller.CartControllerTest$ShowCart$User
[ERROR] Tests run: 3, Failures: 3, Errors: 0, Skipped: 0, Time elapsed: 0.089 s <<< FAILURE! -- in com.example.controller.CartControllerTest$ShowCart$User
[ERROR] com.example.controller.CartControllerTest$ShowCart$User.showCart_valid -- Time elapsed: 0.030 s <<< FAILURE!
java.lang.AssertionError: JSON path "$.totalQty" expected:<2> but was:<0>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:61)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:128)
	at org.springframework.test.util.JsonPathExpectationsHelper.assertValue(JsonPathExpectationsHelper.java:172)
	at org.springframework.test.web.servlet.result.JsonPathResultMatchers.lambda$value$2(JsonPathResultMatchers.java:112)
	at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:214)
	at com.example.controller.CartControllerTest$ShowCart$User.showCart_valid(CartControllerTest.java:149)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)

[ERROR] com.example.controller.CartControllerTest$ShowCart$User.showCart_absent -- Time elapsed: 0.012 s <<< FAILURE!
java.lang.AssertionError: No value at JSON path "$.totalPriceIncl"
	at org.springframework.test.util.JsonPathExpectationsHelper.evaluateJsonPath(JsonPathExpectationsHelper.java:351)
	at org.springframework.test.util.JsonPathExpectationsHelper.assertValue(JsonPathExpectationsHelper.java:148)
	at org.springframework.test.web.servlet.result.JsonPathResultMatchers.lambda$value$2(JsonPathResultMatchers.java:112)
	at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:214)
	at com.example.controller.CartControllerTest$ShowCart$User.showCart_absent(CartControllerTest.java:136)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
Caused by: com.jayway.jsonpath.PathNotFoundException: No results for path: $['totalPriceIncl']

[ERROR] com.example.controller.CartControllerTest$ShowCart$User.showCart_expired -- Time elapsed: 0.013 s <<< FAILURE!
java.lang.AssertionError: No value at JSON path "$.totalPriceIncl"
	at org.springframework.test.util.JsonPathExpectationsHelper.evaluateJsonPath(JsonPathExpectationsHelper.java:351)
	at org.springframework.test.util.JsonPathExpectationsHelper.assertValue(JsonPathExpectationsHelper.java:148)
	at org.springframework.test.web.servlet.result.JsonPathResultMatchers.lambda$value$2(JsonPathResultMatchers.java:112)
	at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:214)
	at com.example.controller.CartControllerTest$ShowCart$User.showCart_expired(CartControllerTest.java:165)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
Caused by: com.jayway.jsonpath.PathNotFoundException: No results for path: $['totalPriceIncl']

[INFO] Running com.example.controller.CartControllerTest$ShowCart$Guest
2025-09-02T15:40:05.827+09:00  INFO 19696 --- [ecommerce] [           main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.controller.CartControllerTest$ShowCart$Guest]: Guest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-09-02T15:40:05.842+09:00  INFO 19696 --- [ecommerce] [           main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.EcommerceRestApplication for test class com.example.controller.CartControllerTest$ShowCart$Guest
[ERROR] Tests run: 3, Failures: 3, Errors: 0, Skipped: 0, Time elapsed: 0.062 s <<< FAILURE! -- in com.example.controller.CartControllerTest$ShowCart$Guest
[ERROR] com.example.controller.CartControllerTest$ShowCart$Guest.showCart_valid -- Time elapsed: 0.016 s <<< FAILURE!
java.lang.AssertionError: JSON path "$.totalQty" expected:<2> but was:<0>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:61)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:128)
	at org.springframework.test.util.JsonPathExpectationsHelper.assertValue(JsonPathExpectationsHelper.java:172)
	at org.springframework.test.web.servlet.result.JsonPathResultMatchers.lambda$value$2(JsonPathResultMatchers.java:112)
	at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:214)
	at com.example.controller.CartControllerTest$ShowCart$Guest.showCart_valid(CartControllerTest.java:92)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)

[ERROR] com.example.controller.CartControllerTest$ShowCart$Guest.showCart_absent -- Time elapsed: 0.008 s <<< FAILURE!
java.lang.AssertionError: No value at JSON path "$.totalPriceIncl"
	at org.springframework.test.util.JsonPathExpectationsHelper.evaluateJsonPath(JsonPathExpectationsHelper.java:351)
	at org.springframework.test.util.JsonPathExpectationsHelper.assertValue(JsonPathExpectationsHelper.java:148)
	at org.springframework.test.web.servlet.result.JsonPathResultMatchers.lambda$value$2(JsonPathResultMatchers.java:112)
	at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:214)
	at com.example.controller.CartControllerTest$ShowCart$Guest.showCart_absent(CartControllerTest.java:81)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
Caused by: com.jayway.jsonpath.PathNotFoundException: No results for path: $['totalPriceIncl']

[ERROR] com.example.controller.CartControllerTest$ShowCart$Guest.showCart_expired -- Time elapsed: 0.010 s <<< FAILURE!
java.lang.AssertionError: No value at JSON path "$.totalPriceIncl"
	at org.springframework.test.util.JsonPathExpectationsHelper.evaluateJsonPath(JsonPathExpectationsHelper.java:351)
	at org.springframework.test.util.JsonPathExpectationsHelper.assertValue(JsonPathExpectationsHelper.java:148)
	at org.springframework.test.web.servlet.result.JsonPathResultMatchers.lambda$value$2(JsonPathResultMatchers.java:112)
	at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:214)
	at com.example.controller.CartControllerTest$ShowCart$Guest.showCart_expired(CartControllerTest.java:110)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
Caused by: com.jayway.jsonpath.PathNotFoundException: No results for path: $['totalPriceIncl']

[INFO] Tests run: 0, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.173 s -- in com.example.controller.CartControllerTest$ShowCart
[INFO] Tests run: 0, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 2.342 s -- in com.example.controller.CartControllerTest
[INFO] Running com.example.controller.InquiryControllerTest
2025-09-02T15:40:05.896+09:00  INFO 19696 --- [ecommerce] [           main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.controller.InquiryControllerTest]: InquiryControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-09-02T15:40:05.912+09:00  INFO 19696 --- [ecommerce] [           main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.EcommerceRestApplication for test class com.example.controller.InquiryControllerTest
2025-09-02T15:40:05.924+09:00  INFO 19696 --- [ecommerce] [           main] o.s.b.d.r.RestartApplicationListener     : Restart disabled due to context in which it is running

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/

 :: Spring Boot ::                (v3.5.0)

2025-09-02T15:40:05.976+09:00  INFO 19696 --- [ecommerce] [           main] c.e.controller.InquiryControllerTest     : Starting InquiryControllerTest using Java 23 with PID 19696 (started by kcrkn in C:\pleiades\2024-06\ecommerce\ecommerce_rest)
2025-09-02T15:40:05.976+09:00  INFO 19696 --- [ecommerce] [           main] c.e.controller.InquiryControllerTest     : The following 1 profile is active: "test"
2025-09-02T15:40:06.512+09:00  WARN 19696 --- [ecommerce] [           main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: c777133d-c4a5-4a99-b1b7-14ce06d148be

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-09-02T15:40:06.513+09:00  INFO 19696 --- [ecommerce] [           main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-09-02T15:40:06.531+09:00  INFO 19696 --- [ecommerce] [           main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2025-09-02T15:40:06.532+09:00  INFO 19696 --- [ecommerce] [           main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-09-02T15:40:06.532+09:00  INFO 19696 --- [ecommerce] [           main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2025-09-02T15:40:06.539+09:00  INFO 19696 --- [ecommerce] [           main] c.e.controller.InquiryControllerTest     : Started InquiryControllerTest in 0.616 seconds (process running for 18.825)
[INFO] Tests run: 24, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.879 s -- in com.example.controller.InquiryControllerTest
[INFO] Running com.example.controller.ReviewControllerTest
2025-09-02T15:40:06.777+09:00  INFO 19696 --- [ecommerce] [           main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.controller.ReviewControllerTest]: ReviewControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-09-02T15:40:06.788+09:00  INFO 19696 --- [ecommerce] [           main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.EcommerceRestApplication for test class com.example.controller.ReviewControllerTest
[INFO] Running com.example.controller.ReviewControllerTest$PostReview
2025-09-02T15:40:06.791+09:00  INFO 19696 --- [ecommerce] [           main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.controller.ReviewControllerTest$PostReview]: PostReview does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-09-02T15:40:06.799+09:00  INFO 19696 --- [ecommerce] [           main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.EcommerceRestApplication for test class com.example.controller.ReviewControllerTest$PostReview
2025-09-02T15:40:06.807+09:00  INFO 19696 --- [ecommerce] [           main] o.s.b.d.r.RestartApplicationListener     : Restart disabled due to context in which it is running

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/

 :: Spring Boot ::                (v3.5.0)

2025-09-02T15:40:06.841+09:00  INFO 19696 --- [ecommerce] [           main] c.e.controller.ReviewControllerTest      : Starting ReviewControllerTest using Java 23 with PID 19696 (started by kcrkn in C:\pleiades\2024-06\ecommerce\ecommerce_rest)
2025-09-02T15:40:06.842+09:00  INFO 19696 --- [ecommerce] [           main] c.e.controller.ReviewControllerTest      : The following 1 profile is active: "test"
2025-09-02T15:40:07.369+09:00  WARN 19696 --- [ecommerce] [           main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: 4b0cf78b-1a44-4488-9e61-3e8746d5f2bf

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-09-02T15:40:07.369+09:00  INFO 19696 --- [ecommerce] [           main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-09-02T15:40:07.387+09:00  INFO 19696 --- [ecommerce] [           main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2025-09-02T15:40:07.387+09:00  INFO 19696 --- [ecommerce] [           main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-09-02T15:40:07.388+09:00  INFO 19696 --- [ecommerce] [           main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2025-09-02T15:40:07.394+09:00  INFO 19696 --- [ecommerce] [           main] c.e.controller.ReviewControllerTest      : Started ReviewControllerTest in 0.588 seconds (process running for 19.68)
2025-09-02T15:40:07.453+09:00  WARN 19696 --- [ecommerce] [           main] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot coerce Floating-point value (4.5) to `java.lang.Integer` value (but could if coercion was enabled using `CoercionConfig`)]
[INFO] Tests run: 16, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.784 s -- in com.example.controller.ReviewControllerTest$PostReview
[INFO] Tests run: 0, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.800 s -- in com.example.controller.ReviewControllerTest
[INFO] Running com.example.EcommerceRestApplicationTests
2025-09-02T15:40:07.579+09:00  INFO 19696 --- [ecommerce] [           main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.EcommerceRestApplicationTests]: EcommerceRestApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-09-02T15:40:07.622+09:00  INFO 19696 --- [ecommerce] [           main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.EcommerceRestApplication for test class com.example.EcommerceRestApplicationTests
2025-09-02T15:40:07.631+09:00  INFO 19696 --- [ecommerce] [           main] o.s.b.d.r.RestartApplicationListener     : Restart disabled due to context in which it is running

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/

 :: Spring Boot ::                (v3.5.0)

2025-09-02T15:40:07.666+09:00  INFO 19696 --- [ecommerce] [           main] c.example.EcommerceRestApplicationTests  : Starting EcommerceRestApplicationTests using Java 23 with PID 19696 (started by kcrkn in C:\pleiades\2024-06\ecommerce\ecommerce_rest)
2025-09-02T15:40:07.667+09:00  INFO 19696 --- [ecommerce] [           main] c.example.EcommerceRestApplicationTests  : The following 1 profile is active: "test"
2025-09-02T15:40:09.639+09:00  INFO 19696 --- [ecommerce] [           main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-09-02T15:40:10.384+09:00  INFO 19696 --- [ecommerce] [           main] c.example.EcommerceRestApplicationTests  : Started EcommerceRestApplicationTests in 2.753 seconds (process running for 22.67)
2025-09-02T15:40:10.645+09:00  INFO 19696 --- [ecommerce] [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-09-02T15:40:11.556+09:00  INFO 19696 --- [ecommerce] [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6b05199c
2025-09-02T15:40:11.558+09:00  INFO 19696 --- [ecommerce] [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-09-02T15:40:11.649+09:00  INFO 19696 --- [ecommerce] [           main] org.flywaydb.core.FlywayExecutor         : Database: jdbc:mysql://localhost:3306/ecommerce_test (MySQL 8.4)
2025-09-02T15:40:11.666+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:40:11.727+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully dropped pre-schema database level objects (execution time 00:00.003s)
2025-09-02T15:40:12.127+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully cleaned schema `ecommerce_test` (execution time 00:00.396s)
2025-09-02T15:40:12.138+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully cleaned schema `ecommerce_test` (execution time 00:00.010s)
2025-09-02T15:40:12.140+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully dropped post-schema database level objects (execution time 00:00.001s)
2025-09-02T15:40:12.181+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:40:12.196+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Repair of failed migration in Schema History table `ecommerce_test`.`flyway_schema_history` not necessary as table doesn't exist.
2025-09-02T15:40:12.246+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Schema history table `ecommerce_test`.`flyway_schema_history` does not exist yet
2025-09-02T15:40:12.254+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbRepair       : Successfully repaired schema history table `ecommerce_test`.`flyway_schema_history` (execution time 00:00.064s).
2025-09-02T15:40:12.274+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:40:12.290+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Schema history table `ecommerce_test`.`flyway_schema_history` does not exist yet
2025-09-02T15:40:12.293+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbValidate     : Successfully validated 14 migrations (execution time 00:00.015s)
2025-09-02T15:40:12.315+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Creating Schema History table `ecommerce_test`.`flyway_schema_history` ...
2025-09-02T15:40:12.408+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Current version of schema `ecommerce_test`: << Empty Schema >>
2025-09-02T15:40:12.444+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "1 - init"
2025-09-02T15:40:13.529+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.product' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:13.536+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.user' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:13.543+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.favorite' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:13.550+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.review' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:13.557+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.cart' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:13.564+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.cart_item' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:13.571+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.pre_registration' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:13.577+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.order' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:13.583+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.order_item' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:13.589+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.review' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:13.595+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.password_reset_token' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:14.276+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "1.1 - seed data"
2025-09-02T15:40:14.332+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "2 - remove cart version"
2025-09-02T15:40:14.417+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "3 - add ttl days to cart"
2025-09-02T15:40:14.672+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "4 - rename prices and update view"
2025-09-02T15:40:14.897+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "5 - update shipping and order status"
2025-09-02T15:40:14.967+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "6 - add review status and reject columns"
2025-09-02T15:40:15.138+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "7 - add product version and trigger"
2025-09-02T15:40:15.196+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Trigger does not exist (SQL State: HY000 - Error Code: 1360)
2025-09-02T15:40:15.232+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "8 - add check stock gte reserved"
2025-09-02T15:40:15.345+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "9 - add shipping and grand total"
2025-09-02T15:40:15.699+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "10 - tweak grand total column position"
2025-09-02T15:40:15.765+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "11 - cart item tweak column position"
2025-09-02T15:40:15.933+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "12 - order item subtotal incl generated"
2025-09-02T15:40:16.060+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` with repeatable migration "views"
2025-09-02T15:40:16.095+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Successfully applied 14 migrations to schema `ecommerce_test`, now at version v12 (execution time 00:03.313s)
[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 8.525 s -- in com.example.EcommerceRestApplicationTests
[INFO] Running com.example.feature.order.OrderTransitionGuardTest
[INFO] Running com.example.feature.order.OrderTransitionGuardTest$TerminalGuard
[INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.007 s -- in com.example.feature.order.OrderTransitionGuardTest$TerminalGuard
[INFO] Running com.example.feature.order.OrderTransitionGuardTest$Delivered
[INFO] Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.014 s -- in com.example.feature.order.OrderTransitionGuardTest$Delivered
[INFO] Running com.example.feature.order.OrderTransitionGuardTest$Ship
[INFO] Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.010 s -- in com.example.feature.order.OrderTransitionGuardTest$Ship
[INFO] Running com.example.feature.order.OrderTransitionGuardTest$ApproveCancel
[INFO] Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.011 s -- in com.example.feature.order.OrderTransitionGuardTest$ApproveCancel
[INFO] Running com.example.feature.order.OrderTransitionGuardTest$RequestCancel
[INFO] Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.011 s -- in com.example.feature.order.OrderTransitionGuardTest$RequestCancel
[INFO] Tests run: 0, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.060 s -- in com.example.feature.order.OrderTransitionGuardTest
[INFO] Running com.example.feature.review.ReviewTransitionGuardTest
[INFO] Tests run: 9, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.033 s -- in com.example.feature.review.ReviewTransitionGuardTest
[INFO] Running com.example.mapper.admin.AdminDashboardMapperTest
2025-09-02T15:40:16.205+09:00  INFO 19696 --- [ecommerce] [           main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.mapper.admin.AdminDashboardMapperTest]: AdminDashboardMapperTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-09-02T15:40:16.324+09:00  INFO 19696 --- [ecommerce] [           main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.EcommerceRestApplication for test class com.example.mapper.admin.AdminDashboardMapperTest
2025-09-02T15:40:16.329+09:00  INFO 19696 --- [ecommerce] [           main] o.s.b.d.r.RestartApplicationListener     : Restart disabled due to context in which it is running

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/

 :: Spring Boot ::                (v3.5.0)

2025-09-02T15:40:16.389+09:00  INFO 19696 --- [ecommerce] [           main] c.e.m.admin.AdminDashboardMapperTest     : Starting AdminDashboardMapperTest using Java 23 with PID 19696 (started by kcrkn in C:\pleiades\2024-06\ecommerce\ecommerce_rest)
2025-09-02T15:40:16.389+09:00  INFO 19696 --- [ecommerce] [           main] c.e.m.admin.AdminDashboardMapperTest     : The following 1 profile is active: "test"
2025-09-02T15:40:17.045+09:00  INFO 19696 --- [ecommerce] [           main] c.e.m.admin.AdminDashboardMapperTest     : Started AdminDashboardMapperTest in 0.717 seconds (process running for 29.332)
2025-09-02T15:40:17.078+09:00  INFO 19696 --- [ecommerce] [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2025-09-02T15:40:17.103+09:00  INFO 19696 --- [ecommerce] [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@13a984b0
2025-09-02T15:40:17.104+09:00  INFO 19696 --- [ecommerce] [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2025-09-02T15:40:17.112+09:00  INFO 19696 --- [ecommerce] [           main] org.flywaydb.core.FlywayExecutor         : Database: jdbc:mysql://localhost:3306/ecommerce_test (MySQL 8.4)
2025-09-02T15:40:17.122+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:40:17.137+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully dropped pre-schema database level objects (execution time 00:00.001s)
2025-09-02T15:40:17.497+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully cleaned schema `ecommerce_test` (execution time 00:00.358s)
2025-09-02T15:40:17.507+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully cleaned schema `ecommerce_test` (execution time 00:00.009s)
2025-09-02T15:40:17.509+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully dropped post-schema database level objects (execution time 00:00.000s)
2025-09-02T15:40:17.522+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:40:17.528+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Repair of failed migration in Schema History table `ecommerce_test`.`flyway_schema_history` not necessary as table doesn't exist.
2025-09-02T15:40:17.540+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Schema history table `ecommerce_test`.`flyway_schema_history` does not exist yet
2025-09-02T15:40:17.542+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbRepair       : Successfully repaired schema history table `ecommerce_test`.`flyway_schema_history` (execution time 00:00.018s).
2025-09-02T15:40:17.562+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:40:17.581+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Schema history table `ecommerce_test`.`flyway_schema_history` does not exist yet
2025-09-02T15:40:17.583+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbValidate     : Successfully validated 14 migrations (execution time 00:00.017s)
2025-09-02T15:40:17.600+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Creating Schema History table `ecommerce_test`.`flyway_schema_history` ...
2025-09-02T15:40:17.722+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Current version of schema `ecommerce_test`: << Empty Schema >>
2025-09-02T15:40:17.731+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "1 - init"
2025-09-02T15:40:17.738+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.product' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:17.743+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.user' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:17.749+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.favorite' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:17.755+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.review' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:17.762+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.cart' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:17.768+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.cart_item' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:17.774+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.pre_registration' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:17.783+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.order' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:17.789+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.order_item' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:17.795+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.review' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:17.804+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.password_reset_token' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:18.327+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "1.1 - seed data"
2025-09-02T15:40:18.366+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "2 - remove cart version"
2025-09-02T15:40:18.446+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "3 - add ttl days to cart"
2025-09-02T15:40:18.604+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "4 - rename prices and update view"
2025-09-02T15:40:18.834+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "5 - update shipping and order status"
2025-09-02T15:40:18.912+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "6 - add review status and reject columns"
2025-09-02T15:40:19.069+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "7 - add product version and trigger"
2025-09-02T15:40:19.115+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Trigger does not exist (SQL State: HY000 - Error Code: 1360)
2025-09-02T15:40:19.161+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "8 - add check stock gte reserved"
2025-09-02T15:40:19.290+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "9 - add shipping and grand total"
2025-09-02T15:40:19.589+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "10 - tweak grand total column position"
2025-09-02T15:40:19.621+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "11 - cart item tweak column position"
2025-09-02T15:40:19.749+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "12 - order item subtotal incl generated"
2025-09-02T15:40:19.891+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` with repeatable migration "views"
2025-09-02T15:40:19.917+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Successfully applied 14 migrations to schema `ecommerce_test`, now at version v12 (execution time 00:01.916s)
[INFO] Running com.example.mapper.admin.AdminDashboardMapperTest$AggDaily
2025-09-02T15:40:19.922+09:00  INFO 19696 --- [ecommerce] [           main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.mapper.admin.AdminDashboardMapperTest$AggDaily]: AggDaily does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-09-02T15:40:19.925+09:00  INFO 19696 --- [ecommerce] [           main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.EcommerceRestApplication for test class com.example.mapper.admin.AdminDashboardMapperTest$AggDaily
2025-09-02T15:40:19.938+09:00  INFO 19696 --- [ecommerce] [           main] org.flywaydb.core.FlywayExecutor         : Database: jdbc:mysql://localhost:3306/ecommerce_test (MySQL 8.4)
2025-09-02T15:40:19.943+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:40:19.949+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully dropped pre-schema database level objects (execution time 00:00.000s)
2025-09-02T15:40:20.252+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully cleaned schema `ecommerce_test` (execution time 00:00.301s)
2025-09-02T15:40:20.257+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully cleaned schema `ecommerce_test` (execution time 00:00.004s)
2025-09-02T15:40:20.257+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully dropped post-schema database level objects (execution time 00:00.000s)
2025-09-02T15:40:20.262+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:40:20.264+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Repair of failed migration in Schema History table `ecommerce_test`.`flyway_schema_history` not necessary as table doesn't exist.
2025-09-02T15:40:20.270+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Schema history table `ecommerce_test`.`flyway_schema_history` does not exist yet
2025-09-02T15:40:20.271+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbRepair       : Successfully repaired schema history table `ecommerce_test`.`flyway_schema_history` (execution time 00:00.007s).
2025-09-02T15:40:20.277+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:40:20.285+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Schema history table `ecommerce_test`.`flyway_schema_history` does not exist yet
2025-09-02T15:40:20.285+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbValidate     : Successfully validated 14 migrations (execution time 00:00.008s)
2025-09-02T15:40:20.294+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Creating Schema History table `ecommerce_test`.`flyway_schema_history` ...
2025-09-02T15:40:20.355+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Current version of schema `ecommerce_test`: << Empty Schema >>
2025-09-02T15:40:20.360+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "1 - init"
2025-09-02T15:40:20.369+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.product' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:20.374+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.user' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:20.379+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.favorite' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:20.385+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.review' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:20.390+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.cart' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:20.394+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.cart_item' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:20.399+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.pre_registration' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:20.405+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.order' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:20.412+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.order_item' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:20.417+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.review' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:20.422+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.password_reset_token' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:20.886+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "1.1 - seed data"
2025-09-02T15:40:20.915+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "2 - remove cart version"
2025-09-02T15:40:20.987+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "3 - add ttl days to cart"
2025-09-02T15:40:21.115+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "4 - rename prices and update view"
2025-09-02T15:40:21.357+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "5 - update shipping and order status"
2025-09-02T15:40:21.418+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "6 - add review status and reject columns"
2025-09-02T15:40:21.594+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "7 - add product version and trigger"
2025-09-02T15:40:21.623+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Trigger does not exist (SQL State: HY000 - Error Code: 1360)
2025-09-02T15:40:21.645+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "8 - add check stock gte reserved"
2025-09-02T15:40:21.779+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "9 - add shipping and grand total"
2025-09-02T15:40:22.043+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "10 - tweak grand total column position"
2025-09-02T15:40:22.086+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "11 - cart item tweak column position"
2025-09-02T15:40:22.217+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "12 - order item subtotal incl generated"
2025-09-02T15:40:22.323+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` with repeatable migration "views"
2025-09-02T15:40:22.351+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Successfully applied 14 migrations to schema `ecommerce_test`, now at version v12 (execution time 00:01.766s)
[ERROR] Tests run: 5, Failures: 0, Errors: 5, Skipped: 0, Time elapsed: 2.523 s <<< FAILURE! -- in com.example.mapper.admin.AdminDashboardMapperTest$AggDaily
[ERROR] com.example.mapper.admin.AdminDashboardMapperTest$AggDaily.aggDaily_normal -- Time elapsed: 0.037 s <<< ERROR!
java.lang.NullPointerException: Cannot invoke "java.time.LocalDateTime.getYear()" because "dateTime" is null
	at java.sql/java.sql.Timestamp.valueOf(Timestamp.java:498)
	at com.example.testUtil.TestDataFactory.createOrder(TestDataFactory.java:294)
	at com.example.mapper.admin.AdminDashboardMapperTest$AggDaily.setup(AdminDashboardMapperTest.java:200)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)

[ERROR] com.example.mapper.admin.AdminDashboardMapperTest$AggDaily.aggDaily_boundaries(LocalDateTime, boolean)[1] -- Time elapsed: 0.011 s <<< ERROR!
java.lang.NullPointerException: Cannot invoke "java.time.LocalDateTime.getYear()" because "dateTime" is null
	at java.sql/java.sql.Timestamp.valueOf(Timestamp.java:498)
	at com.example.testUtil.TestDataFactory.createOrder(TestDataFactory.java:294)
	at com.example.mapper.admin.AdminDashboardMapperTest$AggDaily.setup(AdminDashboardMapperTest.java:200)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:807)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)

[ERROR] com.example.mapper.admin.AdminDashboardMapperTest$AggDaily.aggDaily_boundaries(LocalDateTime, boolean)[2] -- Time elapsed: 0.009 s <<< ERROR!
java.lang.NullPointerException: Cannot invoke "java.time.LocalDateTime.getYear()" because "dateTime" is null
	at java.sql/java.sql.Timestamp.valueOf(Timestamp.java:498)
	at com.example.testUtil.TestDataFactory.createOrder(TestDataFactory.java:294)
	at com.example.mapper.admin.AdminDashboardMapperTest$AggDaily.setup(AdminDashboardMapperTest.java:200)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:807)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)

[ERROR] com.example.mapper.admin.AdminDashboardMapperTest$AggDaily.aggDaily_boundaries(LocalDateTime, boolean)[3] -- Time elapsed: 0.008 s <<< ERROR!
java.lang.NullPointerException: Cannot invoke "java.time.LocalDateTime.getYear()" because "dateTime" is null
	at java.sql/java.sql.Timestamp.valueOf(Timestamp.java:498)
	at com.example.testUtil.TestDataFactory.createOrder(TestDataFactory.java:294)
	at com.example.mapper.admin.AdminDashboardMapperTest$AggDaily.setup(AdminDashboardMapperTest.java:200)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:807)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)

[ERROR] com.example.mapper.admin.AdminDashboardMapperTest$AggDaily.aggDaily_boundaries(LocalDateTime, boolean)[4] -- Time elapsed: 0.013 s <<< ERROR!
java.lang.NullPointerException: Cannot invoke "java.time.LocalDateTime.getYear()" because "dateTime" is null
	at java.sql/java.sql.Timestamp.valueOf(Timestamp.java:498)
	at com.example.testUtil.TestDataFactory.createOrder(TestDataFactory.java:294)
	at com.example.mapper.admin.AdminDashboardMapperTest$AggDaily.setup(AdminDashboardMapperTest.java:200)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:807)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)

[INFO] Running com.example.mapper.admin.AdminDashboardMapperTest$AggTodayHourly
2025-09-02T15:40:22.450+09:00  INFO 19696 --- [ecommerce] [           main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.mapper.admin.AdminDashboardMapperTest$AggTodayHourly]: AggTodayHourly does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-09-02T15:40:22.467+09:00  INFO 19696 --- [ecommerce] [           main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.EcommerceRestApplication for test class com.example.mapper.admin.AdminDashboardMapperTest$AggTodayHourly
2025-09-02T15:40:22.493+09:00  INFO 19696 --- [ecommerce] [           main] org.flywaydb.core.FlywayExecutor         : Database: jdbc:mysql://localhost:3306/ecommerce_test (MySQL 8.4)
2025-09-02T15:40:22.499+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:40:22.508+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully dropped pre-schema database level objects (execution time 00:00.001s)
2025-09-02T15:40:22.854+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully cleaned schema `ecommerce_test` (execution time 00:00.344s)
2025-09-02T15:40:22.861+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully cleaned schema `ecommerce_test` (execution time 00:00.006s)
2025-09-02T15:40:22.862+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully dropped post-schema database level objects (execution time 00:00.000s)
2025-09-02T15:40:22.872+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:40:22.875+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Repair of failed migration in Schema History table `ecommerce_test`.`flyway_schema_history` not necessary as table doesn't exist.
2025-09-02T15:40:22.882+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Schema history table `ecommerce_test`.`flyway_schema_history` does not exist yet
2025-09-02T15:40:22.883+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbRepair       : Successfully repaired schema history table `ecommerce_test`.`flyway_schema_history` (execution time 00:00.010s).
2025-09-02T15:40:22.892+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:40:22.901+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Schema history table `ecommerce_test`.`flyway_schema_history` does not exist yet
2025-09-02T15:40:22.902+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbValidate     : Successfully validated 14 migrations (execution time 00:00.008s)
2025-09-02T15:40:22.913+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Creating Schema History table `ecommerce_test`.`flyway_schema_history` ...
2025-09-02T15:40:22.985+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Current version of schema `ecommerce_test`: << Empty Schema >>
2025-09-02T15:40:22.989+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "1 - init"
2025-09-02T15:40:22.994+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.product' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:22.998+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.user' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:23.002+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.favorite' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:23.006+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.review' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:23.010+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.cart' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:23.019+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.cart_item' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:23.025+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.pre_registration' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:23.030+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.order' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:23.035+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.order_item' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:23.040+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.review' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:23.046+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.password_reset_token' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:23.498+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "1.1 - seed data"
2025-09-02T15:40:23.543+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "2 - remove cart version"
2025-09-02T15:40:23.665+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "3 - add ttl days to cart"
2025-09-02T15:40:23.822+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "4 - rename prices and update view"
2025-09-02T15:40:24.139+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "5 - update shipping and order status"
2025-09-02T15:40:24.240+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "6 - add review status and reject columns"
2025-09-02T15:40:24.392+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "7 - add product version and trigger"
2025-09-02T15:40:24.436+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Trigger does not exist (SQL State: HY000 - Error Code: 1360)
2025-09-02T15:40:24.462+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "8 - add check stock gte reserved"
2025-09-02T15:40:24.598+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "9 - add shipping and grand total"
2025-09-02T15:40:24.935+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "10 - tweak grand total column position"
2025-09-02T15:40:24.982+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "11 - cart item tweak column position"
2025-09-02T15:40:25.126+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "12 - order item subtotal incl generated"
2025-09-02T15:40:25.244+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` with repeatable migration "views"
2025-09-02T15:40:25.271+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Successfully applied 14 migrations to schema `ecommerce_test`, now at version v12 (execution time 00:01.975s)
[ERROR] Tests run: 5, Failures: 0, Errors: 5, Skipped: 0, Time elapsed: 2.877 s <<< FAILURE! -- in com.example.mapper.admin.AdminDashboardMapperTest$AggTodayHourly
[ERROR] com.example.mapper.admin.AdminDashboardMapperTest$AggTodayHourly.aggTodayHourly_boundaries(LocalDateTime, boolean)[1] -- Time elapsed: 0.009 s <<< ERROR!
java.lang.NullPointerException: Cannot invoke "java.time.LocalDateTime.getYear()" because "dateTime" is null
	at java.sql/java.sql.Timestamp.valueOf(Timestamp.java:498)
	at com.example.testUtil.TestDataFactory.createOrder(TestDataFactory.java:294)
	at com.example.mapper.admin.AdminDashboardMapperTest$AggTodayHourly.aggTodayHourly_boundaries(AdminDashboardMapperTest.java:162)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:807)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)

[ERROR] com.example.mapper.admin.AdminDashboardMapperTest$AggTodayHourly.aggTodayHourly_boundaries(LocalDateTime, boolean)[2] -- Time elapsed: 0.009 s <<< ERROR!
java.lang.NullPointerException: Cannot invoke "java.time.LocalDateTime.getYear()" because "dateTime" is null
	at java.sql/java.sql.Timestamp.valueOf(Timestamp.java:498)
	at com.example.testUtil.TestDataFactory.createOrder(TestDataFactory.java:294)
	at com.example.mapper.admin.AdminDashboardMapperTest$AggTodayHourly.aggTodayHourly_boundaries(AdminDashboardMapperTest.java:162)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:807)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)

[ERROR] com.example.mapper.admin.AdminDashboardMapperTest$AggTodayHourly.aggTodayHourly_boundaries(LocalDateTime, boolean)[3] -- Time elapsed: 0.008 s <<< ERROR!
java.lang.NullPointerException: Cannot invoke "java.time.LocalDateTime.getYear()" because "dateTime" is null
	at java.sql/java.sql.Timestamp.valueOf(Timestamp.java:498)
	at com.example.testUtil.TestDataFactory.createOrder(TestDataFactory.java:294)
	at com.example.mapper.admin.AdminDashboardMapperTest$AggTodayHourly.aggTodayHourly_boundaries(AdminDashboardMapperTest.java:162)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:807)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)

[ERROR] com.example.mapper.admin.AdminDashboardMapperTest$AggTodayHourly.aggTodayHourly_boundaries(LocalDateTime, boolean)[4] -- Time elapsed: 0.009 s <<< ERROR!
java.lang.NullPointerException: Cannot invoke "java.time.LocalDateTime.getYear()" because "dateTime" is null
	at java.sql/java.sql.Timestamp.valueOf(Timestamp.java:498)
	at com.example.testUtil.TestDataFactory.createOrder(TestDataFactory.java:294)
	at com.example.mapper.admin.AdminDashboardMapperTest$AggTodayHourly.aggTodayHourly_boundaries(AdminDashboardMapperTest.java:162)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:807)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)

[ERROR] com.example.mapper.admin.AdminDashboardMapperTest$AggTodayHourly.aggTodayHourly_normal -- Time elapsed: 0.009 s <<< ERROR!
java.lang.NullPointerException: Cannot invoke "java.time.LocalDateTime.getYear()" because "dateTime" is null
	at java.sql/java.sql.Timestamp.valueOf(Timestamp.java:498)
	at com.example.testUtil.TestDataFactory.createOrder(TestDataFactory.java:294)
	at com.example.mapper.admin.AdminDashboardMapperTest$AggTodayHourly.aggTodayHourly_normal(AdminDashboardMapperTest.java:64)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)

[INFO] Tests run: 0, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 9.125 s -- in com.example.mapper.admin.AdminDashboardMapperTest
[INFO] Running com.example.mapper.admin.AdminInventoryMapperTest
2025-09-02T15:40:25.329+09:00  INFO 19696 --- [ecommerce] [           main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.mapper.admin.AdminInventoryMapperTest]: AdminInventoryMapperTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-09-02T15:40:25.341+09:00  INFO 19696 --- [ecommerce] [           main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.EcommerceRestApplication for test class com.example.mapper.admin.AdminInventoryMapperTest
2025-09-02T15:40:25.365+09:00  INFO 19696 --- [ecommerce] [           main] org.flywaydb.core.FlywayExecutor         : Database: jdbc:mysql://localhost:3306/ecommerce_test (MySQL 8.4)
2025-09-02T15:40:25.370+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:40:25.378+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully dropped pre-schema database level objects (execution time 00:00.000s)
2025-09-02T15:40:25.708+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully cleaned schema `ecommerce_test` (execution time 00:00.329s)
2025-09-02T15:40:25.712+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully cleaned schema `ecommerce_test` (execution time 00:00.004s)
2025-09-02T15:40:25.713+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully dropped post-schema database level objects (execution time 00:00.000s)
2025-09-02T15:40:25.719+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:40:25.721+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Repair of failed migration in Schema History table `ecommerce_test`.`flyway_schema_history` not necessary as table doesn't exist.
2025-09-02T15:40:25.727+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Schema history table `ecommerce_test`.`flyway_schema_history` does not exist yet
2025-09-02T15:40:25.727+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbRepair       : Successfully repaired schema history table `ecommerce_test`.`flyway_schema_history` (execution time 00:00.008s).
2025-09-02T15:40:25.734+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:40:25.744+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Schema history table `ecommerce_test`.`flyway_schema_history` does not exist yet
2025-09-02T15:40:25.745+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbValidate     : Successfully validated 14 migrations (execution time 00:00.009s)
2025-09-02T15:40:25.753+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Creating Schema History table `ecommerce_test`.`flyway_schema_history` ...
2025-09-02T15:40:25.843+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Current version of schema `ecommerce_test`: << Empty Schema >>
2025-09-02T15:40:25.847+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "1 - init"
2025-09-02T15:40:25.851+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.product' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:25.855+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.user' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:25.860+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.favorite' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:25.863+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.review' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:25.868+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.cart' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:25.871+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.cart_item' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:25.876+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.pre_registration' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:25.879+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.order' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:25.885+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.order_item' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:25.889+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.review' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:25.893+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.password_reset_token' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:26.317+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "1.1 - seed data"
2025-09-02T15:40:26.343+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "2 - remove cart version"
2025-09-02T15:40:26.420+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "3 - add ttl days to cart"
2025-09-02T15:40:26.556+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "4 - rename prices and update view"
2025-09-02T15:40:26.796+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "5 - update shipping and order status"
2025-09-02T15:40:26.881+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "6 - add review status and reject columns"
2025-09-02T15:40:27.105+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "7 - add product version and trigger"
2025-09-02T15:40:27.151+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Trigger does not exist (SQL State: HY000 - Error Code: 1360)
2025-09-02T15:40:27.180+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "8 - add check stock gte reserved"
2025-09-02T15:40:27.302+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "9 - add shipping and grand total"
2025-09-02T15:40:27.605+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "10 - tweak grand total column position"
2025-09-02T15:40:27.633+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "11 - cart item tweak column position"
2025-09-02T15:40:27.745+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "12 - order item subtotal incl generated"
2025-09-02T15:40:27.882+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` with repeatable migration "views"
2025-09-02T15:40:27.909+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Successfully applied 14 migrations to schema `ecommerce_test`, now at version v12 (execution time 00:01.819s)
[INFO] Tests run: 10, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 3.204 s -- in com.example.mapper.admin.AdminInventoryMapperTest
[INFO] Running com.example.mapper.admin.AdminOrderMapperTest
2025-09-02T15:40:28.533+09:00  INFO 19696 --- [ecommerce] [           main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.mapper.admin.AdminOrderMapperTest]: AdminOrderMapperTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-09-02T15:40:28.538+09:00  INFO 19696 --- [ecommerce] [           main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.EcommerceRestApplication for test class com.example.mapper.admin.AdminOrderMapperTest
2025-09-02T15:40:28.549+09:00  INFO 19696 --- [ecommerce] [           main] org.flywaydb.core.FlywayExecutor         : Database: jdbc:mysql://localhost:3306/ecommerce_test (MySQL 8.4)
2025-09-02T15:40:28.553+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:40:28.560+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully dropped pre-schema database level objects (execution time 00:00.000s)
2025-09-02T15:40:28.911+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully cleaned schema `ecommerce_test` (execution time 00:00.350s)
2025-09-02T15:40:28.918+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully cleaned schema `ecommerce_test` (execution time 00:00.005s)
2025-09-02T15:40:28.918+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully dropped post-schema database level objects (execution time 00:00.000s)
2025-09-02T15:40:28.929+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:40:28.933+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Repair of failed migration in Schema History table `ecommerce_test`.`flyway_schema_history` not necessary as table doesn't exist.
2025-09-02T15:40:28.941+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Schema history table `ecommerce_test`.`flyway_schema_history` does not exist yet
2025-09-02T15:40:28.943+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbRepair       : Successfully repaired schema history table `ecommerce_test`.`flyway_schema_history` (execution time 00:00.012s).
2025-09-02T15:40:28.957+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:40:28.966+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Schema history table `ecommerce_test`.`flyway_schema_history` does not exist yet
2025-09-02T15:40:28.967+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbValidate     : Successfully validated 14 migrations (execution time 00:00.008s)
2025-09-02T15:40:28.982+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Creating Schema History table `ecommerce_test`.`flyway_schema_history` ...
2025-09-02T15:40:29.048+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Current version of schema `ecommerce_test`: << Empty Schema >>
2025-09-02T15:40:29.052+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "1 - init"
2025-09-02T15:40:29.057+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.product' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:29.064+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.user' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:29.071+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.favorite' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:29.075+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.review' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:29.079+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.cart' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:29.083+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.cart_item' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:29.089+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.pre_registration' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:29.093+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.order' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:29.098+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.order_item' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:29.103+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.review' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:29.108+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.password_reset_token' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:29.616+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "1.1 - seed data"
2025-09-02T15:40:29.650+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "2 - remove cart version"
2025-09-02T15:40:29.722+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "3 - add ttl days to cart"
2025-09-02T15:40:29.860+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "4 - rename prices and update view"
2025-09-02T15:40:30.097+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "5 - update shipping and order status"
2025-09-02T15:40:30.182+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "6 - add review status and reject columns"
2025-09-02T15:40:30.324+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "7 - add product version and trigger"
2025-09-02T15:40:30.355+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Trigger does not exist (SQL State: HY000 - Error Code: 1360)
2025-09-02T15:40:30.387+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "8 - add check stock gte reserved"
2025-09-02T15:40:30.526+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "9 - add shipping and grand total"
2025-09-02T15:40:30.793+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "10 - tweak grand total column position"
2025-09-02T15:40:30.828+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "11 - cart item tweak column position"
2025-09-02T15:40:30.976+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "12 - order item subtotal incl generated"
2025-09-02T15:40:31.126+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` with repeatable migration "views"
2025-09-02T15:40:31.158+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Successfully applied 14 migrations to schema `ecommerce_test`, now at version v12 (execution time 00:01.849s)
[INFO] Running com.example.mapper.admin.AdminOrderMapperTest$Count
2025-09-02T15:40:31.182+09:00  INFO 19696 --- [ecommerce] [           main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.mapper.admin.AdminOrderMapperTest$Count]: Count does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-09-02T15:40:31.185+09:00  INFO 19696 --- [ecommerce] [           main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.EcommerceRestApplication for test class com.example.mapper.admin.AdminOrderMapperTest$Count
2025-09-02T15:40:31.199+09:00  INFO 19696 --- [ecommerce] [           main] org.flywaydb.core.FlywayExecutor         : Database: jdbc:mysql://localhost:3306/ecommerce_test (MySQL 8.4)
2025-09-02T15:40:31.203+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:40:31.208+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully dropped pre-schema database level objects (execution time 00:00.000s)
2025-09-02T15:40:31.540+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully cleaned schema `ecommerce_test` (execution time 00:00.330s)
2025-09-02T15:40:31.546+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully cleaned schema `ecommerce_test` (execution time 00:00.006s)
2025-09-02T15:40:31.547+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully dropped post-schema database level objects (execution time 00:00.000s)
2025-09-02T15:40:31.554+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:40:31.556+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Repair of failed migration in Schema History table `ecommerce_test`.`flyway_schema_history` not necessary as table doesn't exist.
2025-09-02T15:40:31.560+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Schema history table `ecommerce_test`.`flyway_schema_history` does not exist yet
2025-09-02T15:40:31.561+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbRepair       : Successfully repaired schema history table `ecommerce_test`.`flyway_schema_history` (execution time 00:00.006s).
2025-09-02T15:40:31.566+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:40:31.574+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Schema history table `ecommerce_test`.`flyway_schema_history` does not exist yet
2025-09-02T15:40:31.574+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbValidate     : Successfully validated 14 migrations (execution time 00:00.007s)
2025-09-02T15:40:31.582+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Creating Schema History table `ecommerce_test`.`flyway_schema_history` ...
2025-09-02T15:40:31.664+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Current version of schema `ecommerce_test`: << Empty Schema >>
2025-09-02T15:40:31.669+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "1 - init"
2025-09-02T15:40:31.676+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.product' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:31.680+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.user' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:31.684+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.favorite' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:31.688+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.review' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:31.692+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.cart' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:31.696+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.cart_item' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:31.699+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.pre_registration' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:31.703+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.order' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:31.706+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.order_item' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:31.709+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.review' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:31.712+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.password_reset_token' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:32.530+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "1.1 - seed data"
2025-09-02T15:40:32.557+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "2 - remove cart version"
2025-09-02T15:40:32.633+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "3 - add ttl days to cart"
2025-09-02T15:40:32.779+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "4 - rename prices and update view"
2025-09-02T15:40:32.973+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "5 - update shipping and order status"
2025-09-02T15:40:33.039+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "6 - add review status and reject columns"
2025-09-02T15:40:33.175+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "7 - add product version and trigger"
2025-09-02T15:40:33.211+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Trigger does not exist (SQL State: HY000 - Error Code: 1360)
2025-09-02T15:40:33.244+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "8 - add check stock gte reserved"
2025-09-02T15:40:33.386+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "9 - add shipping and grand total"
2025-09-02T15:40:33.694+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "10 - tweak grand total column position"
2025-09-02T15:40:33.732+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "11 - cart item tweak column position"
2025-09-02T15:40:33.853+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "12 - order item subtotal incl generated"
2025-09-02T15:40:33.961+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` with repeatable migration "views"
2025-09-02T15:40:33.988+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Successfully applied 14 migrations to schema `ecommerce_test`, now at version v12 (execution time 00:02.086s)
[ERROR] Tests run: 13, Failures: 0, Errors: 13, Skipped: 0, Time elapsed: 2.950 s <<< FAILURE! -- in com.example.mapper.admin.AdminOrderMapperTest$Count
[ERROR] com.example.mapper.admin.AdminOrderMapperTest$Count.count_singleFilterAndBoundary(Consumer, Consumer, int)[1] -- Time elapsed: 0.008 s <<< ERROR!
java.lang.NullPointerException
	at java.base/java.util.Objects.requireNonNull(Objects.java:220)
	at java.base/java.util.ImmutableCollections.listFromTrustedArray(ImmutableCollections.java:215)
	at java.base/java.util.List.of(List.java:1053)
	at com.example.testUtil.TestDataFactory.createOrder(TestDataFactory.java:256)
	at com.example.mapper.admin.AdminOrderMapperTest$Count.setup(AdminOrderMapperTest.java:58)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:807)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)

[ERROR] com.example.mapper.admin.AdminOrderMapperTest$Count.count_singleFilterAndBoundary(Consumer, Consumer, int)[2] -- Time elapsed: 0.008 s <<< ERROR!
java.lang.NullPointerException
	at java.base/java.util.Objects.requireNonNull(Objects.java:220)
	at java.base/java.util.ImmutableCollections.listFromTrustedArray(ImmutableCollections.java:215)
	at java.base/java.util.List.of(List.java:1053)
	at com.example.testUtil.TestDataFactory.createOrder(TestDataFactory.java:256)
	at com.example.mapper.admin.AdminOrderMapperTest$Count.setup(AdminOrderMapperTest.java:58)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:807)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)

[ERROR] com.example.mapper.admin.AdminOrderMapperTest$Count.count_singleFilterAndBoundary(Consumer, Consumer, int)[3] -- Time elapsed: 0.010 s <<< ERROR!
java.lang.NullPointerException
	at java.base/java.util.Objects.requireNonNull(Objects.java:220)
	at java.base/java.util.ImmutableCollections.listFromTrustedArray(ImmutableCollections.java:215)
	at java.base/java.util.List.of(List.java:1053)
	at com.example.testUtil.TestDataFactory.createOrder(TestDataFactory.java:256)
	at com.example.mapper.admin.AdminOrderMapperTest$Count.setup(AdminOrderMapperTest.java:58)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:807)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)

[ERROR] com.example.mapper.admin.AdminOrderMapperTest$Count.count_singleFilterAndBoundary(Consumer, Consumer, int)[4] -- Time elapsed: 0.008 s <<< ERROR!
java.lang.NullPointerException
	at java.base/java.util.Objects.requireNonNull(Objects.java:220)
	at java.base/java.util.ImmutableCollections.listFromTrustedArray(ImmutableCollections.java:215)
	at java.base/java.util.List.of(List.java:1053)
	at com.example.testUtil.TestDataFactory.createOrder(TestDataFactory.java:256)
	at com.example.mapper.admin.AdminOrderMapperTest$Count.setup(AdminOrderMapperTest.java:58)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:807)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)

[ERROR] com.example.mapper.admin.AdminOrderMapperTest$Count.count_singleFilterAndBoundary(Consumer, Consumer, int)[5] -- Time elapsed: 0.009 s <<< ERROR!
java.lang.NullPointerException
	at java.base/java.util.Objects.requireNonNull(Objects.java:220)
	at java.base/java.util.ImmutableCollections.listFromTrustedArray(ImmutableCollections.java:215)
	at java.base/java.util.List.of(List.java:1053)
	at com.example.testUtil.TestDataFactory.createOrder(TestDataFactory.java:256)
	at com.example.mapper.admin.AdminOrderMapperTest$Count.setup(AdminOrderMapperTest.java:58)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:807)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)

[ERROR] com.example.mapper.admin.AdminOrderMapperTest$Count.count_singleFilterAndBoundary(Consumer, Consumer, int)[6] -- Time elapsed: 0.007 s <<< ERROR!
java.lang.NullPointerException
	at java.base/java.util.Objects.requireNonNull(Objects.java:220)
	at java.base/java.util.ImmutableCollections.listFromTrustedArray(ImmutableCollections.java:215)
	at java.base/java.util.List.of(List.java:1053)
	at com.example.testUtil.TestDataFactory.createOrder(TestDataFactory.java:256)
	at com.example.mapper.admin.AdminOrderMapperTest$Count.setup(AdminOrderMapperTest.java:58)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:807)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)

[ERROR] com.example.mapper.admin.AdminOrderMapperTest$Count.count_singleFilterAndBoundary(Consumer, Consumer, int)[7] -- Time elapsed: 0.009 s <<< ERROR!
java.lang.NullPointerException
	at java.base/java.util.Objects.requireNonNull(Objects.java:220)
	at java.base/java.util.ImmutableCollections.listFromTrustedArray(ImmutableCollections.java:215)
	at java.base/java.util.List.of(List.java:1053)
	at com.example.testUtil.TestDataFactory.createOrder(TestDataFactory.java:256)
	at com.example.mapper.admin.AdminOrderMapperTest$Count.setup(AdminOrderMapperTest.java:58)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:807)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)

[ERROR] com.example.mapper.admin.AdminOrderMapperTest$Count.count_singleFilterAndBoundary(Consumer, Consumer, int)[8] -- Time elapsed: 0.011 s <<< ERROR!
java.lang.NullPointerException
	at java.base/java.util.Objects.requireNonNull(Objects.java:220)
	at java.base/java.util.ImmutableCollections.listFromTrustedArray(ImmutableCollections.java:215)
	at java.base/java.util.List.of(List.java:1053)
	at com.example.testUtil.TestDataFactory.createOrder(TestDataFactory.java:256)
	at com.example.mapper.admin.AdminOrderMapperTest$Count.setup(AdminOrderMapperTest.java:58)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:807)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)

[ERROR] com.example.mapper.admin.AdminOrderMapperTest$Count.count_singleFilterAndBoundary(Consumer, Consumer, int)[9] -- Time elapsed: 0.011 s <<< ERROR!
java.lang.NullPointerException
	at java.base/java.util.Objects.requireNonNull(Objects.java:220)
	at java.base/java.util.ImmutableCollections.listFromTrustedArray(ImmutableCollections.java:215)
	at java.base/java.util.List.of(List.java:1053)
	at com.example.testUtil.TestDataFactory.createOrder(TestDataFactory.java:256)
	at com.example.mapper.admin.AdminOrderMapperTest$Count.setup(AdminOrderMapperTest.java:58)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:807)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)

[ERROR] com.example.mapper.admin.AdminOrderMapperTest$Count.count_singleFilterAndBoundary(Consumer, Consumer, int)[10] -- Time elapsed: 0.008 s <<< ERROR!
java.lang.NullPointerException
	at java.base/java.util.Objects.requireNonNull(Objects.java:220)
	at java.base/java.util.ImmutableCollections.listFromTrustedArray(ImmutableCollections.java:215)
	at java.base/java.util.List.of(List.java:1053)
	at com.example.testUtil.TestDataFactory.createOrder(TestDataFactory.java:256)
	at com.example.mapper.admin.AdminOrderMapperTest$Count.setup(AdminOrderMapperTest.java:58)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:807)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)

[ERROR] com.example.mapper.admin.AdminOrderMapperTest$Count.countProducts_keywordFilter(Consumer, Consumer, int)[1] -- Time elapsed: 0.010 s <<< ERROR!
java.lang.NullPointerException
	at java.base/java.util.Objects.requireNonNull(Objects.java:220)
	at java.base/java.util.ImmutableCollections.listFromTrustedArray(ImmutableCollections.java:215)
	at java.base/java.util.List.of(List.java:1053)
	at com.example.testUtil.TestDataFactory.createOrder(TestDataFactory.java:256)
	at com.example.mapper.admin.AdminOrderMapperTest$Count.setup(AdminOrderMapperTest.java:58)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:807)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)

[ERROR] com.example.mapper.admin.AdminOrderMapperTest$Count.countProducts_keywordFilter(Consumer, Consumer, int)[2] -- Time elapsed: 0.011 s <<< ERROR!
java.lang.NullPointerException
	at java.base/java.util.Objects.requireNonNull(Objects.java:220)
	at java.base/java.util.ImmutableCollections.listFromTrustedArray(ImmutableCollections.java:215)
	at java.base/java.util.List.of(List.java:1053)
	at com.example.testUtil.TestDataFactory.createOrder(TestDataFactory.java:256)
	at com.example.mapper.admin.AdminOrderMapperTest$Count.setup(AdminOrderMapperTest.java:58)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:807)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)

[ERROR] com.example.mapper.admin.AdminOrderMapperTest$Count.countProducts_keywordFilter(Consumer, Consumer, int)[3] -- Time elapsed: 0.010 s <<< ERROR!
java.lang.NullPointerException
	at java.base/java.util.Objects.requireNonNull(Objects.java:220)
	at java.base/java.util.ImmutableCollections.listFromTrustedArray(ImmutableCollections.java:215)
	at java.base/java.util.List.of(List.java:1053)
	at com.example.testUtil.TestDataFactory.createOrder(TestDataFactory.java:256)
	at com.example.mapper.admin.AdminOrderMapperTest$Count.setup(AdminOrderMapperTest.java:58)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:807)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)

[ERROR] Tests run: 2, Failures: 0, Errors: 2, Skipped: 0, Time elapsed: 5.599 s <<< FAILURE! -- in com.example.mapper.admin.AdminOrderMapperTest
[ERROR] com.example.mapper.admin.AdminOrderMapperTest.selectOrderDetail -- Time elapsed: 0.010 s <<< ERROR!
java.lang.NullPointerException
	at java.base/java.util.Objects.requireNonNull(Objects.java:220)
	at java.base/java.util.ImmutableCollections.listFromTrustedArray(ImmutableCollections.java:215)
	at java.base/java.util.List.of(List.java:1053)
	at com.example.testUtil.TestDataFactory.createOrder(TestDataFactory.java:256)
	at com.example.mapper.admin.AdminOrderMapperTest.selectOrderDetail(AdminOrderMapperTest.java:192)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)

[ERROR] com.example.mapper.admin.AdminOrderMapperTest.updateTotals -- Time elapsed: 0.009 s <<< ERROR!
java.lang.NullPointerException
	at java.base/java.util.Objects.requireNonNull(Objects.java:220)
	at java.base/java.util.ImmutableCollections.listFromTrustedArray(ImmutableCollections.java:215)
	at java.base/java.util.List.of(List.java:1053)
	at com.example.testUtil.TestDataFactory.createOrder(TestDataFactory.java:256)
	at com.example.mapper.admin.AdminOrderMapperTest.updateTotals(AdminOrderMapperTest.java:238)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)

[INFO] Running com.example.mapper.admin.AdminProductMapperTest
2025-09-02T15:40:34.136+09:00  INFO 19696 --- [ecommerce] [           main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.mapper.admin.AdminProductMapperTest]: AdminProductMapperTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-09-02T15:40:34.147+09:00  INFO 19696 --- [ecommerce] [           main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.EcommerceRestApplication for test class com.example.mapper.admin.AdminProductMapperTest
2025-09-02T15:40:34.170+09:00  INFO 19696 --- [ecommerce] [           main] org.flywaydb.core.FlywayExecutor         : Database: jdbc:mysql://localhost:3306/ecommerce_test (MySQL 8.4)
2025-09-02T15:40:34.176+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:40:34.183+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully dropped pre-schema database level objects (execution time 00:00.001s)
2025-09-02T15:40:34.528+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully cleaned schema `ecommerce_test` (execution time 00:00.344s)
2025-09-02T15:40:34.533+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully cleaned schema `ecommerce_test` (execution time 00:00.004s)
2025-09-02T15:40:34.533+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully dropped post-schema database level objects (execution time 00:00.000s)
2025-09-02T15:40:34.538+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:40:34.539+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Repair of failed migration in Schema History table `ecommerce_test`.`flyway_schema_history` not necessary as table doesn't exist.
2025-09-02T15:40:34.545+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Schema history table `ecommerce_test`.`flyway_schema_history` does not exist yet
2025-09-02T15:40:34.545+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbRepair       : Successfully repaired schema history table `ecommerce_test`.`flyway_schema_history` (execution time 00:00.007s).
2025-09-02T15:40:34.550+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:40:34.555+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Schema history table `ecommerce_test`.`flyway_schema_history` does not exist yet
2025-09-02T15:40:34.556+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbValidate     : Successfully validated 14 migrations (execution time 00:00.005s)
2025-09-02T15:40:34.562+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Creating Schema History table `ecommerce_test`.`flyway_schema_history` ...
2025-09-02T15:40:34.635+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Current version of schema `ecommerce_test`: << Empty Schema >>
2025-09-02T15:40:34.638+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "1 - init"
2025-09-02T15:40:34.642+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.product' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:34.646+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.user' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:34.649+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.favorite' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:34.653+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.review' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:34.657+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.cart' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:34.660+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.cart_item' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:34.664+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.pre_registration' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:34.668+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.order' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:34.671+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.order_item' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:34.675+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.review' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:34.679+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.password_reset_token' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:35.198+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "1.1 - seed data"
2025-09-02T15:40:35.222+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "2 - remove cart version"
2025-09-02T15:40:35.282+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "3 - add ttl days to cart"
2025-09-02T15:40:35.518+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "4 - rename prices and update view"
2025-09-02T15:40:35.735+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "5 - update shipping and order status"
2025-09-02T15:40:35.801+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "6 - add review status and reject columns"
2025-09-02T15:40:35.960+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "7 - add product version and trigger"
2025-09-02T15:40:35.990+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Trigger does not exist (SQL State: HY000 - Error Code: 1360)
2025-09-02T15:40:36.012+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "8 - add check stock gte reserved"
2025-09-02T15:40:36.141+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "9 - add shipping and grand total"
2025-09-02T15:40:36.495+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "10 - tweak grand total column position"
2025-09-02T15:40:36.537+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "11 - cart item tweak column position"
2025-09-02T15:40:36.700+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "12 - order item subtotal incl generated"
2025-09-02T15:40:36.820+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` with repeatable migration "views"
2025-09-02T15:40:36.842+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Successfully applied 14 migrations to schema `ecommerce_test`, now at version v12 (execution time 00:01.980s)
[INFO] Running com.example.mapper.admin.AdminProductMapperTest$SearchProducts
2025-09-02T15:40:36.844+09:00  INFO 19696 --- [ecommerce] [           main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.mapper.admin.AdminProductMapperTest$SearchProducts]: SearchProducts does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-09-02T15:40:36.847+09:00  INFO 19696 --- [ecommerce] [           main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.EcommerceRestApplication for test class com.example.mapper.admin.AdminProductMapperTest$SearchProducts
2025-09-02T15:40:36.857+09:00  INFO 19696 --- [ecommerce] [           main] org.flywaydb.core.FlywayExecutor         : Database: jdbc:mysql://localhost:3306/ecommerce_test (MySQL 8.4)
2025-09-02T15:40:36.861+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:40:36.866+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully dropped pre-schema database level objects (execution time 00:00.000s)
2025-09-02T15:40:37.165+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully cleaned schema `ecommerce_test` (execution time 00:00.298s)
2025-09-02T15:40:37.168+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully cleaned schema `ecommerce_test` (execution time 00:00.002s)
2025-09-02T15:40:37.168+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully dropped post-schema database level objects (execution time 00:00.000s)
2025-09-02T15:40:37.174+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:40:37.176+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Repair of failed migration in Schema History table `ecommerce_test`.`flyway_schema_history` not necessary as table doesn't exist.
2025-09-02T15:40:37.180+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Schema history table `ecommerce_test`.`flyway_schema_history` does not exist yet
2025-09-02T15:40:37.181+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbRepair       : Successfully repaired schema history table `ecommerce_test`.`flyway_schema_history` (execution time 00:00.006s).
2025-09-02T15:40:37.185+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:40:37.191+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Schema history table `ecommerce_test`.`flyway_schema_history` does not exist yet
2025-09-02T15:40:37.192+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbValidate     : Successfully validated 14 migrations (execution time 00:00.005s)
2025-09-02T15:40:37.196+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Creating Schema History table `ecommerce_test`.`flyway_schema_history` ...
2025-09-02T15:40:37.254+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Current version of schema `ecommerce_test`: << Empty Schema >>
2025-09-02T15:40:37.262+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "1 - init"
2025-09-02T15:40:37.269+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.product' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:37.283+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.user' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:37.303+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.favorite' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:37.309+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.review' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:37.314+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.cart' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:37.319+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.cart_item' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:37.324+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.pre_registration' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:37.329+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.order' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:37.332+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.order_item' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:37.336+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.review' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:37.340+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.password_reset_token' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:38.247+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "1.1 - seed data"
2025-09-02T15:40:38.276+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "2 - remove cart version"
2025-09-02T15:40:38.342+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "3 - add ttl days to cart"
2025-09-02T15:40:38.475+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "4 - rename prices and update view"
2025-09-02T15:40:38.742+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "5 - update shipping and order status"
2025-09-02T15:40:38.810+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "6 - add review status and reject columns"
2025-09-02T15:40:38.945+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "7 - add product version and trigger"
2025-09-02T15:40:38.978+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Trigger does not exist (SQL State: HY000 - Error Code: 1360)
2025-09-02T15:40:38.998+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "8 - add check stock gte reserved"
2025-09-02T15:40:39.126+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "9 - add shipping and grand total"
2025-09-02T15:40:39.428+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "10 - tweak grand total column position"
2025-09-02T15:40:39.463+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "11 - cart item tweak column position"
2025-09-02T15:40:39.611+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "12 - order item subtotal incl generated"
2025-09-02T15:40:39.756+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` with repeatable migration "views"
2025-09-02T15:40:39.783+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Successfully applied 14 migrations to schema `ecommerce_test`, now at version v12 (execution time 00:02.278s)
[INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 3.086 s -- in com.example.mapper.admin.AdminProductMapperTest$SearchProducts
[INFO] Running com.example.mapper.admin.AdminProductMapperTest$CountProducts
2025-09-02T15:40:39.931+09:00  INFO 19696 --- [ecommerce] [           main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.mapper.admin.AdminProductMapperTest$CountProducts]: CountProducts does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-09-02T15:40:39.935+09:00  INFO 19696 --- [ecommerce] [           main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.EcommerceRestApplication for test class com.example.mapper.admin.AdminProductMapperTest$CountProducts
2025-09-02T15:40:39.945+09:00  INFO 19696 --- [ecommerce] [           main] org.flywaydb.core.FlywayExecutor         : Database: jdbc:mysql://localhost:3306/ecommerce_test (MySQL 8.4)
2025-09-02T15:40:39.948+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:40:39.953+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully dropped pre-schema database level objects (execution time 00:00.000s)
2025-09-02T15:40:40.256+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully cleaned schema `ecommerce_test` (execution time 00:00.302s)
2025-09-02T15:40:40.259+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully cleaned schema `ecommerce_test` (execution time 00:00.003s)
2025-09-02T15:40:40.260+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully dropped post-schema database level objects (execution time 00:00.000s)
2025-09-02T15:40:40.265+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:40:40.266+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Repair of failed migration in Schema History table `ecommerce_test`.`flyway_schema_history` not necessary as table doesn't exist.
2025-09-02T15:40:40.272+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Schema history table `ecommerce_test`.`flyway_schema_history` does not exist yet
2025-09-02T15:40:40.273+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbRepair       : Successfully repaired schema history table `ecommerce_test`.`flyway_schema_history` (execution time 00:00.007s).
2025-09-02T15:40:40.277+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:40:40.284+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Schema history table `ecommerce_test`.`flyway_schema_history` does not exist yet
2025-09-02T15:40:40.284+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbValidate     : Successfully validated 14 migrations (execution time 00:00.006s)
2025-09-02T15:40:40.290+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Creating Schema History table `ecommerce_test`.`flyway_schema_history` ...
2025-09-02T15:40:40.341+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Current version of schema `ecommerce_test`: << Empty Schema >>
2025-09-02T15:40:40.344+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "1 - init"
2025-09-02T15:40:40.350+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.product' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:40.354+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.user' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:40.358+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.favorite' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:40.362+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.review' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:40.365+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.cart' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:40.369+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.cart_item' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:40.372+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.pre_registration' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:40.376+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.order' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:40.379+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.order_item' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:40.382+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.review' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:40.385+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.password_reset_token' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:40.858+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "1.1 - seed data"
2025-09-02T15:40:40.881+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "2 - remove cart version"
2025-09-02T15:40:40.944+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "3 - add ttl days to cart"
2025-09-02T15:40:41.089+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "4 - rename prices and update view"
2025-09-02T15:40:41.287+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "5 - update shipping and order status"
2025-09-02T15:40:41.379+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "6 - add review status and reject columns"
2025-09-02T15:40:41.523+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "7 - add product version and trigger"
2025-09-02T15:40:41.558+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Trigger does not exist (SQL State: HY000 - Error Code: 1360)
2025-09-02T15:40:41.592+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "8 - add check stock gte reserved"
2025-09-02T15:40:41.722+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "9 - add shipping and grand total"
2025-09-02T15:40:42.014+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "10 - tweak grand total column position"
2025-09-02T15:40:42.050+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "11 - cart item tweak column position"
2025-09-02T15:40:42.188+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "12 - order item subtotal incl generated"
2025-09-02T15:40:42.302+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` with repeatable migration "views"
2025-09-02T15:40:42.327+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Successfully applied 14 migrations to schema `ecommerce_test`, now at version v12 (execution time 00:01.754s)
[ERROR] Tests run: 22, Failures: 8, Errors: 0, Skipped: 0, Time elapsed: 3.598 s <<< FAILURE! -- in com.example.mapper.admin.AdminProductMapperTest$CountProducts
[ERROR] com.example.mapper.admin.AdminProductMapperTest$CountProducts.countProducts_singleFilterAndBoundary(Consumer, Consumer, int)[7] -- Time elapsed: 0.064 s <<< FAILURE!
org.opentest4j.AssertionFailedError: 

expected: 1
 but was: 2
	at com.example.mapper.admin.AdminProductMapperTest$CountProducts.countProducts_singleFilterAndBoundary(AdminProductMapperTest.java:72)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:807)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)

[ERROR] com.example.mapper.admin.AdminProductMapperTest$CountProducts.countProducts_singleFilterAndBoundary(Consumer, Consumer, int)[8] -- Time elapsed: 0.070 s <<< FAILURE!
org.opentest4j.AssertionFailedError: 

expected: 1
 but was: 0
	at com.example.mapper.admin.AdminProductMapperTest$CountProducts.countProducts_singleFilterAndBoundary(AdminProductMapperTest.java:72)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:807)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)

[ERROR] com.example.mapper.admin.AdminProductMapperTest$CountProducts.countProducts_singleFilterAndBoundary(Consumer, Consumer, int)[9] -- Time elapsed: 0.054 s <<< FAILURE!
org.opentest4j.AssertionFailedError: 

expected: 1
 but was: 2
	at com.example.mapper.admin.AdminProductMapperTest$CountProducts.countProducts_singleFilterAndBoundary(AdminProductMapperTest.java:72)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:807)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)

[ERROR] com.example.mapper.admin.AdminProductMapperTest$CountProducts.countProducts_singleFilterAndBoundary(Consumer, Consumer, int)[10] -- Time elapsed: 0.043 s <<< FAILURE!
org.opentest4j.AssertionFailedError: 

expected: 1
 but was: 0
	at com.example.mapper.admin.AdminProductMapperTest$CountProducts.countProducts_singleFilterAndBoundary(AdminProductMapperTest.java:72)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:807)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)

[ERROR] com.example.mapper.admin.AdminProductMapperTest$CountProducts.countProducts_singleFilterAndBoundary(Consumer, Consumer, int)[16] -- Time elapsed: 0.061 s <<< FAILURE!
org.opentest4j.AssertionFailedError: 

expected: 1
 but was: 2
	at com.example.mapper.admin.AdminProductMapperTest$CountProducts.countProducts_singleFilterAndBoundary(AdminProductMapperTest.java:72)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:807)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)

[ERROR] com.example.mapper.admin.AdminProductMapperTest$CountProducts.countProducts_singleFilterAndBoundary(Consumer, Consumer, int)[17] -- Time elapsed: 0.057 s <<< FAILURE!
org.opentest4j.AssertionFailedError: 

expected: 1
 but was: 0
	at com.example.mapper.admin.AdminProductMapperTest$CountProducts.countProducts_singleFilterAndBoundary(AdminProductMapperTest.java:72)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:807)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)

[ERROR] com.example.mapper.admin.AdminProductMapperTest$CountProducts.countProducts_singleFilterAndBoundary(Consumer, Consumer, int)[18] -- Time elapsed: 0.064 s <<< FAILURE!
org.opentest4j.AssertionFailedError: 

expected: 1
 but was: 2
	at com.example.mapper.admin.AdminProductMapperTest$CountProducts.countProducts_singleFilterAndBoundary(AdminProductMapperTest.java:72)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:807)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)

[ERROR] com.example.mapper.admin.AdminProductMapperTest$CountProducts.countProducts_singleFilterAndBoundary(Consumer, Consumer, int)[19] -- Time elapsed: 0.165 s <<< FAILURE!
org.opentest4j.AssertionFailedError: 

expected: 1
 but was: 0
	at com.example.mapper.admin.AdminProductMapperTest$CountProducts.countProducts_singleFilterAndBoundary(AdminProductMapperTest.java:72)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:807)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)

[INFO] Tests run: 0, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 9.396 s -- in com.example.mapper.admin.AdminProductMapperTest
[INFO] Running com.example.mapper.CartMapperTest
2025-09-02T15:40:43.531+09:00  INFO 19696 --- [ecommerce] [           main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.mapper.CartMapperTest]: CartMapperTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-09-02T15:40:43.563+09:00  INFO 19696 --- [ecommerce] [           main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.EcommerceRestApplication for test class com.example.mapper.CartMapperTest
2025-09-02T15:40:43.582+09:00  INFO 19696 --- [ecommerce] [           main] org.flywaydb.core.FlywayExecutor         : Database: jdbc:mysql://localhost:3306/ecommerce_test (MySQL 8.4)
2025-09-02T15:40:43.587+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:40:43.593+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully dropped pre-schema database level objects (execution time 00:00.000s)
2025-09-02T15:40:43.933+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully cleaned schema `ecommerce_test` (execution time 00:00.338s)
2025-09-02T15:40:43.936+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully cleaned schema `ecommerce_test` (execution time 00:00.003s)
2025-09-02T15:40:43.938+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully dropped post-schema database level objects (execution time 00:00.000s)
2025-09-02T15:40:43.942+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:40:43.944+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Repair of failed migration in Schema History table `ecommerce_test`.`flyway_schema_history` not necessary as table doesn't exist.
2025-09-02T15:40:43.950+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Schema history table `ecommerce_test`.`flyway_schema_history` does not exist yet
2025-09-02T15:40:43.951+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbRepair       : Successfully repaired schema history table `ecommerce_test`.`flyway_schema_history` (execution time 00:00.008s).
2025-09-02T15:40:43.957+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:40:43.965+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Schema history table `ecommerce_test`.`flyway_schema_history` does not exist yet
2025-09-02T15:40:43.966+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbValidate     : Successfully validated 14 migrations (execution time 00:00.006s)
2025-09-02T15:40:43.973+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Creating Schema History table `ecommerce_test`.`flyway_schema_history` ...
2025-09-02T15:40:44.029+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Current version of schema `ecommerce_test`: << Empty Schema >>
2025-09-02T15:40:44.034+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "1 - init"
2025-09-02T15:40:44.044+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.product' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:44.048+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.user' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:44.052+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.favorite' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:44.056+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.review' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:44.060+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.cart' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:44.063+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.cart_item' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:44.067+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.pre_registration' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:44.070+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.order' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:44.073+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.order_item' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:44.077+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.review' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:44.081+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.password_reset_token' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:44.590+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "1.1 - seed data"
2025-09-02T15:40:44.621+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "2 - remove cart version"
2025-09-02T15:40:44.689+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "3 - add ttl days to cart"
2025-09-02T15:40:44.831+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "4 - rename prices and update view"
2025-09-02T15:40:45.083+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "5 - update shipping and order status"
2025-09-02T15:40:45.173+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "6 - add review status and reject columns"
2025-09-02T15:40:45.370+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "7 - add product version and trigger"
2025-09-02T15:40:45.420+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Trigger does not exist (SQL State: HY000 - Error Code: 1360)
2025-09-02T15:40:45.461+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "8 - add check stock gte reserved"
2025-09-02T15:40:45.630+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "9 - add shipping and grand total"
2025-09-02T15:40:45.967+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "10 - tweak grand total column position"
2025-09-02T15:40:46.019+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "11 - cart item tweak column position"
2025-09-02T15:40:46.173+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "12 - order item subtotal incl generated"
2025-09-02T15:40:46.313+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` with repeatable migration "views"
2025-09-02T15:40:46.347+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Successfully applied 14 migrations to schema `ecommerce_test`, now at version v12 (execution time 00:02.013s)
[INFO] Running com.example.mapper.CartMapperTest$DeleteExpiredCarts
2025-09-02T15:40:46.350+09:00  INFO 19696 --- [ecommerce] [           main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.mapper.CartMapperTest$DeleteExpiredCarts]: DeleteExpiredCarts does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-09-02T15:40:46.353+09:00  INFO 19696 --- [ecommerce] [           main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.EcommerceRestApplication for test class com.example.mapper.CartMapperTest$DeleteExpiredCarts
2025-09-02T15:40:46.367+09:00  INFO 19696 --- [ecommerce] [           main] org.flywaydb.core.FlywayExecutor         : Database: jdbc:mysql://localhost:3306/ecommerce_test (MySQL 8.4)
2025-09-02T15:40:46.372+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:40:46.379+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully dropped pre-schema database level objects (execution time 00:00.000s)
2025-09-02T15:40:46.764+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully cleaned schema `ecommerce_test` (execution time 00:00.384s)
2025-09-02T15:40:46.768+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully cleaned schema `ecommerce_test` (execution time 00:00.003s)
2025-09-02T15:40:46.768+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully dropped post-schema database level objects (execution time 00:00.000s)
2025-09-02T15:40:46.773+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:40:46.775+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Repair of failed migration in Schema History table `ecommerce_test`.`flyway_schema_history` not necessary as table doesn't exist.
2025-09-02T15:40:46.782+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Schema history table `ecommerce_test`.`flyway_schema_history` does not exist yet
2025-09-02T15:40:46.783+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbRepair       : Successfully repaired schema history table `ecommerce_test`.`flyway_schema_history` (execution time 00:00.009s).
2025-09-02T15:40:46.791+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:40:46.800+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Schema history table `ecommerce_test`.`flyway_schema_history` does not exist yet
2025-09-02T15:40:46.800+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbValidate     : Successfully validated 14 migrations (execution time 00:00.008s)
2025-09-02T15:40:46.812+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Creating Schema History table `ecommerce_test`.`flyway_schema_history` ...
2025-09-02T15:40:46.874+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Current version of schema `ecommerce_test`: << Empty Schema >>
2025-09-02T15:40:46.878+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "1 - init"
2025-09-02T15:40:46.884+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.product' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:46.888+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.user' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:46.892+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.favorite' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:46.895+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.review' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:46.898+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.cart' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:46.901+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.cart_item' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:46.904+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.pre_registration' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:46.908+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.order' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:46.911+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.order_item' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:46.915+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.review' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:46.919+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.password_reset_token' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:47.417+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "1.1 - seed data"
2025-09-02T15:40:47.446+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "2 - remove cart version"
2025-09-02T15:40:47.521+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "3 - add ttl days to cart"
2025-09-02T15:40:47.667+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "4 - rename prices and update view"
2025-09-02T15:40:47.887+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "5 - update shipping and order status"
2025-09-02T15:40:47.955+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "6 - add review status and reject columns"
2025-09-02T15:40:48.087+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "7 - add product version and trigger"
2025-09-02T15:40:48.119+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Trigger does not exist (SQL State: HY000 - Error Code: 1360)
2025-09-02T15:40:48.140+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "8 - add check stock gte reserved"
2025-09-02T15:40:48.252+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "9 - add shipping and grand total"
2025-09-02T15:40:48.528+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "10 - tweak grand total column position"
2025-09-02T15:40:48.556+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "11 - cart item tweak column position"
2025-09-02T15:40:48.667+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "12 - order item subtotal incl generated"
2025-09-02T15:40:48.818+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` with repeatable migration "views"
2025-09-02T15:40:48.844+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Successfully applied 14 migrations to schema `ecommerce_test`, now at version v12 (execution time 00:01.755s)
[ERROR] Tests run: 2, Failures: 0, Errors: 2, Skipped: 0, Time elapsed: 2.506 s <<< FAILURE! -- in com.example.mapper.CartMapperTest$DeleteExpiredCarts
[ERROR] com.example.mapper.CartMapperTest$DeleteExpiredCarts.deleteExpiredCarts_equalBoundary -- Time elapsed: 0.003 s <<< ERROR!
java.lang.NullPointerException
	at java.base/java.util.Objects.requireNonNull(Objects.java:220)
	at java.base/java.util.ImmutableCollections$List12.<init>(ImmutableCollections.java:572)
	at java.base/java.util.List.of(List.java:952)
	at com.example.testUtil.TestDataFactory.createCart(TestDataFactory.java:46)
	at com.example.mapper.CartMapperTest$DeleteExpiredCarts.setup(CartMapperTest.java:420)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)

[ERROR] com.example.mapper.CartMapperTest$DeleteExpiredCarts.deleteExpiredCarts_overBoundary -- Time elapsed: 0.003 s <<< ERROR!
java.lang.NullPointerException
	at java.base/java.util.Objects.requireNonNull(Objects.java:220)
	at java.base/java.util.ImmutableCollections$List12.<init>(ImmutableCollections.java:572)
	at java.base/java.util.List.of(List.java:952)
	at com.example.testUtil.TestDataFactory.createCart(TestDataFactory.java:46)
	at com.example.mapper.CartMapperTest$DeleteExpiredCarts.setup(CartMapperTest.java:420)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)

[INFO] Running com.example.mapper.CartMapperTest$IsCartExpired
2025-09-02T15:40:48.857+09:00  INFO 19696 --- [ecommerce] [           main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.mapper.CartMapperTest$IsCartExpired]: IsCartExpired does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-09-02T15:40:48.862+09:00  INFO 19696 --- [ecommerce] [           main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.EcommerceRestApplication for test class com.example.mapper.CartMapperTest$IsCartExpired
2025-09-02T15:40:48.874+09:00  INFO 19696 --- [ecommerce] [           main] org.flywaydb.core.FlywayExecutor         : Database: jdbc:mysql://localhost:3306/ecommerce_test (MySQL 8.4)
2025-09-02T15:40:48.879+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:40:48.885+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully dropped pre-schema database level objects (execution time 00:00.000s)
2025-09-02T15:40:49.391+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully cleaned schema `ecommerce_test` (execution time 00:00.503s)
2025-09-02T15:40:49.399+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully cleaned schema `ecommerce_test` (execution time 00:00.008s)
2025-09-02T15:40:49.399+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully dropped post-schema database level objects (execution time 00:00.000s)
2025-09-02T15:40:49.411+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:40:49.414+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Repair of failed migration in Schema History table `ecommerce_test`.`flyway_schema_history` not necessary as table doesn't exist.
2025-09-02T15:40:49.425+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Schema history table `ecommerce_test`.`flyway_schema_history` does not exist yet
2025-09-02T15:40:49.426+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbRepair       : Successfully repaired schema history table `ecommerce_test`.`flyway_schema_history` (execution time 00:00.014s).
2025-09-02T15:40:49.436+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:40:49.448+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Schema history table `ecommerce_test`.`flyway_schema_history` does not exist yet
2025-09-02T15:40:49.449+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbValidate     : Successfully validated 14 migrations (execution time 00:00.010s)
2025-09-02T15:40:49.462+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Creating Schema History table `ecommerce_test`.`flyway_schema_history` ...
2025-09-02T15:40:49.534+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Current version of schema `ecommerce_test`: << Empty Schema >>
2025-09-02T15:40:49.539+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "1 - init"
2025-09-02T15:40:49.544+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.product' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:49.548+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.user' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:49.552+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.favorite' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:49.556+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.review' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:49.561+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.cart' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:49.565+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.cart_item' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:49.569+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.pre_registration' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:49.575+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.order' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:49.580+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.order_item' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:49.584+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.review' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:49.589+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.password_reset_token' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:50.086+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "1.1 - seed data"
2025-09-02T15:40:50.111+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "2 - remove cart version"
2025-09-02T15:40:50.172+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "3 - add ttl days to cart"
2025-09-02T15:40:50.310+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "4 - rename prices and update view"
2025-09-02T15:40:50.520+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "5 - update shipping and order status"
2025-09-02T15:40:50.601+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "6 - add review status and reject columns"
2025-09-02T15:40:50.742+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "7 - add product version and trigger"
2025-09-02T15:40:50.772+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Trigger does not exist (SQL State: HY000 - Error Code: 1360)
2025-09-02T15:40:50.797+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "8 - add check stock gte reserved"
2025-09-02T15:40:50.926+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "9 - add shipping and grand total"
2025-09-02T15:40:51.190+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "10 - tweak grand total column position"
2025-09-02T15:40:51.218+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "11 - cart item tweak column position"
2025-09-02T15:40:51.325+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "12 - order item subtotal incl generated"
2025-09-02T15:40:51.475+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` with repeatable migration "views"
2025-09-02T15:40:51.504+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Successfully applied 14 migrations to schema `ecommerce_test`, now at version v12 (execution time 00:01.742s)
[ERROR] Tests run: 6, Failures: 0, Errors: 6, Skipped: 0, Time elapsed: 2.679 s <<< FAILURE! -- in com.example.mapper.CartMapperTest$IsCartExpired
[ERROR] com.example.mapper.CartMapperTest$IsCartExpired.isCartExpired_over -- Time elapsed: 0.005 s <<< ERROR!
java.lang.NullPointerException
	at java.base/java.util.Objects.requireNonNull(Objects.java:220)
	at java.base/java.util.ImmutableCollections$List12.<init>(ImmutableCollections.java:572)
	at java.base/java.util.List.of(List.java:952)
	at com.example.testUtil.TestDataFactory.createCart(TestDataFactory.java:46)
	at com.example.mapper.CartMapperTest$IsCartExpired.isCartExpired_over(CartMapperTest.java:365)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)

[ERROR] com.example.mapper.CartMapperTest$IsCartExpired.isCartExpired_within -- Time elapsed: 0.004 s <<< ERROR!
java.lang.NullPointerException
	at java.base/java.util.Objects.requireNonNull(Objects.java:220)
	at java.base/java.util.ImmutableCollections$List12.<init>(ImmutableCollections.java:572)
	at java.base/java.util.List.of(List.java:952)
	at com.example.testUtil.TestDataFactory.createCart(TestDataFactory.java:46)
	at com.example.mapper.CartMapperTest$IsCartExpired.isCartExpired_within(CartMapperTest.java:344)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)

[ERROR] com.example.mapper.CartMapperTest$IsCartExpired.isCartExpired_boundary(LocalDateTime, String, boolean)[1] -- Time elapsed: 0.005 s <<< ERROR!
java.lang.NullPointerException
	at java.base/java.util.Objects.requireNonNull(Objects.java:220)
	at java.base/java.util.ImmutableCollections$List12.<init>(ImmutableCollections.java:572)
	at java.base/java.util.List.of(List.java:952)
	at com.example.testUtil.TestDataFactory.createCart(TestDataFactory.java:46)
	at com.example.mapper.CartMapperTest$IsCartExpired.isCartExpired_boundary(CartMapperTest.java:391)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:807)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)

[ERROR] com.example.mapper.CartMapperTest$IsCartExpired.isCartExpired_boundary(LocalDateTime, String, boolean)[2] -- Time elapsed: 0.003 s <<< ERROR!
java.lang.NullPointerException
	at java.base/java.util.Objects.requireNonNull(Objects.java:220)
	at java.base/java.util.ImmutableCollections$List12.<init>(ImmutableCollections.java:572)
	at java.base/java.util.List.of(List.java:952)
	at com.example.testUtil.TestDataFactory.createCart(TestDataFactory.java:46)
	at com.example.mapper.CartMapperTest$IsCartExpired.isCartExpired_boundary(CartMapperTest.java:391)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:807)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)

[ERROR] com.example.mapper.CartMapperTest$IsCartExpired.isCartExpired_boundary(LocalDateTime, String, boolean)[3] -- Time elapsed: 0.003 s <<< ERROR!
java.lang.NullPointerException
	at java.base/java.util.Objects.requireNonNull(Objects.java:220)
	at java.base/java.util.ImmutableCollections$List12.<init>(ImmutableCollections.java:572)
	at java.base/java.util.List.of(List.java:952)
	at com.example.testUtil.TestDataFactory.createCart(TestDataFactory.java:46)
	at com.example.mapper.CartMapperTest$IsCartExpired.isCartExpired_boundary(CartMapperTest.java:391)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:807)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)

[ERROR] com.example.mapper.CartMapperTest$IsCartExpired.isCartExpired_boundary(LocalDateTime, String, boolean)[4] -- Time elapsed: 0.002 s <<< ERROR!
java.lang.NullPointerException
	at java.base/java.util.Objects.requireNonNull(Objects.java:220)
	at java.base/java.util.ImmutableCollections$List12.<init>(ImmutableCollections.java:572)
	at java.base/java.util.List.of(List.java:952)
	at com.example.testUtil.TestDataFactory.createCart(TestDataFactory.java:46)
	at com.example.mapper.CartMapperTest$IsCartExpired.isCartExpired_boundary(CartMapperTest.java:391)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:807)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)

[INFO] Running com.example.mapper.CartMapperTest$selectCartItems
2025-09-02T15:40:51.538+09:00  INFO 19696 --- [ecommerce] [           main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.mapper.CartMapperTest$selectCartItems]: selectCartItems does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-09-02T15:40:51.549+09:00  INFO 19696 --- [ecommerce] [           main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.EcommerceRestApplication for test class com.example.mapper.CartMapperTest$selectCartItems
2025-09-02T15:40:51.571+09:00  INFO 19696 --- [ecommerce] [           main] org.flywaydb.core.FlywayExecutor         : Database: jdbc:mysql://localhost:3306/ecommerce_test (MySQL 8.4)
2025-09-02T15:40:51.576+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:40:51.581+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully dropped pre-schema database level objects (execution time 00:00.001s)
2025-09-02T15:40:51.912+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully cleaned schema `ecommerce_test` (execution time 00:00.329s)
2025-09-02T15:40:51.923+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully cleaned schema `ecommerce_test` (execution time 00:00.011s)
2025-09-02T15:40:51.925+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully dropped post-schema database level objects (execution time 00:00.001s)
2025-09-02T15:40:51.934+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:40:51.937+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Repair of failed migration in Schema History table `ecommerce_test`.`flyway_schema_history` not necessary as table doesn't exist.
2025-09-02T15:40:51.942+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Schema history table `ecommerce_test`.`flyway_schema_history` does not exist yet
2025-09-02T15:40:51.943+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbRepair       : Successfully repaired schema history table `ecommerce_test`.`flyway_schema_history` (execution time 00:00.007s).
2025-09-02T15:40:51.948+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:40:51.954+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Schema history table `ecommerce_test`.`flyway_schema_history` does not exist yet
2025-09-02T15:40:51.955+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbValidate     : Successfully validated 14 migrations (execution time 00:00.005s)
2025-09-02T15:40:51.960+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Creating Schema History table `ecommerce_test`.`flyway_schema_history` ...
2025-09-02T15:40:52.023+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Current version of schema `ecommerce_test`: << Empty Schema >>
2025-09-02T15:40:52.027+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "1 - init"
2025-09-02T15:40:52.033+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.product' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:52.036+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.user' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:52.039+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.favorite' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:52.043+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.review' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:52.047+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.cart' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:52.051+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.cart_item' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:52.054+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.pre_registration' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:52.058+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.order' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:52.063+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.order_item' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:52.069+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.review' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:52.076+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.password_reset_token' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:52.627+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "1.1 - seed data"
2025-09-02T15:40:52.656+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "2 - remove cart version"
2025-09-02T15:40:52.721+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "3 - add ttl days to cart"
2025-09-02T15:40:52.870+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "4 - rename prices and update view"
2025-09-02T15:40:53.093+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "5 - update shipping and order status"
2025-09-02T15:40:53.164+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "6 - add review status and reject columns"
2025-09-02T15:40:53.297+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "7 - add product version and trigger"
2025-09-02T15:40:53.334+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Trigger does not exist (SQL State: HY000 - Error Code: 1360)
2025-09-02T15:40:53.361+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "8 - add check stock gte reserved"
2025-09-02T15:40:53.545+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "9 - add shipping and grand total"
2025-09-02T15:40:54.010+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "10 - tweak grand total column position"
2025-09-02T15:40:54.044+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "11 - cart item tweak column position"
2025-09-02T15:40:54.215+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "12 - order item subtotal incl generated"
2025-09-02T15:40:54.397+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` with repeatable migration "views"
2025-09-02T15:40:54.429+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Successfully applied 14 migrations to schema `ecommerce_test`, now at version v12 (execution time 00:02.136s)
[ERROR] Tests run: 2, Failures: 0, Errors: 2, Skipped: 0, Time elapsed: 2.910 s <<< FAILURE! -- in com.example.mapper.CartMapperTest$selectCartItems
[ERROR] com.example.mapper.CartMapperTest$selectCartItems.selectCartItems_cartExists -- Time elapsed: 0.006 s <<< ERROR!
java.lang.NullPointerException
	at java.base/java.util.Objects.requireNonNull(Objects.java:220)
	at java.base/java.util.ImmutableCollections$List12.<init>(ImmutableCollections.java:572)
	at java.base/java.util.List.of(List.java:952)
	at com.example.testUtil.TestDataFactory.createCart(TestDataFactory.java:46)
	at com.example.mapper.CartMapperTest$selectCartItems.setup(CartMapperTest.java:257)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)

[ERROR] com.example.mapper.CartMapperTest$selectCartItems.selectCartItems_cartEmpty -- Time elapsed: 0.008 s <<< ERROR!
java.lang.NullPointerException
	at java.base/java.util.Objects.requireNonNull(Objects.java:220)
	at java.base/java.util.ImmutableCollections$List12.<init>(ImmutableCollections.java:572)
	at java.base/java.util.List.of(List.java:952)
	at com.example.testUtil.TestDataFactory.createCart(TestDataFactory.java:46)
	at com.example.mapper.CartMapperTest$selectCartItems.setup(CartMapperTest.java:257)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)

[INFO] Running com.example.mapper.CartMapperTest$MergeCart
2025-09-02T15:40:54.448+09:00  INFO 19696 --- [ecommerce] [           main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.mapper.CartMapperTest$MergeCart]: MergeCart does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-09-02T15:40:54.451+09:00  INFO 19696 --- [ecommerce] [           main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.EcommerceRestApplication for test class com.example.mapper.CartMapperTest$MergeCart
2025-09-02T15:40:54.462+09:00  INFO 19696 --- [ecommerce] [           main] org.flywaydb.core.FlywayExecutor         : Database: jdbc:mysql://localhost:3306/ecommerce_test (MySQL 8.4)
2025-09-02T15:40:54.465+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:40:54.470+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully dropped pre-schema database level objects (execution time 00:00.000s)
2025-09-02T15:40:54.841+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully cleaned schema `ecommerce_test` (execution time 00:00.369s)
2025-09-02T15:40:54.846+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully cleaned schema `ecommerce_test` (execution time 00:00.005s)
2025-09-02T15:40:54.846+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully dropped post-schema database level objects (execution time 00:00.000s)
2025-09-02T15:40:54.851+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:40:54.853+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Repair of failed migration in Schema History table `ecommerce_test`.`flyway_schema_history` not necessary as table doesn't exist.
2025-09-02T15:40:54.858+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Schema history table `ecommerce_test`.`flyway_schema_history` does not exist yet
2025-09-02T15:40:54.858+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbRepair       : Successfully repaired schema history table `ecommerce_test`.`flyway_schema_history` (execution time 00:00.006s).
2025-09-02T15:40:54.864+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:40:54.869+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Schema history table `ecommerce_test`.`flyway_schema_history` does not exist yet
2025-09-02T15:40:54.870+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbValidate     : Successfully validated 14 migrations (execution time 00:00.005s)
2025-09-02T15:40:54.878+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Creating Schema History table `ecommerce_test`.`flyway_schema_history` ...
2025-09-02T15:40:54.939+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Current version of schema `ecommerce_test`: << Empty Schema >>
2025-09-02T15:40:54.943+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "1 - init"
2025-09-02T15:40:54.947+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.product' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:54.950+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.user' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:54.954+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.favorite' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:54.957+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.review' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:54.960+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.cart' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:54.963+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.cart_item' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:54.966+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.pre_registration' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:54.971+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.order' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:54.976+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.order_item' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:54.978+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.review' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:54.981+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.password_reset_token' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:55.492+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "1.1 - seed data"
2025-09-02T15:40:55.530+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "2 - remove cart version"
2025-09-02T15:40:55.607+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "3 - add ttl days to cart"
2025-09-02T15:40:55.740+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "4 - rename prices and update view"
2025-09-02T15:40:55.999+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "5 - update shipping and order status"
2025-09-02T15:40:56.057+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "6 - add review status and reject columns"
2025-09-02T15:40:56.204+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "7 - add product version and trigger"
2025-09-02T15:40:56.242+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Trigger does not exist (SQL State: HY000 - Error Code: 1360)
2025-09-02T15:40:56.268+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "8 - add check stock gte reserved"
2025-09-02T15:40:56.374+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "9 - add shipping and grand total"
2025-09-02T15:40:56.767+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "10 - tweak grand total column position"
2025-09-02T15:40:56.808+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "11 - cart item tweak column position"
2025-09-02T15:40:56.947+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "12 - order item subtotal incl generated"
2025-09-02T15:40:57.074+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` with repeatable migration "views"
2025-09-02T15:40:57.099+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Successfully applied 14 migrations to schema `ecommerce_test`, now at version v12 (execution time 00:01.916s)
[ERROR] Tests run: 5, Failures: 0, Errors: 5, Skipped: 0, Time elapsed: 2.696 s <<< FAILURE! -- in com.example.mapper.CartMapperTest$MergeCart
[ERROR] com.example.mapper.CartMapperTest$MergeCart.mergeCart_new -- Time elapsed: 0.008 s <<< ERROR!
java.lang.NullPointerException
	at java.base/java.util.Objects.requireNonNull(Objects.java:220)
	at java.base/java.util.ImmutableCollections$List12.<init>(ImmutableCollections.java:572)
	at java.base/java.util.List.of(List.java:952)
	at com.example.testUtil.TestDataFactory.createCart(TestDataFactory.java:46)
	at com.example.mapper.CartMapperTest$MergeCart.setup(CartMapperTest.java:173)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)

[ERROR] com.example.mapper.CartMapperTest$MergeCart.mergeCart_guestEmpty -- Time elapsed: 0.007 s <<< ERROR!
java.lang.NullPointerException
	at java.base/java.util.Objects.requireNonNull(Objects.java:220)
	at java.base/java.util.ImmutableCollections$List12.<init>(ImmutableCollections.java:572)
	at java.base/java.util.List.of(List.java:952)
	at com.example.testUtil.TestDataFactory.createCart(TestDataFactory.java:46)
	at com.example.mapper.CartMapperTest$MergeCart.setup(CartMapperTest.java:173)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)

[ERROR] com.example.mapper.CartMapperTest$MergeCart.mergeCart_updateBoundary(int, int, int, int)[1] -- Time elapsed: 0.007 s <<< ERROR!
java.lang.NullPointerException
	at java.base/java.util.Objects.requireNonNull(Objects.java:220)
	at java.base/java.util.ImmutableCollections$List12.<init>(ImmutableCollections.java:572)
	at java.base/java.util.List.of(List.java:952)
	at com.example.testUtil.TestDataFactory.createCart(TestDataFactory.java:46)
	at com.example.mapper.CartMapperTest$MergeCart.setup(CartMapperTest.java:173)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:807)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)

[ERROR] com.example.mapper.CartMapperTest$MergeCart.mergeCart_updateBoundary(int, int, int, int)[2] -- Time elapsed: 0.007 s <<< ERROR!
java.lang.NullPointerException
	at java.base/java.util.Objects.requireNonNull(Objects.java:220)
	at java.base/java.util.ImmutableCollections$List12.<init>(ImmutableCollections.java:572)
	at java.base/java.util.List.of(List.java:952)
	at com.example.testUtil.TestDataFactory.createCart(TestDataFactory.java:46)
	at com.example.mapper.CartMapperTest$MergeCart.setup(CartMapperTest.java:173)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:807)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)

[ERROR] com.example.mapper.CartMapperTest$MergeCart.mergeCart_updateBoundary(int, int, int, int)[3] -- Time elapsed: 0.006 s <<< ERROR!
java.lang.NullPointerException
	at java.base/java.util.Objects.requireNonNull(Objects.java:220)
	at java.base/java.util.ImmutableCollections$List12.<init>(ImmutableCollections.java:572)
	at java.base/java.util.List.of(List.java:952)
	at com.example.testUtil.TestDataFactory.createCart(TestDataFactory.java:46)
	at com.example.mapper.CartMapperTest$MergeCart.setup(CartMapperTest.java:173)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:807)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)

[INFO] Running com.example.mapper.CartMapperTest$FindOrCreateCartIdByUser
2025-09-02T15:40:57.146+09:00  INFO 19696 --- [ecommerce] [           main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.mapper.CartMapperTest$FindOrCreateCartIdByUser]: FindOrCreateCartIdByUser does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-09-02T15:40:57.156+09:00  INFO 19696 --- [ecommerce] [           main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.EcommerceRestApplication for test class com.example.mapper.CartMapperTest$FindOrCreateCartIdByUser
2025-09-02T15:40:57.178+09:00  INFO 19696 --- [ecommerce] [           main] org.flywaydb.core.FlywayExecutor         : Database: jdbc:mysql://localhost:3306/ecommerce_test (MySQL 8.4)
2025-09-02T15:40:57.182+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:40:57.189+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully dropped pre-schema database level objects (execution time 00:00.001s)
2025-09-02T15:40:57.487+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully cleaned schema `ecommerce_test` (execution time 00:00.297s)
2025-09-02T15:40:57.492+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully cleaned schema `ecommerce_test` (execution time 00:00.004s)
2025-09-02T15:40:57.492+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully dropped post-schema database level objects (execution time 00:00.000s)
2025-09-02T15:40:57.498+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:40:57.500+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Repair of failed migration in Schema History table `ecommerce_test`.`flyway_schema_history` not necessary as table doesn't exist.
2025-09-02T15:40:57.506+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Schema history table `ecommerce_test`.`flyway_schema_history` does not exist yet
2025-09-02T15:40:57.507+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbRepair       : Successfully repaired schema history table `ecommerce_test`.`flyway_schema_history` (execution time 00:00.008s).
2025-09-02T15:40:57.512+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:40:57.519+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Schema history table `ecommerce_test`.`flyway_schema_history` does not exist yet
2025-09-02T15:40:57.519+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbValidate     : Successfully validated 14 migrations (execution time 00:00.005s)
2025-09-02T15:40:57.525+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Creating Schema History table `ecommerce_test`.`flyway_schema_history` ...
2025-09-02T15:40:57.582+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Current version of schema `ecommerce_test`: << Empty Schema >>
2025-09-02T15:40:57.587+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "1 - init"
2025-09-02T15:40:57.595+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.product' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:57.599+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.user' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:57.603+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.favorite' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:57.608+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.review' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:57.612+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.cart' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:57.616+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.cart_item' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:57.621+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.pre_registration' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:57.625+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.order' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:57.629+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.order_item' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:57.633+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.review' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:57.636+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.password_reset_token' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:40:58.197+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "1.1 - seed data"
2025-09-02T15:40:58.239+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "2 - remove cart version"
2025-09-02T15:40:58.336+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "3 - add ttl days to cart"
2025-09-02T15:40:58.504+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "4 - rename prices and update view"
2025-09-02T15:40:58.763+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "5 - update shipping and order status"
2025-09-02T15:40:58.847+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "6 - add review status and reject columns"
2025-09-02T15:40:59.010+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "7 - add product version and trigger"
2025-09-02T15:40:59.051+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Trigger does not exist (SQL State: HY000 - Error Code: 1360)
2025-09-02T15:40:59.079+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "8 - add check stock gte reserved"
2025-09-02T15:40:59.191+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "9 - add shipping and grand total"
2025-09-02T15:40:59.917+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "10 - tweak grand total column position"
2025-09-02T15:40:59.953+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "11 - cart item tweak column position"
2025-09-02T15:41:00.094+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "12 - order item subtotal incl generated"
2025-09-02T15:41:00.218+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` with repeatable migration "views"
2025-09-02T15:41:00.240+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Successfully applied 14 migrations to schema `ecommerce_test`, now at version v12 (execution time 00:02.401s)
[INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 3.122 s -- in com.example.mapper.CartMapperTest$FindOrCreateCartIdByUser
[INFO] Running com.example.mapper.CartMapperTest$upsertCartItem
2025-09-02T15:41:00.269+09:00  INFO 19696 --- [ecommerce] [           main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.mapper.CartMapperTest$upsertCartItem]: upsertCartItem does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-09-02T15:41:00.271+09:00  INFO 19696 --- [ecommerce] [           main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.EcommerceRestApplication for test class com.example.mapper.CartMapperTest$upsertCartItem
2025-09-02T15:41:00.281+09:00  INFO 19696 --- [ecommerce] [           main] org.flywaydb.core.FlywayExecutor         : Database: jdbc:mysql://localhost:3306/ecommerce_test (MySQL 8.4)
2025-09-02T15:41:00.284+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:41:00.289+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully dropped pre-schema database level objects (execution time 00:00.000s)
2025-09-02T15:41:00.617+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully cleaned schema `ecommerce_test` (execution time 00:00.327s)
2025-09-02T15:41:00.621+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully cleaned schema `ecommerce_test` (execution time 00:00.003s)
2025-09-02T15:41:00.621+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully dropped post-schema database level objects (execution time 00:00.000s)
2025-09-02T15:41:00.624+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:41:00.625+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Repair of failed migration in Schema History table `ecommerce_test`.`flyway_schema_history` not necessary as table doesn't exist.
2025-09-02T15:41:00.630+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Schema history table `ecommerce_test`.`flyway_schema_history` does not exist yet
2025-09-02T15:41:00.630+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbRepair       : Successfully repaired schema history table `ecommerce_test`.`flyway_schema_history` (execution time 00:00.005s).
2025-09-02T15:41:00.636+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:41:00.642+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Schema history table `ecommerce_test`.`flyway_schema_history` does not exist yet
2025-09-02T15:41:00.642+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbValidate     : Successfully validated 14 migrations (execution time 00:00.004s)
2025-09-02T15:41:00.647+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Creating Schema History table `ecommerce_test`.`flyway_schema_history` ...
2025-09-02T15:41:00.719+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Current version of schema `ecommerce_test`: << Empty Schema >>
2025-09-02T15:41:00.724+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "1 - init"
2025-09-02T15:41:00.732+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.product' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:00.735+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.user' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:00.739+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.favorite' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:00.743+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.review' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:00.748+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.cart' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:00.752+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.cart_item' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:00.755+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.pre_registration' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:00.760+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.order' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:00.764+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.order_item' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:00.767+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.review' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:00.774+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.password_reset_token' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:01.307+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "1.1 - seed data"
2025-09-02T15:41:01.338+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "2 - remove cart version"
2025-09-02T15:41:01.408+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "3 - add ttl days to cart"
2025-09-02T15:41:01.557+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "4 - rename prices and update view"
2025-09-02T15:41:01.771+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "5 - update shipping and order status"
2025-09-02T15:41:01.831+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "6 - add review status and reject columns"
2025-09-02T15:41:01.991+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "7 - add product version and trigger"
2025-09-02T15:41:02.043+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Trigger does not exist (SQL State: HY000 - Error Code: 1360)
2025-09-02T15:41:02.081+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "8 - add check stock gte reserved"
2025-09-02T15:41:02.211+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "9 - add shipping and grand total"
2025-09-02T15:41:02.479+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "10 - tweak grand total column position"
2025-09-02T15:41:02.522+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "11 - cart item tweak column position"
2025-09-02T15:41:02.656+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "12 - order item subtotal incl generated"
2025-09-02T15:41:02.793+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` with repeatable migration "views"
2025-09-02T15:41:02.812+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Successfully applied 14 migrations to schema `ecommerce_test`, now at version v12 (execution time 00:01.849s)
[INFO] Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 2.617 s -- in com.example.mapper.CartMapperTest$upsertCartItem
[INFO] Running com.example.mapper.CartMapperTest$insertCartIfAbsent
2025-09-02T15:41:02.888+09:00  INFO 19696 --- [ecommerce] [           main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.mapper.CartMapperTest$insertCartIfAbsent]: insertCartIfAbsent does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-09-02T15:41:02.900+09:00  INFO 19696 --- [ecommerce] [           main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.EcommerceRestApplication for test class com.example.mapper.CartMapperTest$insertCartIfAbsent
2025-09-02T15:41:02.919+09:00  INFO 19696 --- [ecommerce] [           main] org.flywaydb.core.FlywayExecutor         : Database: jdbc:mysql://localhost:3306/ecommerce_test (MySQL 8.4)
2025-09-02T15:41:02.923+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:41:02.928+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully dropped pre-schema database level objects (execution time 00:00.000s)
2025-09-02T15:41:03.236+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully cleaned schema `ecommerce_test` (execution time 00:00.307s)
2025-09-02T15:41:03.241+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully cleaned schema `ecommerce_test` (execution time 00:00.004s)
2025-09-02T15:41:03.242+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully dropped post-schema database level objects (execution time 00:00.000s)
2025-09-02T15:41:03.246+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:41:03.247+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Repair of failed migration in Schema History table `ecommerce_test`.`flyway_schema_history` not necessary as table doesn't exist.
2025-09-02T15:41:03.252+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Schema history table `ecommerce_test`.`flyway_schema_history` does not exist yet
2025-09-02T15:41:03.253+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbRepair       : Successfully repaired schema history table `ecommerce_test`.`flyway_schema_history` (execution time 00:00.006s).
2025-09-02T15:41:03.257+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:41:03.264+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Schema history table `ecommerce_test`.`flyway_schema_history` does not exist yet
2025-09-02T15:41:03.265+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbValidate     : Successfully validated 14 migrations (execution time 00:00.006s)
2025-09-02T15:41:03.273+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Creating Schema History table `ecommerce_test`.`flyway_schema_history` ...
2025-09-02T15:41:03.341+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Current version of schema `ecommerce_test`: << Empty Schema >>
2025-09-02T15:41:03.345+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "1 - init"
2025-09-02T15:41:03.354+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.product' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:03.359+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.user' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:03.363+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.favorite' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:03.367+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.review' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:03.371+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.cart' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:03.376+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.cart_item' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:03.380+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.pre_registration' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:03.383+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.order' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:03.387+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.order_item' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:03.390+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.review' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:03.394+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.password_reset_token' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:03.884+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "1.1 - seed data"
2025-09-02T15:41:03.908+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "2 - remove cart version"
2025-09-02T15:41:03.972+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "3 - add ttl days to cart"
2025-09-02T15:41:04.110+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "4 - rename prices and update view"
2025-09-02T15:41:04.334+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "5 - update shipping and order status"
2025-09-02T15:41:04.390+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "6 - add review status and reject columns"
2025-09-02T15:41:04.556+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "7 - add product version and trigger"
2025-09-02T15:41:04.595+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Trigger does not exist (SQL State: HY000 - Error Code: 1360)
2025-09-02T15:41:04.618+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "8 - add check stock gte reserved"
2025-09-02T15:41:04.725+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "9 - add shipping and grand total"
2025-09-02T15:41:05.005+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "10 - tweak grand total column position"
2025-09-02T15:41:05.035+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "11 - cart item tweak column position"
2025-09-02T15:41:05.265+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "12 - order item subtotal incl generated"
2025-09-02T15:41:05.407+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` with repeatable migration "views"
2025-09-02T15:41:05.435+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Successfully applied 14 migrations to schema `ecommerce_test`, now at version v12 (execution time 00:01.875s)
[INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 2.569 s -- in com.example.mapper.CartMapperTest$insertCartIfAbsent
[INFO] Tests run: 0, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 21.92 s -- in com.example.mapper.CartMapperTest
[INFO] Running com.example.mapper.FavoriteMapperTest
2025-09-02T15:41:05.457+09:00  INFO 19696 --- [ecommerce] [           main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.mapper.FavoriteMapperTest]: FavoriteMapperTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-09-02T15:41:05.465+09:00  INFO 19696 --- [ecommerce] [           main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.EcommerceRestApplication for test class com.example.mapper.FavoriteMapperTest
2025-09-02T15:41:05.468+09:00  INFO 19696 --- [ecommerce] [           main] o.s.b.d.r.RestartApplicationListener     : Restart disabled due to context in which it is running

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/

 :: Spring Boot ::                (v3.5.0)

2025-09-02T15:41:05.510+09:00  INFO 19696 --- [ecommerce] [           main] com.example.mapper.FavoriteMapperTest    : Starting FavoriteMapperTest using Java 23 with PID 19696 (started by kcrkn in C:\pleiades\2024-06\ecommerce\ecommerce_rest)
2025-09-02T15:41:05.510+09:00  INFO 19696 --- [ecommerce] [           main] com.example.mapper.FavoriteMapperTest    : The following 1 profile is active: "test"
2025-09-02T15:41:06.049+09:00  INFO 19696 --- [ecommerce] [           main] com.example.mapper.FavoriteMapperTest    : Started FavoriteMapperTest in 0.581 seconds (process running for 78.335)
2025-09-02T15:41:06.072+09:00  INFO 19696 --- [ecommerce] [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Starting...
2025-09-02T15:41:06.119+09:00  INFO 19696 --- [ecommerce] [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1bb86b05
2025-09-02T15:41:06.119+09:00  INFO 19696 --- [ecommerce] [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Start completed.
2025-09-02T15:41:06.128+09:00  INFO 19696 --- [ecommerce] [           main] org.flywaydb.core.FlywayExecutor         : Database: jdbc:mysql://localhost:3306/ecommerce_test (MySQL 8.4)
2025-09-02T15:41:06.138+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:41:06.149+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully dropped pre-schema database level objects (execution time 00:00.000s)
2025-09-02T15:41:06.499+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully cleaned schema `ecommerce_test` (execution time 00:00.348s)
2025-09-02T15:41:06.507+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully cleaned schema `ecommerce_test` (execution time 00:00.007s)
2025-09-02T15:41:06.507+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully dropped post-schema database level objects (execution time 00:00.000s)
2025-09-02T15:41:06.516+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:41:06.519+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Repair of failed migration in Schema History table `ecommerce_test`.`flyway_schema_history` not necessary as table doesn't exist.
2025-09-02T15:41:06.526+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Schema history table `ecommerce_test`.`flyway_schema_history` does not exist yet
2025-09-02T15:41:06.527+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbRepair       : Successfully repaired schema history table `ecommerce_test`.`flyway_schema_history` (execution time 00:00.010s).
2025-09-02T15:41:06.533+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:41:06.539+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Schema history table `ecommerce_test`.`flyway_schema_history` does not exist yet
2025-09-02T15:41:06.540+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbValidate     : Successfully validated 14 migrations (execution time 00:00.005s)
2025-09-02T15:41:06.551+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Creating Schema History table `ecommerce_test`.`flyway_schema_history` ...
2025-09-02T15:41:06.612+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Current version of schema `ecommerce_test`: << Empty Schema >>
2025-09-02T15:41:06.616+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "1 - init"
2025-09-02T15:41:06.622+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.product' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:06.626+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.user' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:06.629+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.favorite' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:06.633+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.review' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:06.636+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.cart' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:06.640+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.cart_item' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:06.645+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.pre_registration' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:06.648+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.order' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:06.653+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.order_item' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:06.657+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.review' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:06.661+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.password_reset_token' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:07.131+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "1.1 - seed data"
2025-09-02T15:41:07.155+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "2 - remove cart version"
2025-09-02T15:41:07.215+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "3 - add ttl days to cart"
2025-09-02T15:41:07.341+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "4 - rename prices and update view"
2025-09-02T15:41:07.567+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "5 - update shipping and order status"
2025-09-02T15:41:07.631+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "6 - add review status and reject columns"
2025-09-02T15:41:07.758+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "7 - add product version and trigger"
2025-09-02T15:41:07.797+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Trigger does not exist (SQL State: HY000 - Error Code: 1360)
2025-09-02T15:41:07.822+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "8 - add check stock gte reserved"
2025-09-02T15:41:07.922+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "9 - add shipping and grand total"
2025-09-02T15:41:08.225+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "10 - tweak grand total column position"
2025-09-02T15:41:08.272+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "11 - cart item tweak column position"
2025-09-02T15:41:08.440+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "12 - order item subtotal incl generated"
2025-09-02T15:41:08.640+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` with repeatable migration "views"
2025-09-02T15:41:08.684+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Successfully applied 14 migrations to schema `ecommerce_test`, now at version v12 (execution time 00:01.820s)
[INFO] Running com.example.mapper.FavoriteMapperTest$FindFavoritesPage
2025-09-02T15:41:08.690+09:00  INFO 19696 --- [ecommerce] [           main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.mapper.FavoriteMapperTest$FindFavoritesPage]: FindFavoritesPage does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-09-02T15:41:08.695+09:00  INFO 19696 --- [ecommerce] [           main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.EcommerceRestApplication for test class com.example.mapper.FavoriteMapperTest$FindFavoritesPage
2025-09-02T15:41:08.709+09:00  INFO 19696 --- [ecommerce] [           main] org.flywaydb.core.FlywayExecutor         : Database: jdbc:mysql://localhost:3306/ecommerce_test (MySQL 8.4)
2025-09-02T15:41:08.712+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:41:08.719+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully dropped pre-schema database level objects (execution time 00:00.000s)
2025-09-02T15:41:09.073+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully cleaned schema `ecommerce_test` (execution time 00:00.352s)
2025-09-02T15:41:09.077+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully cleaned schema `ecommerce_test` (execution time 00:00.004s)
2025-09-02T15:41:09.078+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully dropped post-schema database level objects (execution time 00:00.000s)
2025-09-02T15:41:09.083+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:41:09.085+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Repair of failed migration in Schema History table `ecommerce_test`.`flyway_schema_history` not necessary as table doesn't exist.
2025-09-02T15:41:09.090+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Schema history table `ecommerce_test`.`flyway_schema_history` does not exist yet
2025-09-02T15:41:09.091+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbRepair       : Successfully repaired schema history table `ecommerce_test`.`flyway_schema_history` (execution time 00:00.007s).
2025-09-02T15:41:09.095+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:41:09.103+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Schema history table `ecommerce_test`.`flyway_schema_history` does not exist yet
2025-09-02T15:41:09.104+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbValidate     : Successfully validated 14 migrations (execution time 00:00.008s)
2025-09-02T15:41:09.113+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Creating Schema History table `ecommerce_test`.`flyway_schema_history` ...
2025-09-02T15:41:09.207+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Current version of schema `ecommerce_test`: << Empty Schema >>
2025-09-02T15:41:09.210+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "1 - init"
2025-09-02T15:41:09.215+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.product' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:09.219+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.user' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:09.223+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.favorite' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:09.226+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.review' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:09.230+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.cart' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:09.234+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.cart_item' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:09.238+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.pre_registration' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:09.242+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.order' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:09.248+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.order_item' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:09.252+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.review' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:09.255+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.password_reset_token' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:09.708+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "1.1 - seed data"
2025-09-02T15:41:09.742+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "2 - remove cart version"
2025-09-02T15:41:09.833+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "3 - add ttl days to cart"
2025-09-02T15:41:09.978+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "4 - rename prices and update view"
2025-09-02T15:41:10.191+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "5 - update shipping and order status"
2025-09-02T15:41:10.270+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "6 - add review status and reject columns"
2025-09-02T15:41:10.404+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "7 - add product version and trigger"
2025-09-02T15:41:10.434+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Trigger does not exist (SQL State: HY000 - Error Code: 1360)
2025-09-02T15:41:10.457+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "8 - add check stock gte reserved"
2025-09-02T15:41:10.604+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "9 - add shipping and grand total"
2025-09-02T15:41:11.009+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "10 - tweak grand total column position"
2025-09-02T15:41:11.037+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "11 - cart item tweak column position"
2025-09-02T15:41:11.156+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "12 - order item subtotal incl generated"
2025-09-02T15:41:11.280+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` with repeatable migration "views"
2025-09-02T15:41:11.304+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Successfully applied 14 migrations to schema `ecommerce_test`, now at version v12 (execution time 00:01.878s)
[INFO] Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 2.666 s -- in com.example.mapper.FavoriteMapperTest$FindFavoritesPage
[INFO] Tests run: 0, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 5.899 s -- in com.example.mapper.FavoriteMapperTest
[INFO] Running com.example.mapper.OrderMapperTest
2025-09-02T15:41:11.358+09:00  INFO 19696 --- [ecommerce] [           main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.mapper.OrderMapperTest]: OrderMapperTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-09-02T15:41:11.368+09:00  INFO 19696 --- [ecommerce] [           main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.EcommerceRestApplication for test class com.example.mapper.OrderMapperTest
2025-09-02T15:41:11.386+09:00  INFO 19696 --- [ecommerce] [           main] org.flywaydb.core.FlywayExecutor         : Database: jdbc:mysql://localhost:3306/ecommerce_test (MySQL 8.4)
2025-09-02T15:41:11.388+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:41:11.392+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully dropped pre-schema database level objects (execution time 00:00.000s)
2025-09-02T15:41:11.724+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully cleaned schema `ecommerce_test` (execution time 00:00.332s)
2025-09-02T15:41:11.730+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully cleaned schema `ecommerce_test` (execution time 00:00.005s)
2025-09-02T15:41:11.731+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully dropped post-schema database level objects (execution time 00:00.000s)
2025-09-02T15:41:11.737+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:41:11.738+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Repair of failed migration in Schema History table `ecommerce_test`.`flyway_schema_history` not necessary as table doesn't exist.
2025-09-02T15:41:11.743+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Schema history table `ecommerce_test`.`flyway_schema_history` does not exist yet
2025-09-02T15:41:11.743+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbRepair       : Successfully repaired schema history table `ecommerce_test`.`flyway_schema_history` (execution time 00:00.005s).
2025-09-02T15:41:11.747+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:41:11.751+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Schema history table `ecommerce_test`.`flyway_schema_history` does not exist yet
2025-09-02T15:41:11.751+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbValidate     : Successfully validated 14 migrations (execution time 00:00.003s)
2025-09-02T15:41:11.756+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Creating Schema History table `ecommerce_test`.`flyway_schema_history` ...
2025-09-02T15:41:11.811+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Current version of schema `ecommerce_test`: << Empty Schema >>
2025-09-02T15:41:11.813+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "1 - init"
2025-09-02T15:41:11.816+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.product' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:11.819+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.user' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:11.822+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.favorite' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:11.825+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.review' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:11.827+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.cart' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:11.830+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.cart_item' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:11.833+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.pre_registration' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:11.836+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.order' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:11.840+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.order_item' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:11.843+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.review' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:11.847+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.password_reset_token' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:12.339+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "1.1 - seed data"
2025-09-02T15:41:12.368+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "2 - remove cart version"
2025-09-02T15:41:12.452+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "3 - add ttl days to cart"
2025-09-02T15:41:12.594+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "4 - rename prices and update view"
2025-09-02T15:41:12.789+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "5 - update shipping and order status"
2025-09-02T15:41:12.874+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "6 - add review status and reject columns"
2025-09-02T15:41:13.028+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "7 - add product version and trigger"
2025-09-02T15:41:13.059+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Trigger does not exist (SQL State: HY000 - Error Code: 1360)
2025-09-02T15:41:13.084+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "8 - add check stock gte reserved"
2025-09-02T15:41:13.197+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "9 - add shipping and grand total"
2025-09-02T15:41:13.446+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "10 - tweak grand total column position"
2025-09-02T15:41:13.474+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "11 - cart item tweak column position"
2025-09-02T15:41:13.600+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "12 - order item subtotal incl generated"
2025-09-02T15:41:13.721+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` with repeatable migration "views"
2025-09-02T15:41:13.747+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Successfully applied 14 migrations to schema `ecommerce_test`, now at version v12 (execution time 00:01.698s)
[INFO] Running com.example.mapper.OrderMapperTest$ApplyTransition
2025-09-02T15:41:13.790+09:00  INFO 19696 --- [ecommerce] [           main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.mapper.OrderMapperTest$ApplyTransition]: ApplyTransition does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-09-02T15:41:13.798+09:00  INFO 19696 --- [ecommerce] [           main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.EcommerceRestApplication for test class com.example.mapper.OrderMapperTest$ApplyTransition
2025-09-02T15:41:13.816+09:00  INFO 19696 --- [ecommerce] [           main] org.flywaydb.core.FlywayExecutor         : Database: jdbc:mysql://localhost:3306/ecommerce_test (MySQL 8.4)
2025-09-02T15:41:13.819+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:41:13.822+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully dropped pre-schema database level objects (execution time 00:00.000s)
2025-09-02T15:41:14.121+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully cleaned schema `ecommerce_test` (execution time 00:00.297s)
2025-09-02T15:41:14.126+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully cleaned schema `ecommerce_test` (execution time 00:00.004s)
2025-09-02T15:41:14.126+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully dropped post-schema database level objects (execution time 00:00.000s)
2025-09-02T15:41:14.130+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:41:14.132+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Repair of failed migration in Schema History table `ecommerce_test`.`flyway_schema_history` not necessary as table doesn't exist.
2025-09-02T15:41:14.137+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Schema history table `ecommerce_test`.`flyway_schema_history` does not exist yet
2025-09-02T15:41:14.137+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbRepair       : Successfully repaired schema history table `ecommerce_test`.`flyway_schema_history` (execution time 00:00.006s).
2025-09-02T15:41:14.142+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:41:14.148+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Schema history table `ecommerce_test`.`flyway_schema_history` does not exist yet
2025-09-02T15:41:14.149+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbValidate     : Successfully validated 14 migrations (execution time 00:00.005s)
2025-09-02T15:41:14.156+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Creating Schema History table `ecommerce_test`.`flyway_schema_history` ...
2025-09-02T15:41:14.214+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Current version of schema `ecommerce_test`: << Empty Schema >>
2025-09-02T15:41:14.217+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "1 - init"
2025-09-02T15:41:14.221+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.product' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:14.224+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.user' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:14.228+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.favorite' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:14.231+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.review' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:14.235+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.cart' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:14.239+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.cart_item' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:14.242+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.pre_registration' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:14.246+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.order' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:14.250+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.order_item' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:14.254+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.review' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:14.261+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.password_reset_token' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:14.726+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "1.1 - seed data"
2025-09-02T15:41:14.754+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "2 - remove cart version"
2025-09-02T15:41:14.819+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "3 - add ttl days to cart"
2025-09-02T15:41:14.942+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "4 - rename prices and update view"
2025-09-02T15:41:15.159+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "5 - update shipping and order status"
2025-09-02T15:41:15.222+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "6 - add review status and reject columns"
2025-09-02T15:41:15.354+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "7 - add product version and trigger"
2025-09-02T15:41:15.398+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Trigger does not exist (SQL State: HY000 - Error Code: 1360)
2025-09-02T15:41:15.421+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "8 - add check stock gte reserved"
2025-09-02T15:41:15.531+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "9 - add shipping and grand total"
2025-09-02T15:41:15.794+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "10 - tweak grand total column position"
2025-09-02T15:41:15.822+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "11 - cart item tweak column position"
2025-09-02T15:41:15.951+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "12 - order item subtotal incl generated"
2025-09-02T15:41:16.084+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` with repeatable migration "views"
2025-09-02T15:41:16.112+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Successfully applied 14 migrations to schema `ecommerce_test`, now at version v12 (execution time 00:01.687s)
[INFO] Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 2.357 s -- in com.example.mapper.OrderMapperTest$ApplyTransition
[ERROR] Tests run: 7, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 4.791 s <<< FAILURE! -- in com.example.mapper.OrderMapperTest
[ERROR] com.example.mapper.OrderMapperTest.selectCheckoutItems -- Time elapsed: 0.006 s <<< ERROR!
java.lang.NullPointerException
	at java.base/java.util.Objects.requireNonNull(Objects.java:220)
	at java.base/java.util.ImmutableCollections$List12.<init>(ImmutableCollections.java:572)
	at java.base/java.util.List.of(List.java:952)
	at com.example.testUtil.TestDataFactory.createCart(TestDataFactory.java:46)
	at com.example.mapper.OrderMapperTest.selectCheckoutItems(OrderMapperTest.java:53)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)

[INFO] Running com.example.mapper.ProductMapperTest
2025-09-02T15:41:16.148+09:00  INFO 19696 --- [ecommerce] [           main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.mapper.ProductMapperTest]: ProductMapperTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-09-02T15:41:16.152+09:00  INFO 19696 --- [ecommerce] [           main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.EcommerceRestApplication for test class com.example.mapper.ProductMapperTest
2025-09-02T15:41:16.164+09:00  INFO 19696 --- [ecommerce] [           main] org.flywaydb.core.FlywayExecutor         : Database: jdbc:mysql://localhost:3306/ecommerce_test (MySQL 8.4)
2025-09-02T15:41:16.167+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:41:16.173+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully dropped pre-schema database level objects (execution time 00:00.001s)
2025-09-02T15:41:16.708+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully cleaned schema `ecommerce_test` (execution time 00:00.533s)
2025-09-02T15:41:16.714+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully cleaned schema `ecommerce_test` (execution time 00:00.005s)
2025-09-02T15:41:16.715+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully dropped post-schema database level objects (execution time 00:00.000s)
2025-09-02T15:41:16.720+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:41:16.721+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Repair of failed migration in Schema History table `ecommerce_test`.`flyway_schema_history` not necessary as table doesn't exist.
2025-09-02T15:41:16.725+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Schema history table `ecommerce_test`.`flyway_schema_history` does not exist yet
2025-09-02T15:41:16.725+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbRepair       : Successfully repaired schema history table `ecommerce_test`.`flyway_schema_history` (execution time 00:00.005s).
2025-09-02T15:41:16.729+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:41:16.733+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Schema history table `ecommerce_test`.`flyway_schema_history` does not exist yet
2025-09-02T15:41:16.733+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbValidate     : Successfully validated 14 migrations (execution time 00:00.004s)
2025-09-02T15:41:16.738+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Creating Schema History table `ecommerce_test`.`flyway_schema_history` ...
2025-09-02T15:41:16.793+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Current version of schema `ecommerce_test`: << Empty Schema >>
2025-09-02T15:41:16.796+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "1 - init"
2025-09-02T15:41:16.799+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.product' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:16.803+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.user' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:16.806+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.favorite' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:16.809+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.review' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:16.812+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.cart' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:16.815+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.cart_item' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:16.818+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.pre_registration' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:16.822+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.order' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:16.825+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.order_item' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:16.828+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.review' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:16.831+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.password_reset_token' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:17.278+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "1.1 - seed data"
2025-09-02T15:41:17.302+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "2 - remove cart version"
2025-09-02T15:41:17.362+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "3 - add ttl days to cart"
2025-09-02T15:41:17.521+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "4 - rename prices and update view"
2025-09-02T15:41:17.728+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "5 - update shipping and order status"
2025-09-02T15:41:17.780+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "6 - add review status and reject columns"
2025-09-02T15:41:17.910+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "7 - add product version and trigger"
2025-09-02T15:41:17.938+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Trigger does not exist (SQL State: HY000 - Error Code: 1360)
2025-09-02T15:41:17.964+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "8 - add check stock gte reserved"
2025-09-02T15:41:18.082+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "9 - add shipping and grand total"
2025-09-02T15:41:18.361+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "10 - tweak grand total column position"
2025-09-02T15:41:18.398+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "11 - cart item tweak column position"
2025-09-02T15:41:18.543+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "12 - order item subtotal incl generated"
2025-09-02T15:41:18.680+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` with repeatable migration "views"
2025-09-02T15:41:18.719+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Successfully applied 14 migrations to schema `ecommerce_test`, now at version v12 (execution time 00:01.706s)
[INFO] Running com.example.mapper.ProductMapperTest$DecreaseStock
2025-09-02T15:41:18.796+09:00  INFO 19696 --- [ecommerce] [           main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.mapper.ProductMapperTest$DecreaseStock]: DecreaseStock does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-09-02T15:41:18.803+09:00  INFO 19696 --- [ecommerce] [           main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.EcommerceRestApplication for test class com.example.mapper.ProductMapperTest$DecreaseStock
2025-09-02T15:41:18.823+09:00  INFO 19696 --- [ecommerce] [           main] org.flywaydb.core.FlywayExecutor         : Database: jdbc:mysql://localhost:3306/ecommerce_test (MySQL 8.4)
2025-09-02T15:41:18.828+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:41:18.834+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully dropped pre-schema database level objects (execution time 00:00.000s)
2025-09-02T15:41:19.162+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully cleaned schema `ecommerce_test` (execution time 00:00.327s)
2025-09-02T15:41:19.169+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully cleaned schema `ecommerce_test` (execution time 00:00.006s)
2025-09-02T15:41:19.169+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully dropped post-schema database level objects (execution time 00:00.000s)
2025-09-02T15:41:19.177+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:41:19.180+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Repair of failed migration in Schema History table `ecommerce_test`.`flyway_schema_history` not necessary as table doesn't exist.
2025-09-02T15:41:19.186+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Schema history table `ecommerce_test`.`flyway_schema_history` does not exist yet
2025-09-02T15:41:19.187+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbRepair       : Successfully repaired schema history table `ecommerce_test`.`flyway_schema_history` (execution time 00:00.009s).
2025-09-02T15:41:19.192+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:41:19.199+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Schema history table `ecommerce_test`.`flyway_schema_history` does not exist yet
2025-09-02T15:41:19.200+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbValidate     : Successfully validated 14 migrations (execution time 00:00.006s)
2025-09-02T15:41:19.208+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Creating Schema History table `ecommerce_test`.`flyway_schema_history` ...
2025-09-02T15:41:19.271+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Current version of schema `ecommerce_test`: << Empty Schema >>
2025-09-02T15:41:19.273+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "1 - init"
2025-09-02T15:41:19.281+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.product' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:19.285+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.user' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:19.288+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.favorite' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:19.292+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.review' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:19.297+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.cart' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:19.300+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.cart_item' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:19.303+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.pre_registration' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:19.306+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.order' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:19.310+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.order_item' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:19.314+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.review' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:19.319+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.password_reset_token' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:19.821+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "1.1 - seed data"
2025-09-02T15:41:19.841+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "2 - remove cart version"
2025-09-02T15:41:19.950+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "3 - add ttl days to cart"
2025-09-02T15:41:20.082+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "4 - rename prices and update view"
2025-09-02T15:41:20.331+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "5 - update shipping and order status"
2025-09-02T15:41:20.394+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "6 - add review status and reject columns"
2025-09-02T15:41:20.527+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "7 - add product version and trigger"
2025-09-02T15:41:20.568+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Trigger does not exist (SQL State: HY000 - Error Code: 1360)
2025-09-02T15:41:20.593+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "8 - add check stock gte reserved"
2025-09-02T15:41:20.697+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "9 - add shipping and grand total"
2025-09-02T15:41:20.989+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "10 - tweak grand total column position"
2025-09-02T15:41:21.019+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "11 - cart item tweak column position"
2025-09-02T15:41:21.135+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "12 - order item subtotal incl generated"
2025-09-02T15:41:21.251+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` with repeatable migration "views"
2025-09-02T15:41:21.276+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Successfully applied 14 migrations to schema `ecommerce_test`, now at version v12 (execution time 00:01.776s)
[INFO] Tests run: 7, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 2.561 s -- in com.example.mapper.ProductMapperTest$DecreaseStock
[INFO] Tests run: 12, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 5.209 s -- in com.example.mapper.ProductMapperTest
[INFO] Running com.example.mapper.ReviewMapperTest
2025-09-02T15:41:21.362+09:00  INFO 19696 --- [ecommerce] [           main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.mapper.ReviewMapperTest]: ReviewMapperTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-09-02T15:41:21.372+09:00  INFO 19696 --- [ecommerce] [           main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.EcommerceRestApplication for test class com.example.mapper.ReviewMapperTest
2025-09-02T15:41:21.393+09:00  INFO 19696 --- [ecommerce] [           main] org.flywaydb.core.FlywayExecutor         : Database: jdbc:mysql://localhost:3306/ecommerce_test (MySQL 8.4)
2025-09-02T15:41:21.398+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:41:21.404+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully dropped pre-schema database level objects (execution time 00:00.000s)
2025-09-02T15:41:21.752+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully cleaned schema `ecommerce_test` (execution time 00:00.346s)
2025-09-02T15:41:21.757+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully cleaned schema `ecommerce_test` (execution time 00:00.005s)
2025-09-02T15:41:21.757+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully dropped post-schema database level objects (execution time 00:00.000s)
2025-09-02T15:41:21.762+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:41:21.764+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Repair of failed migration in Schema History table `ecommerce_test`.`flyway_schema_history` not necessary as table doesn't exist.
2025-09-02T15:41:21.769+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Schema history table `ecommerce_test`.`flyway_schema_history` does not exist yet
2025-09-02T15:41:21.770+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbRepair       : Successfully repaired schema history table `ecommerce_test`.`flyway_schema_history` (execution time 00:00.006s).
2025-09-02T15:41:21.778+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:41:21.787+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Schema history table `ecommerce_test`.`flyway_schema_history` does not exist yet
2025-09-02T15:41:21.788+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbValidate     : Successfully validated 14 migrations (execution time 00:00.008s)
2025-09-02T15:41:21.796+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Creating Schema History table `ecommerce_test`.`flyway_schema_history` ...
2025-09-02T15:41:21.855+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Current version of schema `ecommerce_test`: << Empty Schema >>
2025-09-02T15:41:21.858+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "1 - init"
2025-09-02T15:41:21.864+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.product' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:21.868+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.user' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:21.871+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.favorite' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:21.875+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.review' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:21.877+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.cart' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:21.880+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.cart_item' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:21.883+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.pre_registration' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:22.027+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.order' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:22.036+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.order_item' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:22.041+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.review' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:22.047+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.password_reset_token' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:22.552+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "1.1 - seed data"
2025-09-02T15:41:22.576+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "2 - remove cart version"
2025-09-02T15:41:22.643+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "3 - add ttl days to cart"
2025-09-02T15:41:22.777+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "4 - rename prices and update view"
2025-09-02T15:41:22.977+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "5 - update shipping and order status"
2025-09-02T15:41:23.039+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "6 - add review status and reject columns"
2025-09-02T15:41:23.202+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "7 - add product version and trigger"
2025-09-02T15:41:23.234+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Trigger does not exist (SQL State: HY000 - Error Code: 1360)
2025-09-02T15:41:23.261+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "8 - add check stock gte reserved"
2025-09-02T15:41:23.390+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "9 - add shipping and grand total"
2025-09-02T15:41:23.668+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "10 - tweak grand total column position"
2025-09-02T15:41:23.698+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "11 - cart item tweak column position"
2025-09-02T15:41:23.852+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "12 - order item subtotal incl generated"
2025-09-02T15:41:23.994+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` with repeatable migration "views"
2025-09-02T15:41:24.015+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Successfully applied 14 migrations to schema `ecommerce_test`, now at version v12 (execution time 00:01.954s)
[INFO] Running com.example.mapper.ReviewMapperTest$UpdateByEvent
2025-09-02T15:41:24.028+09:00  INFO 19696 --- [ecommerce] [           main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.mapper.ReviewMapperTest$UpdateByEvent]: UpdateByEvent does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-09-02T15:41:24.031+09:00  INFO 19696 --- [ecommerce] [           main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.EcommerceRestApplication for test class com.example.mapper.ReviewMapperTest$UpdateByEvent
2025-09-02T15:41:24.039+09:00  INFO 19696 --- [ecommerce] [           main] org.flywaydb.core.FlywayExecutor         : Database: jdbc:mysql://localhost:3306/ecommerce_test (MySQL 8.4)
2025-09-02T15:41:24.042+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:41:24.047+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully dropped pre-schema database level objects (execution time 00:00.000s)
2025-09-02T15:41:24.370+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully cleaned schema `ecommerce_test` (execution time 00:00.323s)
2025-09-02T15:41:24.376+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully cleaned schema `ecommerce_test` (execution time 00:00.005s)
2025-09-02T15:41:24.377+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully dropped post-schema database level objects (execution time 00:00.000s)
2025-09-02T15:41:24.384+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:41:24.385+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Repair of failed migration in Schema History table `ecommerce_test`.`flyway_schema_history` not necessary as table doesn't exist.
2025-09-02T15:41:24.390+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Schema history table `ecommerce_test`.`flyway_schema_history` does not exist yet
2025-09-02T15:41:24.390+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbRepair       : Successfully repaired schema history table `ecommerce_test`.`flyway_schema_history` (execution time 00:00.006s).
2025-09-02T15:41:24.396+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:41:24.402+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Schema history table `ecommerce_test`.`flyway_schema_history` does not exist yet
2025-09-02T15:41:24.402+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbValidate     : Successfully validated 14 migrations (execution time 00:00.005s)
2025-09-02T15:41:24.410+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Creating Schema History table `ecommerce_test`.`flyway_schema_history` ...
2025-09-02T15:41:24.469+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Current version of schema `ecommerce_test`: << Empty Schema >>
2025-09-02T15:41:24.473+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "1 - init"
2025-09-02T15:41:24.482+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.product' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:24.486+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.user' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:24.492+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.favorite' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:24.498+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.review' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:24.503+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.cart' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:24.507+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.cart_item' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:24.511+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.pre_registration' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:24.517+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.order' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:24.521+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.order_item' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:24.525+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.review' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:24.528+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.password_reset_token' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:25.067+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "1.1 - seed data"
2025-09-02T15:41:25.094+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "2 - remove cart version"
2025-09-02T15:41:25.163+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "3 - add ttl days to cart"
2025-09-02T15:41:25.284+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "4 - rename prices and update view"
2025-09-02T15:41:25.511+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "5 - update shipping and order status"
2025-09-02T15:41:25.578+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "6 - add review status and reject columns"
2025-09-02T15:41:25.705+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "7 - add product version and trigger"
2025-09-02T15:41:25.741+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Trigger does not exist (SQL State: HY000 - Error Code: 1360)
2025-09-02T15:41:25.764+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "8 - add check stock gte reserved"
2025-09-02T15:41:25.869+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "9 - add shipping and grand total"
2025-09-02T15:41:26.133+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "10 - tweak grand total column position"
2025-09-02T15:41:26.162+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "11 - cart item tweak column position"
2025-09-02T15:41:26.287+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "12 - order item subtotal incl generated"
2025-09-02T15:41:26.412+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` with repeatable migration "views"
2025-09-02T15:41:26.438+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Successfully applied 14 migrations to schema `ecommerce_test`, now at version v12 (execution time 00:01.750s)
[INFO] Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 2.461 s -- in com.example.mapper.ReviewMapperTest$UpdateByEvent
[INFO] Running com.example.mapper.ReviewMapperTest$Query
2025-09-02T15:41:26.492+09:00  INFO 19696 --- [ecommerce] [           main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.mapper.ReviewMapperTest$Query]: Query does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-09-02T15:41:26.502+09:00  INFO 19696 --- [ecommerce] [           main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.EcommerceRestApplication for test class com.example.mapper.ReviewMapperTest$Query
2025-09-02T15:41:26.518+09:00  INFO 19696 --- [ecommerce] [           main] org.flywaydb.core.FlywayExecutor         : Database: jdbc:mysql://localhost:3306/ecommerce_test (MySQL 8.4)
2025-09-02T15:41:26.521+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:41:26.526+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully dropped pre-schema database level objects (execution time 00:00.000s)
2025-09-02T15:41:26.837+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully cleaned schema `ecommerce_test` (execution time 00:00.311s)
2025-09-02T15:41:26.841+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully cleaned schema `ecommerce_test` (execution time 00:00.004s)
2025-09-02T15:41:26.842+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully dropped post-schema database level objects (execution time 00:00.000s)
2025-09-02T15:41:26.849+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:41:26.851+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Repair of failed migration in Schema History table `ecommerce_test`.`flyway_schema_history` not necessary as table doesn't exist.
2025-09-02T15:41:26.857+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Schema history table `ecommerce_test`.`flyway_schema_history` does not exist yet
2025-09-02T15:41:26.858+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbRepair       : Successfully repaired schema history table `ecommerce_test`.`flyway_schema_history` (execution time 00:00.008s).
2025-09-02T15:41:26.863+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:41:26.869+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Schema history table `ecommerce_test`.`flyway_schema_history` does not exist yet
2025-09-02T15:41:26.869+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbValidate     : Successfully validated 14 migrations (execution time 00:00.005s)
2025-09-02T15:41:26.877+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Creating Schema History table `ecommerce_test`.`flyway_schema_history` ...
2025-09-02T15:41:26.940+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Current version of schema `ecommerce_test`: << Empty Schema >>
2025-09-02T15:41:26.944+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "1 - init"
2025-09-02T15:41:26.947+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.product' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:26.953+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.user' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:26.957+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.favorite' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:26.961+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.review' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:26.966+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.cart' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:26.970+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.cart_item' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:26.974+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.pre_registration' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:26.979+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.order' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:26.983+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.order_item' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:26.987+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.review' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:26.992+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.password_reset_token' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:27.820+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "1.1 - seed data"
2025-09-02T15:41:27.842+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "2 - remove cart version"
2025-09-02T15:41:27.911+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "3 - add ttl days to cart"
2025-09-02T15:41:28.101+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "4 - rename prices and update view"
2025-09-02T15:41:28.308+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "5 - update shipping and order status"
2025-09-02T15:41:28.371+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "6 - add review status and reject columns"
2025-09-02T15:41:28.535+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "7 - add product version and trigger"
2025-09-02T15:41:28.594+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Trigger does not exist (SQL State: HY000 - Error Code: 1360)
2025-09-02T15:41:28.629+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "8 - add check stock gte reserved"
2025-09-02T15:41:28.739+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "9 - add shipping and grand total"
2025-09-02T15:41:29.062+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "10 - tweak grand total column position"
2025-09-02T15:41:29.097+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "11 - cart item tweak column position"
2025-09-02T15:41:29.231+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "12 - order item subtotal incl generated"
2025-09-02T15:41:29.353+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` with repeatable migration "views"
2025-09-02T15:41:29.378+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Successfully applied 14 migrations to schema `ecommerce_test`, now at version v12 (execution time 00:02.210s)
[INFO] Running com.example.mapper.ReviewMapperTest$Query$HasPurchased
2025-09-02T15:41:29.409+09:00  INFO 19696 --- [ecommerce] [           main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.mapper.ReviewMapperTest$Query$HasPurchased]: HasPurchased does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-09-02T15:41:29.412+09:00  INFO 19696 --- [ecommerce] [           main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.EcommerceRestApplication for test class com.example.mapper.ReviewMapperTest$Query$HasPurchased
2025-09-02T15:41:29.420+09:00  INFO 19696 --- [ecommerce] [           main] org.flywaydb.core.FlywayExecutor         : Database: jdbc:mysql://localhost:3306/ecommerce_test (MySQL 8.4)
2025-09-02T15:41:29.424+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:41:29.426+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully dropped pre-schema database level objects (execution time 00:00.000s)
2025-09-02T15:41:29.741+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully cleaned schema `ecommerce_test` (execution time 00:00.313s)
2025-09-02T15:41:29.746+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully cleaned schema `ecommerce_test` (execution time 00:00.005s)
2025-09-02T15:41:29.747+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully dropped post-schema database level objects (execution time 00:00.000s)
2025-09-02T15:41:29.756+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:41:29.759+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Repair of failed migration in Schema History table `ecommerce_test`.`flyway_schema_history` not necessary as table doesn't exist.
2025-09-02T15:41:29.766+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Schema history table `ecommerce_test`.`flyway_schema_history` does not exist yet
2025-09-02T15:41:29.767+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbRepair       : Successfully repaired schema history table `ecommerce_test`.`flyway_schema_history` (execution time 00:00.010s).
2025-09-02T15:41:29.777+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:41:29.787+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Schema history table `ecommerce_test`.`flyway_schema_history` does not exist yet
2025-09-02T15:41:29.787+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbValidate     : Successfully validated 14 migrations (execution time 00:00.007s)
2025-09-02T15:41:29.795+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Creating Schema History table `ecommerce_test`.`flyway_schema_history` ...
2025-09-02T15:41:29.854+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Current version of schema `ecommerce_test`: << Empty Schema >>
2025-09-02T15:41:29.865+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "1 - init"
2025-09-02T15:41:29.872+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.product' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:29.876+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.user' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:29.880+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.favorite' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:29.883+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.review' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:29.887+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.cart' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:29.891+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.cart_item' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:29.895+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.pre_registration' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:29.899+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.order' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:29.904+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.order_item' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:29.908+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.review' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:29.911+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.password_reset_token' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:30.386+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "1.1 - seed data"
2025-09-02T15:41:30.406+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "2 - remove cart version"
2025-09-02T15:41:30.475+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "3 - add ttl days to cart"
2025-09-02T15:41:30.654+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "4 - rename prices and update view"
2025-09-02T15:41:30.872+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "5 - update shipping and order status"
2025-09-02T15:41:30.927+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "6 - add review status and reject columns"
2025-09-02T15:41:31.068+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "7 - add product version and trigger"
2025-09-02T15:41:31.098+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Trigger does not exist (SQL State: HY000 - Error Code: 1360)
2025-09-02T15:41:31.124+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "8 - add check stock gte reserved"
2025-09-02T15:41:31.248+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "9 - add shipping and grand total"
2025-09-02T15:41:31.556+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "10 - tweak grand total column position"
2025-09-02T15:41:31.591+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "11 - cart item tweak column position"
2025-09-02T15:41:31.725+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "12 - order item subtotal incl generated"
2025-09-02T15:41:31.863+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` with repeatable migration "views"
2025-09-02T15:41:31.883+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Successfully applied 14 migrations to schema `ecommerce_test`, now at version v12 (execution time 00:01.801s)
[INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 2.500 s -- in com.example.mapper.ReviewMapperTest$Query$HasPurchased
[INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 5.418 s -- in com.example.mapper.ReviewMapperTest$Query
[ERROR] Tests run: 1, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 10.55 s <<< FAILURE! -- in com.example.mapper.ReviewMapperTest
[ERROR] com.example.mapper.ReviewMapperTest.deleteRejected -- Time elapsed: 0.011 s <<< FAILURE!
org.opentest4j.AssertionFailedError: 

expected: 1
 but was: 0
	at com.example.mapper.ReviewMapperTest.deleteRejected(ReviewMapperTest.java:382)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)

[INFO] Running com.example.mapper.UserMapperTest
2025-09-02T15:41:31.910+09:00  INFO 19696 --- [ecommerce] [           main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.mapper.UserMapperTest]: UserMapperTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-09-02T15:41:31.912+09:00  INFO 19696 --- [ecommerce] [           main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.EcommerceRestApplication for test class com.example.mapper.UserMapperTest
2025-09-02T15:41:31.921+09:00  INFO 19696 --- [ecommerce] [           main] org.flywaydb.core.FlywayExecutor         : Database: jdbc:mysql://localhost:3306/ecommerce_test (MySQL 8.4)
2025-09-02T15:41:31.924+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:41:31.928+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully dropped pre-schema database level objects (execution time 00:00.000s)
2025-09-02T15:41:32.219+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully cleaned schema `ecommerce_test` (execution time 00:00.291s)
2025-09-02T15:41:32.222+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully cleaned schema `ecommerce_test` (execution time 00:00.002s)
2025-09-02T15:41:32.222+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully dropped post-schema database level objects (execution time 00:00.000s)
2025-09-02T15:41:32.226+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:41:32.227+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Repair of failed migration in Schema History table `ecommerce_test`.`flyway_schema_history` not necessary as table doesn't exist.
2025-09-02T15:41:32.231+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Schema history table `ecommerce_test`.`flyway_schema_history` does not exist yet
2025-09-02T15:41:32.231+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbRepair       : Successfully repaired schema history table `ecommerce_test`.`flyway_schema_history` (execution time 00:00.004s).
2025-09-02T15:41:32.234+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:41:32.238+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Schema history table `ecommerce_test`.`flyway_schema_history` does not exist yet
2025-09-02T15:41:32.239+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbValidate     : Successfully validated 14 migrations (execution time 00:00.004s)
2025-09-02T15:41:32.243+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Creating Schema History table `ecommerce_test`.`flyway_schema_history` ...
2025-09-02T15:41:32.299+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Current version of schema `ecommerce_test`: << Empty Schema >>
2025-09-02T15:41:32.305+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "1 - init"
2025-09-02T15:41:32.309+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.product' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:32.314+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.user' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:32.317+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.favorite' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:32.321+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.review' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:32.324+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.cart' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:32.331+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.cart_item' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:32.335+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.pre_registration' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:32.339+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.order' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:32.343+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.order_item' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:32.348+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.review' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:32.352+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.password_reset_token' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:33.117+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "1.1 - seed data"
2025-09-02T15:41:33.136+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "2 - remove cart version"
2025-09-02T15:41:33.202+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "3 - add ttl days to cart"
2025-09-02T15:41:33.372+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "4 - rename prices and update view"
2025-09-02T15:41:33.625+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "5 - update shipping and order status"
2025-09-02T15:41:33.700+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "6 - add review status and reject columns"
2025-09-02T15:41:33.888+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "7 - add product version and trigger"
2025-09-02T15:41:33.928+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Trigger does not exist (SQL State: HY000 - Error Code: 1360)
2025-09-02T15:41:33.959+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "8 - add check stock gte reserved"
2025-09-02T15:41:34.097+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "9 - add shipping and grand total"
2025-09-02T15:41:34.439+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "10 - tweak grand total column position"
2025-09-02T15:41:34.472+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "11 - cart item tweak column position"
2025-09-02T15:41:34.611+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "12 - order item subtotal incl generated"
2025-09-02T15:41:34.766+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` with repeatable migration "views"
2025-09-02T15:41:34.806+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Successfully applied 14 migrations to schema `ecommerce_test`, now at version v12 (execution time 00:02.252s)
[INFO] Tests run: 13, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 3.066 s -- in com.example.mapper.UserMapperTest
[INFO] Running com.example.service.admin.AdminDashboardServiceTest
[INFO] Running com.example.service.admin.AdminDashboardServiceTest$GetOverview
[ERROR] Tests run: 3, Failures: 0, Errors: 2, Skipped: 0, Time elapsed: 0.642 s <<< FAILURE! -- in com.example.service.admin.AdminDashboardServiceTest$GetOverview
[ERROR] com.example.service.admin.AdminDashboardServiceTest$GetOverview.getOverview_today -- Time elapsed: 0.435 s <<< ERROR!
java.lang.IllegalStateException: Duplicate key null (attempted merging values com.example.dto.admin.AdminHourlyAggRow@6381ff2 and com.example.dto.admin.AdminHourlyAggRow@2128bcc8)
	at java.base/java.util.stream.Collectors.duplicateKeyException(Collectors.java:135)
	at java.base/java.util.stream.Collectors.lambda$uniqKeysMapAccumulator$1(Collectors.java:182)
	at java.base/java.util.stream.ReduceOps$3ReducingSink.accept(ReduceOps.java:169)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:722)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:727)
	at com.example.service.admin.AdminDashboardService.buildToday(AdminDashboardService.java:71)
	at com.example.service.admin.AdminDashboardService.getOverview(AdminDashboardService.java:38)
	at com.example.service.admin.AdminDashboardServiceTest$GetOverview.getOverview_today(AdminDashboardServiceTest.java:52)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)

[ERROR] com.example.service.admin.AdminDashboardServiceTest$GetOverview.getOverview_last7Days -- Time elapsed: 0.183 s <<< ERROR!
java.lang.IllegalStateException: Duplicate key null (attempted merging values com.example.dto.admin.AdminDailyAggRow@76608b05 and com.example.dto.admin.AdminDailyAggRow@6b1777dc)
	at java.base/java.util.stream.Collectors.duplicateKeyException(Collectors.java:135)
	at java.base/java.util.stream.Collectors.lambda$uniqKeysMapAccumulator$1(Collectors.java:182)
	at java.base/java.util.stream.ReduceOps$3ReducingSink.accept(ReduceOps.java:169)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:722)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:727)
	at com.example.service.admin.AdminDashboardService.buildDaily(AdminDashboardService.java:92)
	at com.example.service.admin.AdminDashboardService.getOverview(AdminDashboardService.java:51)
	at com.example.service.admin.AdminDashboardServiceTest$GetOverview.getOverview_last7Days(AdminDashboardServiceTest.java:90)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)

[INFO] Tests run: 0, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.645 s -- in com.example.service.admin.AdminDashboardServiceTest
[INFO] Running com.example.service.admin.AdminOrderServiceTest
[INFO] Running com.example.service.admin.AdminOrderServiceTest$editOrder
[ERROR] Tests run: 4, Failures: 2, Errors: 2, Skipped: 0, Time elapsed: 0.290 s <<< FAILURE! -- in com.example.service.admin.AdminOrderServiceTest$editOrder
[ERROR] com.example.service.admin.AdminOrderServiceTest$editOrder.editOrder_reduceAndDelete -- Time elapsed: 0.261 s <<< ERROR!
java.lang.NullPointerException: Cannot invoke "com.example.mapper.OrderMapper.selectOrderByPrimaryKey(String)" because "<local4>.orderMapper" is null
	at com.example.service.admin.AdminOrderService.editOrder(AdminOrderService.java:83)
	at com.example.service.admin.AdminOrderServiceTest$editOrder.editOrder_reduceAndDelete(AdminOrderServiceTest.java:84)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)

[ERROR] com.example.service.admin.AdminOrderServiceTest$editOrder.editOrder_statusViolation -- Time elapsed: 0.013 s <<< FAILURE!
java.lang.AssertionError: 

Expecting actual throwable to be an instance of:
  org.springframework.web.server.ResponseStatusException
but was:
  java.lang.NullPointerException: Cannot invoke "com.example.mapper.OrderMapper.selectOrderByPrimaryKey(String)" because "<local4>.orderMapper" is null
	at com.example.service.admin.AdminOrderService.editOrder(AdminOrderService.java:83)
	at com.example.service.admin.AdminOrderServiceTest$editOrder.lambda$editOrder_statusViolation$0(AdminOrderServiceTest.java:184)
	at org.assertj.core.api.ThrowableAssert.catchThrowable(ThrowableAssert.java:63)
	...(88 remaining lines not displayed - this can be changed with Assertions.setMaxStackTraceElementsDisplayed)
	at com.example.service.admin.AdminOrderServiceTest$editOrder.editOrder_statusViolation(AdminOrderServiceTest.java:185)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)

[ERROR] com.example.service.admin.AdminOrderServiceTest$editOrder.editOrder_qtyIncrease -- Time elapsed: 0.007 s <<< FAILURE!
java.lang.AssertionError: 

Expecting actual throwable to be an instance of:
  org.springframework.web.server.ResponseStatusException
but was:
  java.lang.NullPointerException: Cannot invoke "com.example.mapper.OrderMapper.selectOrderByPrimaryKey(String)" because "<local4>.orderMapper" is null
	at com.example.service.admin.AdminOrderService.editOrder(AdminOrderService.java:83)
	at com.example.service.admin.AdminOrderServiceTest$editOrder.lambda$editOrder_qtyIncrease$2(AdminOrderServiceTest.java:217)
	at org.assertj.core.api.ThrowableAssert.catchThrowable(ThrowableAssert.java:63)
	...(88 remaining lines not displayed - this can be changed with Assertions.setMaxStackTraceElementsDisplayed)
	at com.example.service.admin.AdminOrderServiceTest$editOrder.editOrder_qtyIncrease(AdminOrderServiceTest.java:218)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)

[ERROR] com.example.service.admin.AdminOrderServiceTest$editOrder.editOrder_updateOnly -- Time elapsed: 0.006 s <<< ERROR!
java.lang.NullPointerException: Cannot invoke "com.example.mapper.OrderMapper.selectOrderByPrimaryKey(String)" because "<local4>.orderMapper" is null
	at com.example.service.admin.AdminOrderService.editOrder(AdminOrderService.java:83)
	at com.example.service.admin.AdminOrderServiceTest$editOrder.editOrder_updateOnly(AdminOrderServiceTest.java:147)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)

[INFO] Tests run: 0, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.292 s -- in com.example.service.admin.AdminOrderServiceTest
[INFO] Running com.example.service.admin.AdminProductServiceTest
[INFO] Running com.example.service.admin.AdminProductServiceTest$Create
[INFO] Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.127 s -- in com.example.service.admin.AdminProductServiceTest$Create
[ERROR] Tests run: 1, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 1.283 s <<< FAILURE! -- in com.example.service.admin.AdminProductServiceTest
[ERROR] com.example.service.admin.AdminProductServiceTest.searchProducts -- Time elapsed: 0.153 s <<< FAILURE!
org.opentest4j.AssertionFailedError: 
[List check first element] 
Expecting actual:
  [null, 0, null, 0, 0, null, null]
to contain exactly (and in same order):
  ["id-1",
    1,
    "Product One",
    110,
    5,
    UNPUBLISHED,
    2025-07-01T12:00 (java.time.LocalDateTime)]
but some elements were not found:
  ["id-1",
    1,
    "Product One",
    110,
    5,
    UNPUBLISHED,
    2025-07-01T12:00 (java.time.LocalDateTime)]
and others were not expected:
  [null, 0, null, 0, 0, null, null]

	at com.example.service.admin.AdminProductServiceTest.searchProducts(AdminProductServiceTest.java:82)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)

[INFO] Running com.example.service.AuthServiceTest
2025-09-02T15:41:37.226+09:00  INFO 19696 --- [ecommerce] [           main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.service.AuthServiceTest]: AuthServiceTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-09-02T15:41:37.289+09:00  INFO 19696 --- [ecommerce] [           main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.EcommerceRestApplication for test class com.example.service.AuthServiceTest
2025-09-02T15:41:37.294+09:00  INFO 19696 --- [ecommerce] [           main] o.s.b.d.r.RestartApplicationListener     : Restart disabled due to context in which it is running

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/

 :: Spring Boot ::                (v3.5.0)

2025-09-02T15:41:37.331+09:00  INFO 19696 --- [ecommerce] [           main] com.example.service.AuthServiceTest      : Starting AuthServiceTest using Java 23 with PID 19696 (started by kcrkn in C:\pleiades\2024-06\ecommerce\ecommerce_rest)
2025-09-02T15:41:37.331+09:00  INFO 19696 --- [ecommerce] [           main] com.example.service.AuthServiceTest      : The following 1 profile is active: "test"
2025-09-02T15:41:38.373+09:00  INFO 19696 --- [ecommerce] [           main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-09-02T15:41:38.513+09:00  INFO 19696 --- [ecommerce] [           main] com.example.service.AuthServiceTest      : Started AuthServiceTest in 1.22 seconds (process running for 110.8)
2025-09-02T15:41:38.531+09:00  INFO 19696 --- [ecommerce] [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Starting...
2025-09-02T15:41:38.553+09:00  INFO 19696 --- [ecommerce] [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-4 - Added connection com.mysql.cj.jdbc.ConnectionImpl@52bfd701
2025-09-02T15:41:38.553+09:00  INFO 19696 --- [ecommerce] [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Start completed.
2025-09-02T15:41:38.557+09:00  INFO 19696 --- [ecommerce] [           main] org.flywaydb.core.FlywayExecutor         : Database: jdbc:mysql://localhost:3306/ecommerce_test (MySQL 8.4)
2025-09-02T15:41:38.561+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:41:38.566+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully dropped pre-schema database level objects (execution time 00:00.000s)
2025-09-02T15:41:38.929+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully cleaned schema `ecommerce_test` (execution time 00:00.361s)
2025-09-02T15:41:38.935+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully cleaned schema `ecommerce_test` (execution time 00:00.005s)
2025-09-02T15:41:38.936+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully dropped post-schema database level objects (execution time 00:00.000s)
2025-09-02T15:41:38.943+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:41:38.945+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Repair of failed migration in Schema History table `ecommerce_test`.`flyway_schema_history` not necessary as table doesn't exist.
2025-09-02T15:41:38.952+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Schema history table `ecommerce_test`.`flyway_schema_history` does not exist yet
2025-09-02T15:41:38.953+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbRepair       : Successfully repaired schema history table `ecommerce_test`.`flyway_schema_history` (execution time 00:00.008s).
2025-09-02T15:41:38.961+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:41:38.969+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Schema history table `ecommerce_test`.`flyway_schema_history` does not exist yet
2025-09-02T15:41:38.969+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbValidate     : Successfully validated 14 migrations (execution time 00:00.007s)
2025-09-02T15:41:38.981+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Creating Schema History table `ecommerce_test`.`flyway_schema_history` ...
2025-09-02T15:41:39.055+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Current version of schema `ecommerce_test`: << Empty Schema >>
2025-09-02T15:41:39.060+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "1 - init"
2025-09-02T15:41:39.064+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.product' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:39.070+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.user' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:39.074+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.favorite' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:39.077+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.review' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:39.081+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.cart' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:39.085+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.cart_item' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:39.088+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.pre_registration' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:39.091+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.order' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:39.095+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.order_item' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:39.099+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.review' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:39.103+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.password_reset_token' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:39.566+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "1.1 - seed data"
2025-09-02T15:41:39.590+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "2 - remove cart version"
2025-09-02T15:41:39.648+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "3 - add ttl days to cart"
2025-09-02T15:41:39.787+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "4 - rename prices and update view"
2025-09-02T15:41:40.002+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "5 - update shipping and order status"
2025-09-02T15:41:40.108+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "6 - add review status and reject columns"
2025-09-02T15:41:40.240+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "7 - add product version and trigger"
2025-09-02T15:41:40.271+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Trigger does not exist (SQL State: HY000 - Error Code: 1360)
2025-09-02T15:41:40.294+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "8 - add check stock gte reserved"
2025-09-02T15:41:40.396+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "9 - add shipping and grand total"
2025-09-02T15:41:40.679+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "10 - tweak grand total column position"
2025-09-02T15:41:40.713+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "11 - cart item tweak column position"
2025-09-02T15:41:40.836+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "12 - order item subtotal incl generated"
2025-09-02T15:41:40.957+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` with repeatable migration "views"
2025-09-02T15:41:40.983+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Successfully applied 14 migrations to schema `ecommerce_test`, now at version v12 (execution time 00:01.708s)
[INFO] Running com.example.service.AuthServiceTest$RequestEmailChange
2025-09-02T15:41:40.987+09:00  INFO 19696 --- [ecommerce] [           main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.service.AuthServiceTest$RequestEmailChange]: RequestEmailChange does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-09-02T15:41:40.988+09:00  INFO 19696 --- [ecommerce] [           main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.EcommerceRestApplication for test class com.example.service.AuthServiceTest$RequestEmailChange
2025-09-02T15:41:40.996+09:00  INFO 19696 --- [ecommerce] [           main] org.flywaydb.core.FlywayExecutor         : Database: jdbc:mysql://localhost:3306/ecommerce_test (MySQL 8.4)
2025-09-02T15:41:40.998+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:41:41.004+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully dropped pre-schema database level objects (execution time 00:00.001s)
2025-09-02T15:41:41.297+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully cleaned schema `ecommerce_test` (execution time 00:00.292s)
2025-09-02T15:41:41.300+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully cleaned schema `ecommerce_test` (execution time 00:00.003s)
2025-09-02T15:41:41.301+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully dropped post-schema database level objects (execution time 00:00.000s)
2025-09-02T15:41:41.304+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:41:41.305+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Repair of failed migration in Schema History table `ecommerce_test`.`flyway_schema_history` not necessary as table doesn't exist.
2025-09-02T15:41:41.309+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Schema history table `ecommerce_test`.`flyway_schema_history` does not exist yet
2025-09-02T15:41:41.309+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbRepair       : Successfully repaired schema history table `ecommerce_test`.`flyway_schema_history` (execution time 00:00.004s).
2025-09-02T15:41:41.312+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:41:41.316+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Schema history table `ecommerce_test`.`flyway_schema_history` does not exist yet
2025-09-02T15:41:41.316+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbValidate     : Successfully validated 14 migrations (execution time 00:00.004s)
2025-09-02T15:41:41.322+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Creating Schema History table `ecommerce_test`.`flyway_schema_history` ...
2025-09-02T15:41:41.378+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Current version of schema `ecommerce_test`: << Empty Schema >>
2025-09-02T15:41:41.381+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "1 - init"
2025-09-02T15:41:41.384+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.product' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:41.387+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.user' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:41.390+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.favorite' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:41.393+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.review' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:41.396+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.cart' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:41.399+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.cart_item' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:41.402+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.pre_registration' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:41.404+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.order' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:41.407+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.order_item' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:41.410+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.review' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:41.413+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.password_reset_token' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:41.858+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "1.1 - seed data"
2025-09-02T15:41:41.878+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "2 - remove cart version"
2025-09-02T15:41:41.947+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "3 - add ttl days to cart"
2025-09-02T15:41:42.087+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "4 - rename prices and update view"
2025-09-02T15:41:42.289+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "5 - update shipping and order status"
2025-09-02T15:41:42.345+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "6 - add review status and reject columns"
2025-09-02T15:41:42.482+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "7 - add product version and trigger"
2025-09-02T15:41:42.511+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Trigger does not exist (SQL State: HY000 - Error Code: 1360)
2025-09-02T15:41:42.532+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "8 - add check stock gte reserved"
2025-09-02T15:41:42.632+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "9 - add shipping and grand total"
2025-09-02T15:41:42.913+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "10 - tweak grand total column position"
2025-09-02T15:41:42.945+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "11 - cart item tweak column position"
2025-09-02T15:41:43.093+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "12 - order item subtotal incl generated"
2025-09-02T15:41:43.495+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` with repeatable migration "views"
2025-09-02T15:41:43.518+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Successfully applied 14 migrations to schema `ecommerce_test`, now at version v12 (execution time 00:01.932s)
[INFO] Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 2.678 s -- in com.example.service.AuthServiceTest$RequestEmailChange
[INFO] Running com.example.service.AuthServiceTest$ResetPassword
2025-09-02T15:41:43.666+09:00  INFO 19696 --- [ecommerce] [           main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.service.AuthServiceTest$ResetPassword]: ResetPassword does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-09-02T15:41:43.669+09:00  INFO 19696 --- [ecommerce] [           main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.EcommerceRestApplication for test class com.example.service.AuthServiceTest$ResetPassword
2025-09-02T15:41:43.694+09:00  INFO 19696 --- [ecommerce] [           main] org.flywaydb.core.FlywayExecutor         : Database: jdbc:mysql://localhost:3306/ecommerce_test (MySQL 8.4)
2025-09-02T15:41:43.698+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:41:43.703+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully dropped pre-schema database level objects (execution time 00:00.000s)
2025-09-02T15:41:44.040+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully cleaned schema `ecommerce_test` (execution time 00:00.335s)
2025-09-02T15:41:44.043+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully cleaned schema `ecommerce_test` (execution time 00:00.003s)
2025-09-02T15:41:44.043+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully dropped post-schema database level objects (execution time 00:00.000s)
2025-09-02T15:41:44.047+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:41:44.048+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Repair of failed migration in Schema History table `ecommerce_test`.`flyway_schema_history` not necessary as table doesn't exist.
2025-09-02T15:41:44.053+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Schema history table `ecommerce_test`.`flyway_schema_history` does not exist yet
2025-09-02T15:41:44.054+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbRepair       : Successfully repaired schema history table `ecommerce_test`.`flyway_schema_history` (execution time 00:00.006s).
2025-09-02T15:41:44.058+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:41:44.063+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Schema history table `ecommerce_test`.`flyway_schema_history` does not exist yet
2025-09-02T15:41:44.063+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbValidate     : Successfully validated 14 migrations (execution time 00:00.004s)
2025-09-02T15:41:44.069+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Creating Schema History table `ecommerce_test`.`flyway_schema_history` ...
2025-09-02T15:41:44.126+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Current version of schema `ecommerce_test`: << Empty Schema >>
2025-09-02T15:41:44.128+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "1 - init"
2025-09-02T15:41:44.131+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.product' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:44.134+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.user' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:44.137+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.favorite' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:44.140+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.review' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:44.152+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.cart' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:44.158+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.cart_item' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:44.162+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.pre_registration' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:44.165+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.order' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:44.169+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.order_item' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:44.175+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.review' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:44.179+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.password_reset_token' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:44.682+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "1.1 - seed data"
2025-09-02T15:41:44.703+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "2 - remove cart version"
2025-09-02T15:41:44.771+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "3 - add ttl days to cart"
2025-09-02T15:41:44.906+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "4 - rename prices and update view"
2025-09-02T15:41:45.164+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "5 - update shipping and order status"
2025-09-02T15:41:45.231+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "6 - add review status and reject columns"
2025-09-02T15:41:45.380+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "7 - add product version and trigger"
2025-09-02T15:41:45.418+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Trigger does not exist (SQL State: HY000 - Error Code: 1360)
2025-09-02T15:41:45.443+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "8 - add check stock gte reserved"
2025-09-02T15:41:45.561+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "9 - add shipping and grand total"
2025-09-02T15:41:45.853+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "10 - tweak grand total column position"
2025-09-02T15:41:45.889+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "11 - cart item tweak column position"
2025-09-02T15:41:46.018+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "12 - order item subtotal incl generated"
2025-09-02T15:41:46.146+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` with repeatable migration "views"
2025-09-02T15:41:46.169+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Successfully applied 14 migrations to schema `ecommerce_test`, now at version v12 (execution time 00:01.824s)
[INFO] Tests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 2.891 s -- in com.example.service.AuthServiceTest$ResetPassword
[INFO] Running com.example.service.AuthServiceTest$SendPasswordRestMail
2025-09-02T15:41:46.557+09:00  INFO 19696 --- [ecommerce] [           main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.service.AuthServiceTest$SendPasswordRestMail]: SendPasswordRestMail does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-09-02T15:41:46.559+09:00  INFO 19696 --- [ecommerce] [           main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.EcommerceRestApplication for test class com.example.service.AuthServiceTest$SendPasswordRestMail
2025-09-02T15:41:46.574+09:00  INFO 19696 --- [ecommerce] [           main] org.flywaydb.core.FlywayExecutor         : Database: jdbc:mysql://localhost:3306/ecommerce_test (MySQL 8.4)
2025-09-02T15:41:46.578+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:41:46.583+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully dropped pre-schema database level objects (execution time 00:00.000s)
2025-09-02T15:41:46.900+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully cleaned schema `ecommerce_test` (execution time 00:00.316s)
2025-09-02T15:41:46.905+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully cleaned schema `ecommerce_test` (execution time 00:00.004s)
2025-09-02T15:41:46.905+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully dropped post-schema database level objects (execution time 00:00.000s)
2025-09-02T15:41:46.908+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:41:46.909+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Repair of failed migration in Schema History table `ecommerce_test`.`flyway_schema_history` not necessary as table doesn't exist.
2025-09-02T15:41:46.913+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Schema history table `ecommerce_test`.`flyway_schema_history` does not exist yet
2025-09-02T15:41:46.914+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbRepair       : Successfully repaired schema history table `ecommerce_test`.`flyway_schema_history` (execution time 00:00.004s).
2025-09-02T15:41:46.917+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:41:46.921+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Schema history table `ecommerce_test`.`flyway_schema_history` does not exist yet
2025-09-02T15:41:46.922+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbValidate     : Successfully validated 14 migrations (execution time 00:00.004s)
2025-09-02T15:41:46.927+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Creating Schema History table `ecommerce_test`.`flyway_schema_history` ...
2025-09-02T15:41:46.987+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Current version of schema `ecommerce_test`: << Empty Schema >>
2025-09-02T15:41:46.992+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "1 - init"
2025-09-02T15:41:47.001+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.product' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:47.005+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.user' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:47.010+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.favorite' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:47.015+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.review' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:47.020+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.cart' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:47.025+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.cart_item' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:47.030+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.pre_registration' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:47.035+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.order' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:47.041+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.order_item' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:47.046+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.review' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:47.051+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.password_reset_token' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:47.632+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "1.1 - seed data"
2025-09-02T15:41:47.668+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "2 - remove cart version"
2025-09-02T15:41:47.758+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "3 - add ttl days to cart"
2025-09-02T15:41:47.915+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "4 - rename prices and update view"
2025-09-02T15:41:48.155+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "5 - update shipping and order status"
2025-09-02T15:41:48.229+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "6 - add review status and reject columns"
2025-09-02T15:41:48.355+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "7 - add product version and trigger"
2025-09-02T15:41:48.390+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Trigger does not exist (SQL State: HY000 - Error Code: 1360)
2025-09-02T15:41:48.418+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "8 - add check stock gte reserved"
2025-09-02T15:41:48.551+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "9 - add shipping and grand total"
2025-09-02T15:41:48.968+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "10 - tweak grand total column position"
2025-09-02T15:41:49.004+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "11 - cart item tweak column position"
2025-09-02T15:41:49.126+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "12 - order item subtotal incl generated"
2025-09-02T15:41:49.240+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` with repeatable migration "views"
2025-09-02T15:41:49.262+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Successfully applied 14 migrations to schema `ecommerce_test`, now at version v12 (execution time 00:02.047s)
[INFO] Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 2.733 s -- in com.example.service.AuthServiceTest$SendPasswordRestMail
[INFO] Running com.example.service.AuthServiceTest$register
2025-09-02T15:41:49.290+09:00  INFO 19696 --- [ecommerce] [           main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.service.AuthServiceTest$register]: register does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-09-02T15:41:49.291+09:00  INFO 19696 --- [ecommerce] [           main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.EcommerceRestApplication for test class com.example.service.AuthServiceTest$register
2025-09-02T15:41:49.299+09:00  INFO 19696 --- [ecommerce] [           main] org.flywaydb.core.FlywayExecutor         : Database: jdbc:mysql://localhost:3306/ecommerce_test (MySQL 8.4)
2025-09-02T15:41:49.303+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:41:49.308+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully dropped pre-schema database level objects (execution time 00:00.000s)
2025-09-02T15:41:49.642+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully cleaned schema `ecommerce_test` (execution time 00:00.334s)
2025-09-02T15:41:49.648+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully cleaned schema `ecommerce_test` (execution time 00:00.004s)
2025-09-02T15:41:49.648+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully dropped post-schema database level objects (execution time 00:00.000s)
2025-09-02T15:41:49.654+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:41:49.656+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Repair of failed migration in Schema History table `ecommerce_test`.`flyway_schema_history` not necessary as table doesn't exist.
2025-09-02T15:41:49.663+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Schema history table `ecommerce_test`.`flyway_schema_history` does not exist yet
2025-09-02T15:41:49.663+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbRepair       : Successfully repaired schema history table `ecommerce_test`.`flyway_schema_history` (execution time 00:00.008s).
2025-09-02T15:41:49.670+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:41:49.678+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Schema history table `ecommerce_test`.`flyway_schema_history` does not exist yet
2025-09-02T15:41:49.679+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbValidate     : Successfully validated 14 migrations (execution time 00:00.007s)
2025-09-02T15:41:49.687+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Creating Schema History table `ecommerce_test`.`flyway_schema_history` ...
2025-09-02T15:41:49.749+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Current version of schema `ecommerce_test`: << Empty Schema >>
2025-09-02T15:41:49.752+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "1 - init"
2025-09-02T15:41:49.755+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.product' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:49.760+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.user' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:49.764+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.favorite' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:49.769+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.review' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:49.774+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.cart' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:49.780+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.cart_item' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:49.785+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.pre_registration' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:49.792+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.order' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:49.800+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.order_item' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:49.806+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.review' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:49.811+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.password_reset_token' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:50.281+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "1.1 - seed data"
2025-09-02T15:41:50.301+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "2 - remove cart version"
2025-09-02T15:41:50.360+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "3 - add ttl days to cart"
2025-09-02T15:41:50.485+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "4 - rename prices and update view"
2025-09-02T15:41:50.724+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "5 - update shipping and order status"
2025-09-02T15:41:50.783+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "6 - add review status and reject columns"
2025-09-02T15:41:50.913+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "7 - add product version and trigger"
2025-09-02T15:41:50.943+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Trigger does not exist (SQL State: HY000 - Error Code: 1360)
2025-09-02T15:41:50.965+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "8 - add check stock gte reserved"
2025-09-02T15:41:51.060+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "9 - add shipping and grand total"
2025-09-02T15:41:51.377+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "10 - tweak grand total column position"
2025-09-02T15:41:51.408+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "11 - cart item tweak column position"
2025-09-02T15:41:51.528+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "12 - order item subtotal incl generated"
2025-09-02T15:41:51.651+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` with repeatable migration "views"
2025-09-02T15:41:51.673+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Successfully applied 14 migrations to schema `ecommerce_test`, now at version v12 (execution time 00:01.728s)
[INFO] Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 2.559 s -- in com.example.service.AuthServiceTest$register
[INFO] Running com.example.service.AuthServiceTest$SendRegistrationUrl
2025-09-02T15:41:51.854+09:00  INFO 19696 --- [ecommerce] [           main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.service.AuthServiceTest$SendRegistrationUrl]: SendRegistrationUrl does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-09-02T15:41:51.857+09:00  INFO 19696 --- [ecommerce] [           main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.EcommerceRestApplication for test class com.example.service.AuthServiceTest$SendRegistrationUrl
2025-09-02T15:41:51.899+09:00  INFO 19696 --- [ecommerce] [           main] org.flywaydb.core.FlywayExecutor         : Database: jdbc:mysql://localhost:3306/ecommerce_test (MySQL 8.4)
2025-09-02T15:41:51.905+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:41:51.911+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully dropped pre-schema database level objects (execution time 00:00.001s)
2025-09-02T15:41:52.224+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully cleaned schema `ecommerce_test` (execution time 00:00.311s)
2025-09-02T15:41:52.227+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully cleaned schema `ecommerce_test` (execution time 00:00.003s)
2025-09-02T15:41:52.228+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.command.clean.CleanExecutor      : Successfully dropped post-schema database level objects (execution time 00:00.000s)
2025-09-02T15:41:52.232+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:41:52.233+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Repair of failed migration in Schema History table `ecommerce_test`.`flyway_schema_history` not necessary as table doesn't exist.
2025-09-02T15:41:52.237+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Schema history table `ecommerce_test`.`flyway_schema_history` does not exist yet
2025-09-02T15:41:52.238+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbRepair       : Successfully repaired schema history table `ecommerce_test`.`flyway_schema_history` (execution time 00:00.005s).
2025-09-02T15:41:52.241+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: MySQL 8.4 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-09-02T15:41:52.245+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Schema history table `ecommerce_test`.`flyway_schema_history` does not exist yet
2025-09-02T15:41:52.246+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbValidate     : Successfully validated 14 migrations (execution time 00:00.004s)
2025-09-02T15:41:52.250+09:00  INFO 19696 --- [ecommerce] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Creating Schema History table `ecommerce_test`.`flyway_schema_history` ...
2025-09-02T15:41:52.304+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Current version of schema `ecommerce_test`: << Empty Schema >>
2025-09-02T15:41:52.307+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "1 - init"
2025-09-02T15:41:52.313+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.product' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:52.316+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.user' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:52.320+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.favorite' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:52.323+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.review' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:52.326+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.cart' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:52.329+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.cart_item' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:52.332+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.pre_registration' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:52.335+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.order' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:52.338+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.order_item' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:52.342+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.review' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:52.345+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Unknown table 'ecommerce_test.password_reset_token' (SQL State: 42S02 - Error Code: 1051)
2025-09-02T15:41:52.875+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "1.1 - seed data"
2025-09-02T15:41:52.901+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "2 - remove cart version"
2025-09-02T15:41:52.961+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "3 - add ttl days to cart"
2025-09-02T15:41:53.152+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "4 - rename prices and update view"
2025-09-02T15:41:53.345+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "5 - update shipping and order status"
2025-09-02T15:41:53.408+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "6 - add review status and reject columns"
2025-09-02T15:41:53.534+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "7 - add product version and trigger"
2025-09-02T15:41:53.571+09:00  WARN 19696 --- [ecommerce] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Trigger does not exist (SQL State: HY000 - Error Code: 1360)
2025-09-02T15:41:53.593+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "8 - add check stock gte reserved"
2025-09-02T15:41:53.744+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "9 - add shipping and grand total"
2025-09-02T15:41:54.063+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "10 - tweak grand total column position"
2025-09-02T15:41:54.093+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "11 - cart item tweak column position"
2025-09-02T15:41:54.247+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` to version "12 - order item subtotal incl generated"
2025-09-02T15:41:54.541+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Migrating schema `ecommerce_test` with repeatable migration "views"
2025-09-02T15:41:54.572+09:00  INFO 19696 --- [ecommerce] [           main] o.f.core.internal.command.DbMigrate      : Successfully applied 14 migrations to schema `ecommerce_test`, now at version v12 (execution time 00:02.036s)
[INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 2.851 s -- in com.example.service.AuthServiceTest$SendRegistrationUrl
[INFO] Tests run: 0, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 17.48 s -- in com.example.service.AuthServiceTest
[INFO] Running com.example.service.CartServiceTest
[INFO] Running com.example.service.CartServiceTest$RemoveItem
[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.178 s -- in com.example.service.CartServiceTest$RemoveItem
[INFO] Running com.example.service.CartServiceTest$ChangeQty
[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.011 s -- in com.example.service.CartServiceTest$ChangeQty
[INFO] Running com.example.service.CartServiceTest$AddToCart
[INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.036 s -- in com.example.service.CartServiceTest$AddToCart
[INFO] Running com.example.service.CartServiceTest$ShowCart
[ERROR] Tests run: 3, Failures: 2, Errors: 0, Skipped: 0, Time elapsed: 0.019 s <<< FAILURE! -- in com.example.service.CartServiceTest$ShowCart
[ERROR] com.example.service.CartServiceTest$ShowCart.showCart_multipleItems -- Time elapsed: 0.007 s <<< FAILURE!
org.opentest4j.AssertionFailedError: 

expected: 4
 but was: 0
	at com.example.service.CartServiceTest$ShowCart.showCart_multipleItems(CartServiceTest.java:77)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)

[ERROR] com.example.service.CartServiceTest$ShowCart.showCart_withoutCart -- Time elapsed: 0.006 s <<< FAILURE!
org.opentest4j.AssertionFailedError: 

expected: 0
 but was: 500
	at com.example.service.CartServiceTest$ShowCart.showCart_withoutCart(CartServiceTest.java:58)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)

[INFO] Tests run: 0, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.252 s -- in com.example.service.CartServiceTest
[INFO] Running com.example.service.CheckoutServiceTest
[INFO] Running com.example.service.CheckoutServiceTest$Checkout
[ERROR] Tests run: 2, Failures: 1, Errors: 1, Skipped: 0, Time elapsed: 0.216 s <<< FAILURE! -- in com.example.service.CheckoutServiceTest$Checkout
[ERROR] com.example.service.CheckoutServiceTest$Checkout.checkout_success -- Time elapsed: 0.206 s <<< ERROR!
org.mockito.exceptions.misusing.PotentialStubbingProblem: 

Strict stubbing argument mismatch. Please check:
 - this invocation of 'selectCheckoutItems' method:
    orderMapper.selectCheckoutItems(null);
    -> at com.example.service.CheckoutService.checkout(CheckoutService.java:126)
 - has following stubbing(s) with different arguments:
    1. orderMapper.selectCheckoutItems("cartId");
      -> at com.example.service.CheckoutServiceTest$Checkout.checkout_success(CheckoutServiceTest.java:353)
Typically, stubbing argument mismatch indicates user mistake when writing tests.
Mockito fails early so that you can debug potential problem easily.
However, there are legit scenarios when this exception generates false negative signal:
  - stubbing the same method multiple times using 'given().will()' or 'when().then()' API
    Please use 'will().given()' or 'doReturn().when()' API for stubbing.
  - stubbed method is intentionally invoked with different arguments by code under test
    Please use default or 'silent' JUnit Rule (equivalent of Strictness.LENIENT).
For more information see javadoc for PotentialStubbingProblem class.
	at com.example.service.CheckoutService.checkout(CheckoutService.java:126)
	at com.example.service.CheckoutService.checkout(CheckoutService.java:120)
	at com.example.service.CheckoutServiceTest$Checkout.checkout_success(CheckoutServiceTest.java:356)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)

[ERROR] com.example.service.CheckoutServiceTest$Checkout.checkout_diffItemsAllKinds -- Time elapsed: 0.008 s <<< FAILURE!
java.lang.AssertionError: 

Expecting actual throwable to be an instance of:
  com.example.error.BusinessException
but was:
  org.mockito.exceptions.misusing.PotentialStubbingProblem: 
Strict stubbing argument mismatch. Please check:
 - this invocation of 'selectCheckoutItems' method:
    orderMapper.selectCheckoutItems(null);
    -> at com.example.service.CheckoutService.checkout(CheckoutService.java:126)
 - has following stubbing(s) with different arguments:
    1. orderMapper.selectCheckoutItems("cartId");
      -> at com.example.service.CheckoutServiceTest$Checkout.checkout_diffItemsAllKinds(CheckoutServiceTest.java:312)
Typically, stubbing argument mismatch indicates user mistake when writing tests.
Mockito fails early so that you can debug potential problem easily.
However, there are legit scenarios when this exception generates false negative signal:
  - stubbing the same method multiple times using 'given().will()' or 'when().then()' API
    Please use 'will().given()' or 'doReturn().when()' API for stubbing.
  - stubbed method is intentionally invoked with different arguments by code under test
    Please use default or 'silent' JUnit Rule (equivalent of Strictness.LENIENT).
For more information see javadoc for PotentialStubbingProblem class.
	at com.example.service.CheckoutService.checkout(CheckoutService.java:126)
	at com.example.service.CheckoutService.checkout(CheckoutService.java:120)
	at com.example.service.CheckoutServiceTest$Checkout.lambda$checkout_diffItemsAllKinds$0(CheckoutServiceTest.java:314)
	...(89 remaining lines not displayed - this can be changed with Assertions.setMaxStackTraceElementsDisplayed)
	at com.example.service.CheckoutServiceTest$Checkout.checkout_diffItemsAllKinds(CheckoutServiceTest.java:315)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)

[INFO] Running com.example.service.CheckoutServiceTest$LoadCheckout
[ERROR] Tests run: 4, Failures: 1, Errors: 3, Skipped: 0, Time elapsed: 0.048 s <<< FAILURE! -- in com.example.service.CheckoutServiceTest$LoadCheckout
[ERROR] com.example.service.CheckoutServiceTest$LoadCheckout.loadCheckout_address(String)[1] -- Time elapsed: 0.015 s <<< ERROR!
org.mockito.exceptions.misusing.PotentialStubbingProblem: 

Strict stubbing argument mismatch. Please check:
 - this invocation of 'selectCartByPrimaryKey' method:
    cartMapper.selectCartByPrimaryKey(null);
    -> at com.example.service.CheckoutService.loadCheckout(CheckoutService.java:61)
 - has following stubbing(s) with different arguments:
    1. cartMapper.selectCartByPrimaryKey("cartId");
      -> at com.example.service.CheckoutServiceTest$LoadCheckout.loadCheckout_address(CheckoutServiceTest.java:97)
Typically, stubbing argument mismatch indicates user mistake when writing tests.
Mockito fails early so that you can debug potential problem easily.
However, there are legit scenarios when this exception generates false negative signal:
  - stubbing the same method multiple times using 'given().will()' or 'when().then()' API
    Please use 'will().given()' or 'doReturn().when()' API for stubbing.
  - stubbed method is intentionally invoked with different arguments by code under test
    Please use default or 'silent' JUnit Rule (equivalent of Strictness.LENIENT).
For more information see javadoc for PotentialStubbingProblem class.
	at com.example.service.CheckoutService.loadCheckout(CheckoutService.java:61)
	at com.example.service.CheckoutService.loadCheckout(CheckoutService.java:60)
	at com.example.service.CheckoutServiceTest$LoadCheckout.loadCheckout_address(CheckoutServiceTest.java:98)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.Streams$StreamBuilderImpl.forEachRemaining(Streams.java:411)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:807)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)

[ERROR] com.example.service.CheckoutServiceTest$LoadCheckout.loadCheckout_address(String)[2] -- Time elapsed: 0.010 s <<< ERROR!
org.mockito.exceptions.misusing.PotentialStubbingProblem: 

Strict stubbing argument mismatch. Please check:
 - this invocation of 'selectCartByPrimaryKey' method:
    cartMapper.selectCartByPrimaryKey(null);
    -> at com.example.service.CheckoutService.loadCheckout(CheckoutService.java:61)
 - has following stubbing(s) with different arguments:
    1. cartMapper.selectCartByPrimaryKey("cartId");
      -> at com.example.service.CheckoutServiceTest$LoadCheckout.loadCheckout_address(CheckoutServiceTest.java:97)
Typically, stubbing argument mismatch indicates user mistake when writing tests.
Mockito fails early so that you can debug potential problem easily.
However, there are legit scenarios when this exception generates false negative signal:
  - stubbing the same method multiple times using 'given().will()' or 'when().then()' API
    Please use 'will().given()' or 'doReturn().when()' API for stubbing.
  - stubbed method is intentionally invoked with different arguments by code under test
    Please use default or 'silent' JUnit Rule (equivalent of Strictness.LENIENT).
For more information see javadoc for PotentialStubbingProblem class.
	at com.example.service.CheckoutService.loadCheckout(CheckoutService.java:61)
	at com.example.service.CheckoutService.loadCheckout(CheckoutService.java:60)
	at com.example.service.CheckoutServiceTest$LoadCheckout.loadCheckout_address(CheckoutServiceTest.java:98)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:294)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)

[ERROR] com.example.service.CheckoutServiceTest$LoadCheckout.loadCheckout_cartExists -- Time elapsed: 0.008 s <<< ERROR!
org.mockito.exceptions.misusing.PotentialStubbingProblem: 

Strict stubbing argument mismatch. Please check:
 - this invocation of 'selectCartByPrimaryKey' method:
    cartMapper.selectCartByPrimaryKey(null);
    -> at com.example.service.CheckoutService.loadCheckout(CheckoutService.java:61)
 - has following stubbing(s) with different arguments:
    1. cartMapper.selectCartByPrimaryKey("cartId");
      -> at com.example.service.CheckoutServiceTest$LoadCheckout.loadCheckout_cartExists(CheckoutServiceTest.java:156)
Typically, stubbing argument mismatch indicates user mistake when writing tests.
Mockito fails early so that you can debug potential problem easily.
However, there are legit scenarios when this exception generates false negative signal:
  - stubbing the same method multiple times using 'given().will()' or 'when().then()' API
    Please use 'will().given()' or 'doReturn().when()' API for stubbing.
  - stubbed method is intentionally invoked with different arguments by code under test
    Please use default or 'silent' JUnit Rule (equivalent of Strictness.LENIENT).
For more information see javadoc for PotentialStubbingProblem class.
	at com.example.service.CheckoutService.loadCheckout(CheckoutService.java:61)
	at com.example.service.CheckoutService.loadCheckout(CheckoutService.java:60)
	at com.example.service.CheckoutServiceTest$LoadCheckout.loadCheckout_cartExists(CheckoutServiceTest.java:159)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)

[ERROR] com.example.service.CheckoutServiceTest$LoadCheckout.loadCheckout_cartNotFound -- Time elapsed: 0.009 s <<< FAILURE!
java.lang.AssertionError: 

Expecting actual throwable to be an instance of:
  com.example.error.BusinessException
but was:
  org.mockito.exceptions.misusing.PotentialStubbingProblem: 
Strict stubbing argument mismatch. Please check:
 - this invocation of 'selectCartByPrimaryKey' method:
    cartMapper.selectCartByPrimaryKey(null);
    -> at com.example.service.CheckoutService.loadCheckout(CheckoutService.java:61)
 - has following stubbing(s) with different arguments:
    1. cartMapper.selectCartByPrimaryKey("cartId");
      -> at com.example.service.CheckoutServiceTest$LoadCheckout.loadCheckout_cartNotFound(CheckoutServiceTest.java:144)
Typically, stubbing argument mismatch indicates user mistake when writing tests.
Mockito fails early so that you can debug potential problem easily.
However, there are legit scenarios when this exception generates false negative signal:
  - stubbing the same method multiple times using 'given().will()' or 'when().then()' API
    Please use 'will().given()' or 'doReturn().when()' API for stubbing.
  - stubbed method is intentionally invoked with different arguments by code under test
    Please use default or 'silent' JUnit Rule (equivalent of Strictness.LENIENT).
For more information see javadoc for PotentialStubbingProblem class.
	at com.example.service.CheckoutService.loadCheckout(CheckoutService.java:61)
	at com.example.service.CheckoutService.loadCheckout(CheckoutService.java:60)
	at com.example.service.CheckoutServiceTest$LoadCheckout.lambda$loadCheckout_cartNotFound$0(CheckoutServiceTest.java:146)
	...(89 remaining lines not displayed - this can be changed with Assertions.setMaxStackTraceElementsDisplayed)
	at com.example.service.CheckoutServiceTest$LoadCheckout.loadCheckout_cartNotFound(CheckoutServiceTest.java:147)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)

[INFO] Tests run: 0, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.268 s -- in com.example.service.CheckoutServiceTest
[INFO] Running com.example.service.FavoriteServiceTest
[INFO] Running com.example.service.FavoriteServiceTest$GetFavoritePage
[INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.096 s -- in com.example.service.FavoriteServiceTest$GetFavoritePage
[INFO] Tests run: 0, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.098 s -- in com.example.service.FavoriteServiceTest
[INFO] Running com.example.service.OrderCommandServiceTest
[INFO] Running com.example.service.OrderCommandServiceTest$Ship
[INFO] Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.041 s -- in com.example.service.OrderCommandServiceTest$Ship
[INFO] Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.150 s -- in com.example.service.OrderCommandServiceTest
[INFO] Running com.example.service.OrderHistoryServiceTest
[INFO] Running com.example.service.OrderHistoryServiceTest$FindOrderHistories
[ERROR] Tests run: 2, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 0.017 s <<< FAILURE! -- in com.example.service.OrderHistoryServiceTest$FindOrderHistories
[ERROR] com.example.service.OrderHistoryServiceTest$FindOrderHistories.findOrderHistories_multiple -- Time elapsed: 0.010 s <<< ERROR!
java.lang.NullPointerException: Cannot invoke "java.time.LocalDateTime.toLocalDate()" because the return value of "com.example.entity.Order.getCreatedAt()" is null
	at com.example.service.OrderHistoryService$1.<init>(OrderHistoryService.java:50)
	at com.example.service.OrderHistoryService.findOrderHistories(OrderHistoryService.java:46)
	at com.example.service.OrderHistoryServiceTest$FindOrderHistories.findOrderHistories_multiple(OrderHistoryServiceTest.java:91)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)

[INFO] Tests run: 0, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.020 s -- in com.example.service.OrderHistoryServiceTest
[INFO] Running com.example.service.ReviewCommandServiceTest
[INFO] Running com.example.service.ReviewCommandServiceTest$Reject
[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.231 s -- in com.example.service.ReviewCommandServiceTest$Reject
[INFO] Running com.example.service.ReviewCommandServiceTest$Approve
[INFO] Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.025 s -- in com.example.service.ReviewCommandServiceTest$Approve
[INFO] Running com.example.service.ReviewCommandServiceTest$Submit
[INFO] Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.036 s -- in com.example.service.ReviewCommandServiceTest$Submit
[INFO] Tests run: 0, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.298 s -- in com.example.service.ReviewCommandServiceTest
[INFO] Running com.example.service.ReviewServiceTest
[INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.016 s -- in com.example.service.ReviewServiceTest
[INFO] Running com.example.validation.validator.EmailFormatValidatorTest
[INFO] Tests run: 35, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.055 s -- in com.example.validation.validator.EmailFormatValidatorTest
[INFO] 
[INFO] Results:
[INFO] 
[ERROR] Failures: 
[ERROR]   CartControllerTest$ShowCart$Guest.showCart_absent:81 No value at JSON path "$.totalPriceIncl"
[ERROR]   CartControllerTest$ShowCart$Guest.showCart_expired:110 No value at JSON path "$.totalPriceIncl"
[ERROR]   CartControllerTest$ShowCart$Guest.showCart_valid:92 JSON path "$.totalQty" expected:<2> but was:<0>
[ERROR]   CartControllerTest$ShowCart$User.showCart_absent:136 No value at JSON path "$.totalPriceIncl"
[ERROR]   CartControllerTest$ShowCart$User.showCart_expired:165 No value at JSON path "$.totalPriceIncl"
[ERROR]   CartControllerTest$ShowCart$User.showCart_valid:149 JSON path "$.totalQty" expected:<2> but was:<0>
[ERROR]   ReviewMapperTest.deleteRejected:382 
expected: 1
 but was: 0
[ERROR]   AdminProductMapperTest$CountProducts.countProducts_singleFilterAndBoundary:72 
expected: 1
 but was: 0
[ERROR]   AdminProductMapperTest$CountProducts.countProducts_singleFilterAndBoundary:72 
expected: 1
 but was: 2
[ERROR]   AdminProductMapperTest$CountProducts.countProducts_singleFilterAndBoundary:72 
expected: 1
 but was: 0
[ERROR]   AdminProductMapperTest$CountProducts.countProducts_singleFilterAndBoundary:72 
expected: 1
 but was: 2
[ERROR]   AdminProductMapperTest$CountProducts.countProducts_singleFilterAndBoundary:72 
expected: 1
 but was: 0
[ERROR]   AdminProductMapperTest$CountProducts.countProducts_singleFilterAndBoundary:72 
expected: 1
 but was: 2
[ERROR]   AdminProductMapperTest$CountProducts.countProducts_singleFilterAndBoundary:72 
expected: 1
 but was: 0
[ERROR]   AdminProductMapperTest$CountProducts.countProducts_singleFilterAndBoundary:72 
expected: 1
 but was: 2
[ERROR]   CartServiceTest$ShowCart.showCart_multipleItems:77 
expected: 4
 but was: 0
[ERROR]   CartServiceTest$ShowCart.showCart_withoutCart:58 
expected: 0
 but was: 500
[ERROR]   CheckoutServiceTest$Checkout.checkout_diffItemsAllKinds:315 
Expecting actual throwable to be an instance of:
  com.example.error.BusinessException
but was:
  org.mockito.exceptions.misusing.PotentialStubbingProblem: 
Strict stubbing argument mismatch. Please check:
 - this invocation of 'selectCheckoutItems' method:
    orderMapper.selectCheckoutItems(null);
    -> at com.example.service.CheckoutService.checkout(CheckoutService.java:126)
 - has following stubbing(s) with different arguments:
    1. orderMapper.selectCheckoutItems("cartId");
      -> at com.example.service.CheckoutServiceTest$Checkout.checkout_diffItemsAllKinds(CheckoutServiceTest.java:312)
Typically, stubbing argument mismatch indicates user mistake when writing tests.
Mockito fails early so that you can debug potential problem easily.
However, there are legit scenarios when this exception generates false negative signal:
  - stubbing the same method multiple times using 'given().will()' or 'when().then()' API
    Please use 'will().given()' or 'doReturn().when()' API for stubbing.
  - stubbed method is intentionally invoked with different arguments by code under test
    Please use default or 'silent' JUnit Rule (equivalent of Strictness.LENIENT).
For more information see javadoc for PotentialStubbingProblem class.
	at com.example.service.CheckoutService.checkout(CheckoutService.java:126)
	at com.example.service.CheckoutService.checkout(CheckoutService.java:120)
	at com.example.service.CheckoutServiceTest$Checkout.lambda$checkout_diffItemsAllKinds$0(CheckoutServiceTest.java:314)
	...(89 remaining lines not displayed - this can be changed with Assertions.setMaxStackTraceElementsDisplayed)
[ERROR]   CheckoutServiceTest$LoadCheckout.loadCheckout_cartNotFound:147 
Expecting actual throwable to be an instance of:
  com.example.error.BusinessException
but was:
  org.mockito.exceptions.misusing.PotentialStubbingProblem: 
Strict stubbing argument mismatch. Please check:
 - this invocation of 'selectCartByPrimaryKey' method:
    cartMapper.selectCartByPrimaryKey(null);
    -> at com.example.service.CheckoutService.loadCheckout(CheckoutService.java:61)
 - has following stubbing(s) with different arguments:
    1. cartMapper.selectCartByPrimaryKey("cartId");
      -> at com.example.service.CheckoutServiceTest$LoadCheckout.loadCheckout_cartNotFound(CheckoutServiceTest.java:144)
Typically, stubbing argument mismatch indicates user mistake when writing tests.
Mockito fails early so that you can debug potential problem easily.
However, there are legit scenarios when this exception generates false negative signal:
  - stubbing the same method multiple times using 'given().will()' or 'when().then()' API
    Please use 'will().given()' or 'doReturn().when()' API for stubbing.
  - stubbed method is intentionally invoked with different arguments by code under test
    Please use default or 'silent' JUnit Rule (equivalent of Strictness.LENIENT).
For more information see javadoc for PotentialStubbingProblem class.
	at com.example.service.CheckoutService.loadCheckout(CheckoutService.java:61)
	at com.example.service.CheckoutService.loadCheckout(CheckoutService.java:60)
	at com.example.service.CheckoutServiceTest$LoadCheckout.lambda$loadCheckout_cartNotFound$0(CheckoutServiceTest.java:146)
	...(89 remaining lines not displayed - this can be changed with Assertions.setMaxStackTraceElementsDisplayed)
[ERROR]   AdminOrderServiceTest$editOrder.editOrder_qtyIncrease:218 
Expecting actual throwable to be an instance of:
  org.springframework.web.server.ResponseStatusException
but was:
  java.lang.NullPointerException: Cannot invoke "com.example.mapper.OrderMapper.selectOrderByPrimaryKey(String)" because "<local4>.orderMapper" is null
	at com.example.service.admin.AdminOrderService.editOrder(AdminOrderService.java:83)
	at com.example.service.admin.AdminOrderServiceTest$editOrder.lambda$editOrder_qtyIncrease$2(AdminOrderServiceTest.java:217)
	at org.assertj.core.api.ThrowableAssert.catchThrowable(ThrowableAssert.java:63)
	...(88 remaining lines not displayed - this can be changed with Assertions.setMaxStackTraceElementsDisplayed)
[ERROR]   AdminOrderServiceTest$editOrder.editOrder_statusViolation:185 
Expecting actual throwable to be an instance of:
  org.springframework.web.server.ResponseStatusException
but was:
  java.lang.NullPointerException: Cannot invoke "com.example.mapper.OrderMapper.selectOrderByPrimaryKey(String)" because "<local4>.orderMapper" is null
	at com.example.service.admin.AdminOrderService.editOrder(AdminOrderService.java:83)
	at com.example.service.admin.AdminOrderServiceTest$editOrder.lambda$editOrder_statusViolation$0(AdminOrderServiceTest.java:184)
	at org.assertj.core.api.ThrowableAssert.catchThrowable(ThrowableAssert.java:63)
	...(88 remaining lines not displayed - this can be changed with Assertions.setMaxStackTraceElementsDisplayed)
[ERROR]   AdminProductServiceTest.searchProducts:82 [List check first element] 
Expecting actual:
  [null, 0, null, 0, 0, null, null]
to contain exactly (and in same order):
  ["id-1",
    1,
    "Product One",
    110,
    5,
    UNPUBLISHED,
    2025-07-01T12:00 (java.time.LocalDateTime)]
but some elements were not found:
  ["id-1",
    1,
    "Product One",
    110,
    5,
    UNPUBLISHED,
    2025-07-01T12:00 (java.time.LocalDateTime)]
and others were not expected:
  [null, 0, null, 0, 0, null, null]

[ERROR] Errors: 
[ERROR]   CartMapperTest$DeleteExpiredCarts.setup:420 ≫ NullPointer
[ERROR]   CartMapperTest$DeleteExpiredCarts.setup:420 ≫ NullPointer
[ERROR]   CartMapperTest$IsCartExpired.isCartExpired_boundary:391 ≫ NullPointer
[ERROR]   CartMapperTest$IsCartExpired.isCartExpired_boundary:391 ≫ NullPointer
[ERROR]   CartMapperTest$IsCartExpired.isCartExpired_boundary:391 ≫ NullPointer
[ERROR]   CartMapperTest$IsCartExpired.isCartExpired_boundary:391 ≫ NullPointer
[ERROR]   CartMapperTest$IsCartExpired.isCartExpired_over:365 ≫ NullPointer
[ERROR]   CartMapperTest$IsCartExpired.isCartExpired_within:344 ≫ NullPointer
[ERROR]   CartMapperTest$MergeCart.setup:173 ≫ NullPointer
[ERROR]   CartMapperTest$MergeCart.setup:173 ≫ NullPointer
[ERROR]   CartMapperTest$MergeCart.setup:173 ≫ NullPointer
[ERROR]   CartMapperTest$MergeCart.setup:173 ≫ NullPointer
[ERROR]   CartMapperTest$MergeCart.setup:173 ≫ NullPointer
[ERROR]   CartMapperTest$selectCartItems.setup:257 ≫ NullPointer
[ERROR]   CartMapperTest$selectCartItems.setup:257 ≫ NullPointer
[ERROR]   OrderMapperTest.selectCheckoutItems:53 ≫ NullPointer
[ERROR]   AdminDashboardMapperTest$AggDaily.setup:200 ≫ NullPointer Cannot invoke "java.time.LocalDateTime.getYear()" because "dateTime" is null
[ERROR]   AdminDashboardMapperTest$AggDaily.setup:200 ≫ NullPointer Cannot invoke "java.time.LocalDateTime.getYear()" because "dateTime" is null
[ERROR]   AdminDashboardMapperTest$AggDaily.setup:200 ≫ NullPointer Cannot invoke "java.time.LocalDateTime.getYear()" because "dateTime" is null
[ERROR]   AdminDashboardMapperTest$AggDaily.setup:200 ≫ NullPointer Cannot invoke "java.time.LocalDateTime.getYear()" because "dateTime" is null
[ERROR]   AdminDashboardMapperTest$AggDaily.setup:200 ≫ NullPointer Cannot invoke "java.time.LocalDateTime.getYear()" because "dateTime" is null
[ERROR]   AdminDashboardMapperTest$AggTodayHourly.aggTodayHourly_boundaries:162 ≫ NullPointer Cannot invoke "java.time.LocalDateTime.getYear()" because "dateTime" is null
[ERROR]   AdminDashboardMapperTest$AggTodayHourly.aggTodayHourly_boundaries:162 ≫ NullPointer Cannot invoke "java.time.LocalDateTime.getYear()" because "dateTime" is null
[ERROR]   AdminDashboardMapperTest$AggTodayHourly.aggTodayHourly_boundaries:162 ≫ NullPointer Cannot invoke "java.time.LocalDateTime.getYear()" because "dateTime" is null
[ERROR]   AdminDashboardMapperTest$AggTodayHourly.aggTodayHourly_boundaries:162 ≫ NullPointer Cannot invoke "java.time.LocalDateTime.getYear()" because "dateTime" is null
[ERROR]   AdminDashboardMapperTest$AggTodayHourly.aggTodayHourly_normal:64 ≫ NullPointer Cannot invoke "java.time.LocalDateTime.getYear()" because "dateTime" is null
[ERROR]   AdminOrderMapperTest$Count.setup:58 ≫ NullPointer
[ERROR]   AdminOrderMapperTest$Count.setup:58 ≫ NullPointer
[ERROR]   AdminOrderMapperTest$Count.setup:58 ≫ NullPointer
[ERROR]   AdminOrderMapperTest$Count.setup:58 ≫ NullPointer
[ERROR]   AdminOrderMapperTest$Count.setup:58 ≫ NullPointer
[ERROR]   AdminOrderMapperTest$Count.setup:58 ≫ NullPointer
[ERROR]   AdminOrderMapperTest$Count.setup:58 ≫ NullPointer
[ERROR]   AdminOrderMapperTest$Count.setup:58 ≫ NullPointer
[ERROR]   AdminOrderMapperTest$Count.setup:58 ≫ NullPointer
[ERROR]   AdminOrderMapperTest$Count.setup:58 ≫ NullPointer
[ERROR]   AdminOrderMapperTest$Count.setup:58 ≫ NullPointer
[ERROR]   AdminOrderMapperTest$Count.setup:58 ≫ NullPointer
[ERROR]   AdminOrderMapperTest$Count.setup:58 ≫ NullPointer
[ERROR]   AdminOrderMapperTest.selectOrderDetail:192 ≫ NullPointer
[ERROR]   AdminOrderMapperTest.updateTotals:238 ≫ NullPointer
[ERROR]   CheckoutServiceTest$Checkout.checkout_success:356 ≫ PotentialStubbingProblem 
Strict stubbing argument mismatch. Please check:
 - this invocation of 'selectCheckoutItems' method:
    orderMapper.selectCheckoutItems(null);
    -> at com.example.service.CheckoutService.checkout(CheckoutService.java:126)
 - has following stubbing(s) with different arguments:
    1. orderMapper.selectCheckoutItems("cartId");
      -> at com.example.service.CheckoutServiceTest$Checkout.checkout_success(CheckoutServiceTest.java:353)
Typically, stubbing argument mismatch indicates user mistake when writing tests.
Mockito fails early so that you can debug potential problem easily.
However, there are legit scenarios when this exception generates false negative signal:
  - stubbing the same method multiple times using 'given().will()' or 'when().then()' API
    Please use 'will().given()' or 'doReturn().when()' API for stubbing.
  - stubbed method is intentionally invoked with different arguments by code under test
    Please use default or 'silent' JUnit Rule (equivalent of Strictness.LENIENT).
For more information see javadoc for PotentialStubbingProblem class.
[ERROR]   CheckoutServiceTest$LoadCheckout.loadCheckout_address:98 ≫ PotentialStubbingProblem 
Strict stubbing argument mismatch. Please check:
 - this invocation of 'selectCartByPrimaryKey' method:
    cartMapper.selectCartByPrimaryKey(null);
    -> at com.example.service.CheckoutService.loadCheckout(CheckoutService.java:61)
 - has following stubbing(s) with different arguments:
    1. cartMapper.selectCartByPrimaryKey("cartId");
      -> at com.example.service.CheckoutServiceTest$LoadCheckout.loadCheckout_address(CheckoutServiceTest.java:97)
Typically, stubbing argument mismatch indicates user mistake when writing tests.
Mockito fails early so that you can debug potential problem easily.
However, there are legit scenarios when this exception generates false negative signal:
  - stubbing the same method multiple times using 'given().will()' or 'when().then()' API
    Please use 'will().given()' or 'doReturn().when()' API for stubbing.
  - stubbed method is intentionally invoked with different arguments by code under test
    Please use default or 'silent' JUnit Rule (equivalent of Strictness.LENIENT).
For more information see javadoc for PotentialStubbingProblem class.
[ERROR]   CheckoutServiceTest$LoadCheckout.loadCheckout_address:98 ≫ PotentialStubbingProblem 
Strict stubbing argument mismatch. Please check:
 - this invocation of 'selectCartByPrimaryKey' method:
    cartMapper.selectCartByPrimaryKey(null);
    -> at com.example.service.CheckoutService.loadCheckout(CheckoutService.java:61)
 - has following stubbing(s) with different arguments:
    1. cartMapper.selectCartByPrimaryKey("cartId");
      -> at com.example.service.CheckoutServiceTest$LoadCheckout.loadCheckout_address(CheckoutServiceTest.java:97)
Typically, stubbing argument mismatch indicates user mistake when writing tests.
Mockito fails early so that you can debug potential problem easily.
However, there are legit scenarios when this exception generates false negative signal:
  - stubbing the same method multiple times using 'given().will()' or 'when().then()' API
    Please use 'will().given()' or 'doReturn().when()' API for stubbing.
  - stubbed method is intentionally invoked with different arguments by code under test
    Please use default or 'silent' JUnit Rule (equivalent of Strictness.LENIENT).
For more information see javadoc for PotentialStubbingProblem class.
[ERROR]   CheckoutServiceTest$LoadCheckout.loadCheckout_cartExists:159 ≫ PotentialStubbingProblem 
Strict stubbing argument mismatch. Please check:
 - this invocation of 'selectCartByPrimaryKey' method:
    cartMapper.selectCartByPrimaryKey(null);
    -> at com.example.service.CheckoutService.loadCheckout(CheckoutService.java:61)
 - has following stubbing(s) with different arguments:
    1. cartMapper.selectCartByPrimaryKey("cartId");
      -> at com.example.service.CheckoutServiceTest$LoadCheckout.loadCheckout_cartExists(CheckoutServiceTest.java:156)
Typically, stubbing argument mismatch indicates user mistake when writing tests.
Mockito fails early so that you can debug potential problem easily.
However, there are legit scenarios when this exception generates false negative signal:
  - stubbing the same method multiple times using 'given().will()' or 'when().then()' API
    Please use 'will().given()' or 'doReturn().when()' API for stubbing.
  - stubbed method is intentionally invoked with different arguments by code under test
    Please use default or 'silent' JUnit Rule (equivalent of Strictness.LENIENT).
For more information see javadoc for PotentialStubbingProblem class.
[ERROR]   OrderHistoryServiceTest$FindOrderHistories.findOrderHistories_multiple:91 ≫ NullPointer Cannot invoke "java.time.LocalDateTime.toLocalDate()" because the return value of "com.example.entity.Order.getCreatedAt()" is null
[ERROR]   AdminDashboardServiceTest$GetOverview.getOverview_last7Days:90 ≫ IllegalState Duplicate key null (attempted merging values com.example.dto.admin.AdminDailyAggRow@76608b05 and com.example.dto.admin.AdminDailyAggRow@6b1777dc)
[ERROR]   AdminDashboardServiceTest$GetOverview.getOverview_today:52 ≫ IllegalState Duplicate key null (attempted merging values com.example.dto.admin.AdminHourlyAggRow@6381ff2 and com.example.dto.admin.AdminHourlyAggRow@2128bcc8)
[ERROR]   AdminOrderServiceTest$editOrder.editOrder_reduceAndDelete:84 ≫ NullPointer Cannot invoke "com.example.mapper.OrderMapper.selectOrderByPrimaryKey(String)" because "<local4>.orderMapper" is null
[ERROR]   AdminOrderServiceTest$editOrder.editOrder_updateOnly:147 ≫ NullPointer Cannot invoke "com.example.mapper.OrderMapper.selectOrderByPrimaryKey(String)" because "<local4>.orderMapper" is null
[INFO] 
[ERROR] Tests run: 450, Failures: 22, Errors: 50, Skipped: 0
[INFO] 
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  02:28 min
[INFO] Finished at: 2025-09-02T15:41:56+09:00
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:3.5.3:test (default-test) on project ecommerce_rest: There are test failures.
[ERROR] 
[ERROR] See C:\pleiades\2024-06\ecommerce\ecommerce_rest\target\surefire-reports for the individual test results.
[ERROR] See dump files (if any exist) [date].dump, [date]-jvmRun[N].dump and [date].dumpstream.
[ERROR] -> [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException
